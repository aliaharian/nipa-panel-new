{"version":3,"file":"static/js/6313.51ea7e74.chunk.js","mappings":"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","sources":["app/redux/basicData/actions.ts","app/redux/basicData/service.ts","app/redux/hooks.ts","app/redux/products/actions.ts","app/redux/products/service.ts","components/sideDialog/SideDialog.tsx","components/tabs/Tabs.tsx","components/form/SwitchButton.tsx","components/form/Switch.tsx","components/formBuilder/Dialogs/AddDropdownItemDialog.tsx","components/formBuilder/editElement/FormBuilderEditElementTab.tsx","components/formBuilder/elements/FormElementItem.tsx","assets/icons/Frame.svg","assets/icons/NumericField.svg","assets/icons/Dropdown.svg","app/redux/forms/actions.ts","components/formBuilder/elements/FormBuilderElementsTab.tsx","components/formBuilder/formConditions/ConditionItem.tsx","components/formBuilder/formConditions/FormBuilderConditionsTab.tsx","components/formBuilder/FormBuilderSidebar.tsx","components/formBuilder/formContent/FormContent.tsx","pages/formBuilder/FormBuilder.tsx"],"sourcesContent":["import { AnyAction, ThunkAction } from \"@reduxjs/toolkit\";\nimport basicDataService from \"./service\";\nimport { RootState } from \"app/redux/store\";\nimport basicDataSlice from \"./slice\";\n\nconst basicDataActions = basicDataSlice.actions;\n\nexport const basicDatasList = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  AnyAction\n> => {\n  return async (dispatch, getState) => {\n    const response = await basicDataService.basicDatasList();\n    dispatch(basicDataActions.basicDatasList(response));\n  };\n};\n\n","/* eslint-disable import/no-anonymous-default-export */\n\nimport { BasicData, BasicDataItem } from \"app/models/basicData\";\nimport Api from \"../../service/Api\";\n\nasync function basicDatasList() {\n  let response = await Api()?.get(\"/basicData\");\n  return response?.data;\n}\nasync function getBasicDataInfo(id: number) {\n  let response = await Api()?.get(\"/basicData/\" + id);\n  return response?.data;\n}\nasync function addBasicDataItem(id: number, data: BasicDataItem) {\n  let response = await Api()?.post(\"/basicData/\" + id + \"/addItem\", data);\n  return response?.data;\n}\nasync function addBasicData(data: BasicData) {\n  let response = await Api()?.post(\"/basicData\", data);\n  return response?.data;\n}\nasync function editBasicDataItem(id: number, data: BasicDataItem) {\n  let response = await Api()?.put(\"/basicData/item/\" + id, data);\n  return response?.data;\n}\nasync function changeBasicDataItemState(id: number) {\n  let response = await Api()?.post(\"/basicData/item/\" + id + \"/updateStatus\");\n  return response?.data;\n}\n\nasync function deleteBasicDataItem(id: number) {\n  let response = await Api()?.delete(\"/basicData/item/\" + id);\n  return response?.data;\n}\nasync function deleteBasicData(id: number) {\n  let response = await Api()?.delete(\"/basicData/\" + id);\n  return response?.data;\n}\n\nexport default {\n  basicDatasList,\n  getBasicDataInfo,\n  addBasicDataItem,\n  changeBasicDataItemState,\n  deleteBasicDataItem,\n  editBasicDataItem,\n  addBasicData,\n  deleteBasicData,\n};\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport type { RootState, AppDispatch } from './store'\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import { AnyAction, ThunkAction } from \"@reduxjs/toolkit\";\nimport productService from \"./service\";\nimport { RootState } from \"app/redux/store\";\nimport productSlice from \"./slice\";\nimport { Product } from \"app/models/product\";\n\nconst productActions = productSlice.actions;\n\nexport const productsList = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  AnyAction\n> => {\n  return async (dispatch, getState) => {\n    const response = await productService.productsList();\n    dispatch(productActions.productsList(response));\n  };\n};\n\nexport const productStepsList = (\n  code: string\n): ThunkAction<void, RootState, unknown, AnyAction> => {\n  return async (dispatch, getState) => {\n    const response = await productService.productStepsList(code);\n    dispatch(productActions.productStepsList(response));\n  };\n};\nexport const getProductStepInfo = (\n  id: number\n): ThunkAction<void, RootState, unknown, AnyAction> => {\n  return async (dispatch, getState) => {\n    if (id === 0) return dispatch(productActions.productStepInfo(null));\n    const response = await productService.productStepInfo(id);\n    dispatch(productActions.productStepInfo(response));\n  };\n};\n\nexport const saveProduct = (\n  product: Product\n): ThunkAction<void, RootState, unknown, AnyAction> => {\n  return async (dispatch, getState) => {\n    const response = await productService.saveProduct(product);\n    dispatch(productActions.saveProduct(response));\n  };\n};\nexport const updateProduct = (\n  productId: number,\n  product: Product\n): ThunkAction<void, RootState, unknown, AnyAction> => {\n  return async (dispatch, getState) => {\n    const response = await productService.updateProduct(productId, product);\n    dispatch(productActions.updateProduct(response));\n    dispatch(productsList());\n  };\n};\n\nexport const setSaveSuccess = (\n  success: boolean\n): ThunkAction<void, RootState, unknown, AnyAction> => {\n  return async (dispatch, getState) => {\n    dispatch(productActions.setSaveSuccess(success));\n  };\n};\n\n//delete product\nexport const deleteProduct = (\n  id: number\n): ThunkAction<void, RootState, unknown, AnyAction> => {\n  return async (dispatch, getState) => {\n    const response = await productService.deleteProduct(id);\n    dispatch(productActions.deleteProduct(response));\n  };\n};\n\nexport const setDeleteSuccess = (\n  success: boolean\n): ThunkAction<void, RootState, unknown, AnyAction> => {\n  return async (dispatch, getState) => {\n    dispatch(productActions.setDeleteSuccess(success));\n  };\n};\n","/* eslint-disable import/no-anonymous-default-export */\n\nimport { Product } from \"app/models/product\";\nimport Api from \"../../../app/service/Api\";\n\nasync function productsList() {\n  let response = await Api()?.get(\"/products\");\n  return response?.data;\n}\nasync function productStepsList(code: string) {\n  let response = await Api()?.get(`/product/${code}/steps`);\n  return response?.data;\n}\nasync function productStepInfo(id: number) {\n  let response = await Api()?.get(`/productSteps/${id}`);\n  return response?.data;\n}\nasync function setProductStepRoles(id: number, roles: number[]) {\n  let response = await Api()?.post(`/product/steps/${id}/setRoles`, {\n    //array to string by ,\n    roles: roles.join(\",\"),\n  });\n  return response?.data;\n}\nasync function saveProduct(product: Product) {\n  let response = await Api()?.post(\"/products\", {\n    name: product.name,\n    code: product.code,\n    custom: product.custom,\n    price: product.price,\n    count_type: product.count_type,\n    status: product.status,\n    description: product.description,\n    images:\n      //array of image hash codes\n      product.images?.map((image) => image.hashCode),\n  });\n  return response?.data;\n}\n\nasync function updateProduct(id: number, product: Product) {\n  let response = await Api()?.put(`/products/${id}`, {\n    name: product.name,\n    code: product.code,\n    custom: product.custom,\n    count_type: product.count_type,\n    price: product.price,\n    status: product.status,\n    description: product.description,\n    images:\n      //array of image hash codes\n      product.images?.map((image) => image.hashCode),\n  });\n  return response?.data;\n}\n//delete product\nasync function deleteProduct(id: number) {\n  let response = await Api()?.delete(`/products/${id}`);\n  return response?.data;\n}\n//get product\nasync function getProduct(id: number) {\n  let response = await Api()?.get(`/products/${id}`);\n  return response?.data;\n}\n//add product condition\nasync function addProductConditions(data: any) {\n  let response = await Api()?.post(`/product/steps/conditions`, {\n    step_id: data.stepId,\n    field_id: data.fieldId,\n    option_id: data.optionId,\n    next_step_id: data.nextStepId,\n  });\n  return response?.data;\n}\n\nexport default {\n  productsList,\n  saveProduct,\n  deleteProduct,\n  productStepsList,\n  productStepInfo,\n  setProductStepRoles,\n  addProductConditions,\n  getProduct,\n  updateProduct,\n};\n","import { Add, CloseCircle } from \"iconsax-react\";\nimport React, { useState } from \"react\";\n\ntype SideDialogProps = {\n  open: boolean;\n  handleClose?: () => void;\n  children?: any;\n  headerIcon?: any;\n  headerText?: string | null;\n};\n\nconst Content = ({ children }: any) => {\n  return <div className=\"h-[calc(100%-97px)] overflow-auto\">{children}</div>;\n};\n\nconst Footer = ({ children }: any) => {\n  return <div>{children}</div>;\n};\n\nconst SideDialog = ({\n  open,\n  handleClose,\n  children,\n  headerIcon,\n  headerText = \"\",\n}: SideDialogProps) => {\n  const [rand, setRand] = useState<number>(Math.floor(Math.random() * 1000));\n  const _handleClose = (\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>\n  ) => {\n    if ((event.target as HTMLInputElement).id === \"dialog\" + rand) {\n      handleClose?.();\n    }\n  };\n  return (\n    <div\n      id={`dialog${rand}`}\n      onClick={_handleClose}\n      className={`w-full h-full fixed bg-black-60 rtl:left-0 ltr:right-0 top-0 transition-all ${\n        !open\n          ? \"pointer-events-none opacity-0 z-0 delay-300\"\n          : \"opacity-1 z-[999] delay-200\"\n      }`}\n    >\n      <div\n        className={`h-full w-[60%] min-w-[900px] bg-white transition-all\t${\n          open ? \"translate-x-0 delay-300\" : \"ltr:-translate-x-[100%] rtl:translate-x-[100%] delay-200\"\n        }`}\n      >\n        {headerText && (\n          <div className=\"flex w-full px-8 py-6 items-center justify-between border-b border-text-300\">\n            <div className=\"flex items-center\">\n              <div className=\"me-3 w-9 h-9 rounded-[12px] bg-primary-main flex items-center justify-center text-white\">\n                {headerIcon}\n              </div>\n              <p className=\"text-[20px] leading-[20px] font-bold\">\n                {headerText}\n              </p>\n            </div>\n            <div className=\"w-9 h-9\">\n              <button onClick={handleClose} className=\"w-9 h-9\">\n                <CloseCircle className=\"w-9 h-9\" />\n              </button>\n            </div>\n          </div>\n        )}\n        <div className=\"flex justify-between w-full flex-col h-[calc(100%-85px)]\">\n          {React.Children.map(children, (child) => {\n            if (child.type === Content) {\n              return <Content>{child.props.children}</Content>;\n            } else if (child.type === Footer) {\n              return <Footer>{child.props.children}</Footer>;\n            }\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nSideDialog.Content = Content;\nSideDialog.Footer = Footer;\n\nexport default SideDialog;\n","type TabsProps = {\n  items: { label: string; value: string }[];\n  value: string;\n  handleChange: (value: string) => void;\n};\nconst Tabs = ({ items, value, handleChange }: TabsProps) => {\n  return (\n    <div className=\"mx-auto w-full flex px-3 items-center justify-between border-b mb-[19px] border-text-300\">\n      {items.map((item: any,index:number) => (\n        <div\n        key={index}\n          className=\"mx-1 cursor-pointer min-w-[70px] w-1/3 px-[10px] 2xl:px-[6px] relative flex items-center justify-center\"\n          onClick={() => handleChange(item.value)}\n        >\n          <p\n            className={`mb-[20px] transition-all text-[14px] 2xl:text-[12px] leading-[20px] ${\n              item.value === value ? \"text-primary-main font-black 2xl:font-semibold\" : \"text-text-500\"\n            }`}\n          >\n            {item.label}\n          </p>\n          <div\n            className={`w-full ${\n              item.value === value ? \"h-[3px] rounded-t-[2px]\" : \"h-0\"\n            } bg-primary-main transition-all absolute bottom-0`}\n          ></div>\n        </div>\n      ))}\n    </div>\n  );\n};\nexport default Tabs;\n","import { Switch } from \"@mui/material\";\nimport { useState } from \"react\";\ntype SwitchButtonProps = {\n  checked: boolean;\n  setChecked: (checked: boolean) => void;\n};\n\nconst SwitchButton = ({ checked, setChecked }: SwitchButtonProps) => {\n  const handleCheck = () => {\n    setChecked(!checked);\n  };\n  return (\n    <div\n      onClick={handleCheck}\n      className={`w-[36px] h-[20px] rounded-[10px] border ${\n        checked ? \"border-primary-main\" : \"border-text-500\"\n      } flex items-center ${\n        checked ? \"justify-start\" : \"justify-end\"\n      } p-[2px] cursor-pointer`}\n    >\n      <div\n        className={`w-4 h-4 ${\n          checked ? \"bg-primary-main\" : \"bg-text-500\"\n        } rounded-full`}\n      ></div>\n    </div>\n  );\n};\nexport default SwitchButton;\n","import SwitchButton from \"./SwitchButton\";\n\ntype SwitchProps = {\n  checked: boolean;\n  setChecked: (checked: boolean) => void;\n  label?: string;\n};\nconst Switch = ({ checked, setChecked, label }: SwitchProps) => {\n  return (\n    <div className=\"w-full p-[8px] h-[48px] flex items-center justify-between border border-text-400 rounded-[8px] transition-al\">\n      <p className=\"cursor-pointer text-text-800 text-[14px]\" onClick={()=>setChecked(!checked)}>{label}</p>\n      <SwitchButton checked={checked} setChecked={setChecked} />\n    </div>\n  );\n};\nexport default Switch;\n","import { Add } from \"iconsax-react\";\nimport SideDialog from \"../../sideDialog/SideDialog\";\nimport TextField from \"../../form/TextField\";\nimport { useFormik } from \"formik\";\nimport { FormField, FormOption } from \"../../../app/models/form\";\nimport Button from \"../../button/Button\";\nimport { useEffect } from \"react\";\n\nexport type initialValues = {\n  index?: number;\n  fieldName: string;\n  fieldValue: string;\n  id?: number;\n  server_id?: number;\n};\n\ntype AddDropdownItemDialogProps = {\n  open: boolean;\n  handleClose?: () => void;\n  field: FormField;\n  handleAddOption: (item: initialValues) => void;\n  selectedOption?: FormOption;\n};\nconst AddDropdownItemDialog = ({\n  open,\n  handleClose,\n  field,\n  handleAddOption,\n  selectedOption,\n}: AddDropdownItemDialogProps) => {\n  const initialValues: initialValues = {\n    index: selectedOption?.index || -1,\n    id: selectedOption?.index || 0,\n    fieldName: selectedOption?.label || \"\",\n    fieldValue: selectedOption?.value || \"\",\n    server_id: selectedOption?.server_id,\n  };\n\n  const formik = useFormik({\n    initialValues,\n    // validationSchema,\n    onSubmit: (values) => {\n      console.log(\"values\", values);\n      handleAddOption(values);\n      formik.setFieldValue(\"fieldName\", \"\");\n      formik.setFieldValue(\"fieldValue\", \"\");\n      formik.setFieldValue(\"index\", -1);\n      formik.setFieldValue(\"server_id\", -1);\n\n      handleClose?.();\n    },\n  });\n  useEffect(() => {\n    if (selectedOption) {\n      formik.setFieldValue(\"fieldName\", selectedOption.label);\n      formik.setFieldValue(\"fieldValue\", selectedOption.value);\n      formik.setFieldValue(\"index\", selectedOption.index);\n      formik.setFieldValue(\"id\", selectedOption.id);\n      formik.setFieldValue(\"server_id\", selectedOption.server_id);\n    }\n  }, [selectedOption]);\n\n  const handleSubmitForm = () => {\n    formik.submitForm();\n  };\n  const _handleClose = () => {\n    handleClose?.();\n    formik.setFieldValue(\"fieldName\", \"\");\n    formik.setFieldValue(\"fieldValue\", \"\");\n    formik.setFieldValue(\"index\", -1);\n  };\n  return (\n    <SideDialog\n      headerText={`${selectedOption ? \"ویرایش\" : \"افزودن\"} ${field.label}`}\n      headerIcon={<Add />}\n      open={open}\n      handleClose={_handleClose}\n    >\n      <SideDialog.Content>\n        <div className=\"p-7\">\n          <form onSubmit={formik.handleSubmit} className=\"w-full\">\n            <div className=\"mt-7 w-full grid grid-cols-1 gap-x-5 gap-y-7\">\n              <TextField\n                name=\"fieldName\"\n                label=\"عنوان فیلد\"\n                type=\"text\"\n                placeholder=\"عنوان فیلد را وارد نمایید\"\n                formik={formik}\n              />\n              <TextField\n                name=\"fieldValue\"\n                label=\"نامک فیلد\"\n                type=\"text\"\n                placeholder=\"نامک فیلد را وارد نمایید\"\n                formik={formik}\n              />\n            </div>\n          </form>\n        </div>\n      </SideDialog.Content>\n      <SideDialog.Footer>\n        <div className=\"mt-20 px-7 flex justify-between items-center py-[25px] border border-text-300\">\n          <div className=\"w-[126px]\">\n            <Button text=\"انصراف\" onClick={_handleClose} gray />\n          </div>\n          <div className=\"w-[182px]\">\n            <Button\n              text={`${selectedOption ? \"ویرایش\" : \"افزودن\"} ${field.label}`}\n              onClick={handleSubmitForm}\n            />\n          </div>\n        </div>\n      </SideDialog.Footer>\n    </SideDialog>\n  );\n};\n\nexport default AddDropdownItemDialog;\n","import { Add, Edit2, Trash } from \"iconsax-react\";\nimport { useEffect, useState } from \"react\";\nimport { FormField, FormOption } from \"../../../app/models/form\";\nimport Button from \"../../button/Button\";\nimport Switch from \"../../form/Switch\";\nimport TextField from \"../../form/TextField\";\nimport AddDropdownItemDialog, {\n  initialValues,\n} from \"../Dialogs/AddDropdownItemDialog\";\nimport { useTranslation } from \"react-i18next\";\nimport DropDown from \"components/form/Dropdown\";\nimport { useAppDispatch, useAppSelector } from \"app/redux/hooks\";\nimport { basicDatasList } from \"app/redux/basicData/actions\";\n\ntype FormBuilderEditElementTabProps = {\n  selectedField?: FormField;\n  handleUpdateField: (field: FormField) => void;\n  handleAddOption: (id: number, option: FormOption) => void;\n  handleUpdateOption: (id: number, option: FormOption, index: number) => void;\n  handleDeleteOption: (\n    id: number,\n    option: string,\n    server_id?: number | null\n  ) => void;\n  onlyImage: boolean;\n  setOnlyImage: (onlyImage: boolean) => void;\n  required: boolean;\n  setRequired: (required: boolean) => void;\n  fromBasicData: boolean;\n  setFromBasicData: (required: boolean) => void;\n};\n\nconst SelectWidth = ({ selectedField, _handleUpdateField }: any) => {\n  return (\n    <DropDown\n      className=\"group mb-[30px]\"\n      name={\"width\"}\n      label={\"عرض\"}\n      options={[\"25\", \"50\", \"75\", \"100\"].map((data) => {\n        return {\n          label: <p>{data}%</p>,\n          value: data.toString(),\n        };\n      })}\n      placeholder={\"انتخاب کنید\"}\n      formik={{\n        handleChange: (e: any) => _handleUpdateField(e),\n        values: {\n          width: selectedField.width.toString(),\n        },\n      }}\n    />\n  );\n};\nconst FormBuilderEditElementTab = ({\n  selectedField,\n  handleUpdateField,\n  handleAddOption,\n  handleDeleteOption,\n  handleUpdateOption,\n  onlyImage,\n  setOnlyImage,\n  required,\n  setRequired,\n  fromBasicData,\n  setFromBasicData,\n}: FormBuilderEditElementTabProps) => {\n  const [openAddDropdownItemDialog, setOpenAddDropdownItemDialog] =\n    useState<boolean>(false);\n  const [selectedOption, setSelectedOption] = useState<FormOption>();\n  const basicDatas = useAppSelector((state) => state.basicData.basicDatas);\n  const { t } = useTranslation();\n  const Dispatch = useAppDispatch();\n  console.log(\"selected\", selectedField);\n  const _handleUpdateField = (e: any) => {\n    if (selectedField) {\n      let tmp: FormField = { ...selectedField };\n      if (e.target.name == \"basic_data\") {\n        let basicDataTmp = basicDatas?.find((x) => x.id == e.target.value);\n        console.log(\"basicDataTmp\", basicDataTmp);\n\n        if (basicDataTmp) {\n          tmp = {\n            ...tmp,\n            [e.target.name]: basicDataTmp,\n            basic_data_id: basicDataTmp?.id,\n            basicDataItems: basicDataTmp.items.map((item) => ({\n              id: item.id,\n              label: <p>{item.name}</p>,\n              server_id: item.id,\n              value: item.code,\n            })),\n          };\n          handleUpdateField({ ...tmp });\n        }\n      } else {\n        tmp = {\n          ...tmp,\n          [e.target.name]: e.target.value,\n        };\n        handleUpdateField({ ...tmp });\n      }\n    }\n  };\n  useEffect(() => {\n    !basicDatas && Dispatch(basicDatasList());\n  }, []);\n  const _handleAddOption = (item: initialValues, update?: boolean) => {\n    if (selectedField) {\n      if (item.index !== undefined && item.index !== -1) {\n        handleUpdateOption(\n          selectedField.id,\n          {\n            label: <p>{item.fieldName}</p>,\n            value: item.fieldValue.toString(),\n            id: item.id,\n            server_id: item.server_id,\n          },\n          item.index\n        );\n      } else {\n        handleAddOption(selectedField.id, {\n          label: <p>{item.fieldName}</p>,\n          value: item.fieldValue.toString(),\n        });\n      }\n    }\n  };\n  const _handleOpenAddOptionDialog = (item?: FormOption) => {\n    console.log(\"ite\", item);\n    if (item?.label) {\n      setSelectedOption({\n        index: selectedField?.options?.findIndex(\n          (option) => option.value === item.value\n        ),\n        value: item.value,\n        label: item.label.props.children,\n        id: item.id,\n        server_id: item.server_id,\n      });\n    }\n    if (selectedField && selectedField?.options) {\n      setOpenAddDropdownItemDialog(true);\n    }\n  };\n  const _handleCloseAddOptionDialog = () => {\n    setSelectedOption(undefined);\n    setOpenAddDropdownItemDialog(false);\n  };\n  const _handleDeleteOption = (option: FormOption) => {\n    if (selectedField) {\n      handleDeleteOption(selectedField.id, option.value, option.server_id);\n    }\n  };\n  return (\n    <div>\n      <div className=\"w-full flex flex-col items-start justify-start px-4\">\n        {!selectedField ? (\n          <p>لطفا یک فیلد را برای ویرایش انتخاب کنید</p>\n        ) : selectedField.fromRelatedFields ? (\n          <SelectWidth\n            selectedField={selectedField}\n            _handleUpdateField={_handleUpdateField}\n          />\n        ) : selectedField.readOnly ? (\n          <SelectWidth\n            selectedField={selectedField}\n            _handleUpdateField={_handleUpdateField}\n          />\n        ) : (\n          <>\n            <p className=\"text-text-450 mb-[20px]\">\n              نوع فیلد: {selectedField.type}\n            </p>\n            <SelectWidth\n              selectedField={selectedField}\n              _handleUpdateField={_handleUpdateField}\n            />\n            <TextField\n              className=\"mb-[30px]\"\n              name={\"label\"}\n              label={\"عنوان فیلد\"}\n              type=\"text\"\n              placeholder={\"عنوان فیلد\"}\n              formik={{\n                handleChange: (e: any) => _handleUpdateField(e),\n                values: {\n                  label: selectedField.label,\n                },\n              }}\n            />\n            <TextField\n              className=\"mb-[30px]\"\n              name={\"name\"}\n              label={\"نامک فیلد\"}\n              type=\"text\"\n              placeholder={\"نامک فیلد\"}\n              formik={{\n                handleChange: (e: any) => _handleUpdateField(e),\n                values: {\n                  name: selectedField.name,\n                },\n              }}\n            />\n            <TextField\n              className=\"group\"\n              name={\"placeholder\"}\n              label={\"متن جایگزین\"}\n              type=\"text\"\n              placeholder={\"متن جایگزین\"}\n              formik={{\n                handleChange: (e: any) => _handleUpdateField(e),\n                values: {\n                  placeholder: selectedField.placeholder,\n                },\n              }}\n            />\n            <div className=\"w-full mt-[30px]\">\n              <Switch\n                checked={required}\n                setChecked={setRequired}\n                label={\"این فیلد اجباری می باشد\"}\n              />\n            </div>\n\n            {selectedField.options ? (\n              <div className=\"w-full mt-[30px]\">\n                <Switch\n                  checked={fromBasicData}\n                  setChecked={setFromBasicData}\n                  label={t(\"fromBasicDatas\") || \"\"}\n                />\n              </div>\n            ) : (\n              \"\"\n            )}\n\n            {selectedField.options && fromBasicData ? (\n              <DropDown\n                className=\"group mt-[30px]\"\n                name={\"basic_data\"}\n                label={\"داده اولیه\"}\n                options={\n                  basicDatas\n                    ? basicDatas.map((data) => {\n                        return {\n                          label: <p>{data.name}</p>,\n                          value: data.id.toString(),\n                        };\n                      })\n                    : []\n                }\n                placeholder={\"انتخاب کنید\"}\n                formik={{\n                  handleChange: (e: any) => _handleUpdateField(e),\n                  values: {\n                    basic_data: selectedField.basic_data?.id.toString(),\n                  },\n                }}\n              />\n            ) : (\n              \"\"\n            )}\n\n            {selectedField.type === \"uploadFile\" && (\n              <div className=\"w-full mt-[30px]\">\n                <Switch\n                  checked={onlyImage}\n                  setChecked={setOnlyImage}\n                  label={t(\"onlyImage\") || \"\"}\n                />\n              </div>\n            )}\n\n            {selectedField.options && !fromBasicData ? (\n              <AddDropdownItemDialog\n                open={openAddDropdownItemDialog}\n                handleClose={_handleCloseAddOptionDialog}\n                field={selectedField}\n                handleAddOption={_handleAddOption}\n                selectedOption={selectedOption}\n              />\n            ) : (\n              \"\"\n            )}\n\n            {selectedField.options && !fromBasicData ? (\n              <div className=\"w-full mt-[25px]\">\n                {selectedField.options.map(\n                  (option: FormOption, index: number) => (\n                    <div\n                      key={index}\n                      className=\"mb-[10px] h-14 text-[14px] font-semibold flex items-center rounded-[8px] px-[18px] justify-between bg-text-250\"\n                    >\n                      <p>{option.label}</p>\n                      <div className=\"flex\">\n                        <div\n                          onClick={() => _handleOpenAddOptionDialog(option)}\n                          className=\"w-[24px] h-[24px] me-1 cursor-pointer hover:bg-text-300 flex items-center justify-center rounded-[4px]\"\n                        >\n                          <Edit2 className=\"w-[20px] h-[20px]\" />\n                        </div>\n                        <div\n                          onClick={() => _handleDeleteOption(option)}\n                          className=\"w-[24px] h-[24px] ms-1 cursor-pointer hover:bg-text-300 flex items-center justify-center rounded-[4px]\"\n                        >\n                          <Trash className=\"w-[20px] h-[20px]\" />\n                        </div>\n                      </div>\n                    </div>\n                  )\n                )}\n                <div className=\"w-full flex items-center justify-end\">\n                  <div className=\"w-[111px] mt-[30px] float-left\">\n                    <Button\n                      icon={<Add />}\n                      text=\"افزودن\"\n                      onClick={_handleOpenAddOptionDialog}\n                    />\n                  </div>\n                </div>\n              </div>\n            ) : (\n              \"\"\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default FormBuilderEditElementTab;\n","import { ReactElement } from \"react\";\n\ntype FormElementItemProps = {\n  icon: ReactElement;\n  label: string;\n  onClick: (element: any, id: number) => void;\n  type: string;\n  id: number;\n};\nconst FormElementItem = ({\n  icon,\n  label,\n  onClick,\n  type,\n  id,\n}: FormElementItemProps) => {\n  return (\n    <div\n      onClick={() => onClick(type, id)}\n      className=\"w-full h-[80px] flex flex-col items-center justify-center bg-text-200 rounded-[6px] cursor-pointer\"\n    >\n      <div>{icon}</div>\n      <p className=\"text-[12px] mt-[10px] text-text-700 font-medium\">{label}</p>\n    </div>\n  );\n};\nexport default FormElementItem;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgFrame(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26,\n    height: 26,\n    viewBox: \"0 0 26 26\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.666 8.666H13M8.666 17.332H13M8.666 13h8.667M9.75 23.833h6.5c5.416 0 7.583-2.167 7.583-7.584v-6.5c0-5.416-2.166-7.583-7.583-7.583h-6.5c-5.417 0-7.583 2.167-7.583 7.583v6.5c0 5.417 2.166 7.584 7.583 7.584z\",\n    stroke: \"#303030\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgFrame);\nexport default __webpack_public_path__ + \"static/media/Frame.3065523bd1b024b62004be75ca6dba22.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgNumericField(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 39,\n    height: 24,\n    viewBox: \"0 0 39 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.027 23h11.165c9.305 0 13.028-2.2 13.028-7.7V8.7c0-5.5-3.723-7.7-13.028-7.7H14.027C4.722 1 1 3.2 1 8.7v6.6C1 20.8 4.722 23 14.027 23z\",\n    stroke: \"#303030\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.62 14.227c0-.344-.002-.693-.007-1.045a22.997 22.997 0 0 0-.031-1.049c-.016-.346-.04-.687-.07-1.02a10.488 10.488 0 0 0-.134-.96 7.31 7.31 0 0 0-.207-.868 4.177 4.177 0 0 0-.305-.744l.998-.622c.135.211.249.433.34.665.091.233.167.474.227.724.063.248.113.504.153.767.041.261.08.527.117.799.026.208.047.434.063.676.015.243.027.49.035.74.01.25.017.498.02.744l.003.688v.505H7.621zM21.026 8.013c.03.188.051.36.067.517.016.156.023.3.023.434 0 .248-.036.493-.109.736-.073.24-.183.456-.329.65-.143.19-.323.345-.54.465a1.56 1.56 0 0 1-.755.176c-.068 0-.134-.001-.2-.004a2.127 2.127 0 0 1-.183-.024 23.971 23.971 0 0 1 .11 1.71c.007.29.01.574.01.854.003.279.005.54.005.786h-1.201c0-.438-.006-.88-.016-1.323a20.168 20.168 0 0 0-.063-1.287 12.676 12.676 0 0 0-.14-1.174 5.868 5.868 0 0 0-.251-.994l-.114-.274a3.357 3.357 0 0 0-.176-.387 4.952 4.952 0 0 0-.101-.192l1.01-.642a3.706 3.706 0 0 1 .25.458c.036.073.073.154.11.243l.124.297c.047.11.096.212.145.305.052.094.111.175.176.243a.764.764 0 0 0 .22.16.665.665 0 0 0 .285.051.48.48 0 0 0 .31-.094.498.498 0 0 0 .156-.223.923.923 0 0 0 .055-.3 7.02 7.02 0 0 0 .007-.326c0-.099-.006-.195-.02-.29a6.779 6.779 0 0 0-.046-.34l1.181-.211zM33.377 8.005l.078.43c.02.118.036.222.047.314a3.253 3.253 0 0 1 .035.47c0 .2-.026.4-.078.598a1.652 1.652 0 0 1-.247.536 1.3 1.3 0 0 1-.422.383c-.17.1-.372.15-.607.15a1.387 1.387 0 0 1-.693-.176 1.2 1.2 0 0 1-.23-.177c-.134.144-.28.25-.439.32a1.412 1.412 0 0 1-.563.103h-.145a1.181 1.181 0 0 1-.133-.016c.029.245.052.511.07.798.019.287.032.58.04.877.01.297.017.592.02.884.004.29.007.56.007.81h-1.213a11.068 11.068 0 0 0 .012-.47c.002-.09.004-.178.004-.262a7.2 7.2 0 0 0 .003-.207 23.603 23.603 0 0 0-.05-1.518c-.021-.272-.051-.546-.09-.822a8.511 8.511 0 0 0-.15-.818 6.242 6.242 0 0 0-.226-.779c-.091-.25-.2-.486-.325-.708l1.068-.622a3.06 3.06 0 0 1 .215.391c.04.076.081.163.126.263.044.096.095.21.152.34.058.133.106.243.145.329.042.083.084.15.125.2.042.049.09.084.141.105.053.018.12.027.204.027a.268.268 0 0 0 .176-.055.362.362 0 0 0 .11-.144.745.745 0 0 0 .058-.216c.01-.08.016-.164.016-.25 0-.096-.005-.2-.016-.31l-.039-.406 1.104-.157.027.263c.01.099.023.203.039.313.016.107.035.214.059.32.023.107.052.203.086.286.036.084.08.151.129.204.05.052.108.078.176.078a.147.147 0 0 0 .114-.047.362.362 0 0 0 .066-.121.75.75 0 0 0 .031-.153 1.05 1.05 0 0 0 .008-.266 2.124 2.124 0 0 0-.02-.168l-.042-.27a29.256 29.256 0 0 0-.075-.43l1.111-.224z\",\n    fill: \"#303030\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumericField);\nexport default __webpack_public_path__ + \"static/media/NumericField.5aaa2f830115a4867179a104cf7d2f9b.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgDropdown(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 39,\n    height: 24,\n    viewBox: \"0 0 39 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.027 23h11.165c9.305 0 13.028-2.2 13.028-7.7V8.7c0-5.5-3.723-7.7-13.028-7.7H14.027C4.722 1 1 3.2 1 8.7v6.6C1 20.8 4.722 23 14.027 23z\",\n    stroke: \"#303030\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m6 10.065 3.883 3.872 3.883-3.872\",\n    stroke: \"#303030\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropdown);\nexport default __webpack_public_path__ + \"static/media/Dropdown.4e6a7ad2d24d2f7fdc16c009e562310e.svg\";\nexport { ForwardRef as ReactComponent };","import { AnyAction, ThunkAction } from \"@reduxjs/toolkit\";\nimport formSlice from \"./slice\";\nimport { RootState } from \"../store\";\nimport formService from \"./service\";\n\nconst formActions = formSlice.actions;\n\nexport const getFormFieldTypes = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  AnyAction\n> => {\n  return async (dispatch, getState) => {\n    const response = await formService.getFormFieldTypes();\n    dispatch(formActions.getFormFieldTypes(response));\n  };\n};\n","import { ExportCurve, TextBlock, TickSquare } from \"iconsax-react\";\nimport FormElementItem from \"./FormElementItem\";\nimport { ReactComponent as Frame } from \"../../../assets/icons/Frame.svg\";\nimport { ReactComponent as NumericField } from \"../../../assets/icons/NumericField.svg\";\nimport { ReactComponent as Dropdown } from \"../../../assets/icons/Dropdown.svg\";\nimport { useAppDispatch, useAppSelector } from \"app/redux/hooks\";\nimport { useEffect } from \"react\";\nimport { getFormFieldTypes } from \"app/redux/forms/actions\";\nimport { Skeleton } from \"@mui/material\";\nimport { FormField } from \"app/models/form\";\nimport DropDown from \"components/form/Dropdown\";\nimport { useTranslation } from \"react-i18next\";\nimport { DateRange } from \"@mui/icons-material\";\n\ntype FormBuilderElementsTabProps = {\n  addElement(element: any, id: number, fromRelatedFields?: boolean): void;\n  relatedFields?: FormField[];\n};\n\nconst FormBuilderElementsTab = ({\n  addElement,\n  relatedFields,\n}: FormBuilderElementsTabProps) => {\n  const { t } = useTranslation();\n  const formFieldTypes = useAppSelector((state) => state.forms.formFieldTypes);\n  const Dispatch = useAppDispatch();\n  useEffect(() => {\n    if (!formFieldTypes) {\n      Dispatch(getFormFieldTypes());\n    }\n  }, []);\n  const parseIcon = (icon: string): any => {\n    switch (icon) {\n      case \"TextBlock\":\n        return <TextBlock />;\n      case \"Frame\":\n        return <Frame />;\n      case \"NumericField\":\n        return <NumericField />;\n      case \"ExportCurve\":\n        return <ExportCurve />;\n      case \"Dropdown\":\n        return <Dropdown />;\n      case \"TickSquare\":\n        return <TickSquare />;\n      case \"DatePicker\":\n        return <DateRange />;\n      default:\n        return <TextBlock />;\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"grid grid-cols-3 gap-[10px] px-4\">\n        {formFieldTypes ? (\n          formFieldTypes.map((item, index) => (\n            <FormElementItem\n              key={item.id}\n              id={item.id}\n              type={item.type}\n              onClick={addElement}\n              icon={parseIcon(item.icon)}\n              label={item.label}\n            />\n          ))\n        ) : (\n          <>\n            {/* repeat 9 in loop skeleton */}\n            {Array.from(Array(9).keys()).map((item, index) => (\n              <Skeleton\n                key={index}\n                variant=\"rounded\"\n                width={80}\n                height={80}\n                animation=\"wave\"\n              />\n            ))}\n          </>\n        )}\n        {/* <FormElementItem\n          type=\"text\"\n          onClick={addElement}\n          icon={<TextBlock />}\n          label={\"متن کوتاه\"}\n        />\n        <FormElementItem\n          type=\"textArea\"\n          onClick={addElement}\n          icon={<Frame />}\n          label={\"متن بلند\"}\n        />\n        <FormElementItem\n          type=\"number\"\n          onClick={addElement}\n          icon={<NumericField />}\n          label={\"فیلد عددی\"}\n        />\n        <FormElementItem\n          type=\"uploadFile\"\n          onClick={addElement}\n          icon={<ExportCurve />}\n          label={\"آپلود فایل\"}\n        />\n        <FormElementItem\n          type=\"dropDown\"\n          onClick={addElement}\n          icon={<Dropdown />}\n          label={\"دراپ داون\"}\n        />\n        <FormElementItem\n          type=\"checkbox\"\n          onClick={addElement}\n          icon={<TickSquare />}\n          label={\"چند انتخابی\"}\n        /> */}\n      </div>\n      <div className=\"px-4\">\n        {relatedFields ? (\n          <DropDown\n            className=\"group mt-[30px]\"\n            name={\"relatedFields\"}\n            label={t(\"selectFromRelatedFields\")}\n            options={\n              relatedFields\n                ? relatedFields.map((data) => {\n                    return {\n                      label: (\n                        <p>\n                          {data.label} {t(\"fromStep\")}{\" \"}\n                          {data.form?.step?.step_name}\n                        </p>\n                      ),\n                      value: data.server_id?.toString(),\n                      type: data.type,\n                    };\n                  })\n                : []\n            }\n            placeholder={\"انتخاب کنید\"}\n            formik={{\n              handleChange: (e: any) => {\n                console.log(\"e\", e);\n                addElement(e.target.type, e.target.value, true);\n              },\n              values: {\n                relatedFields: 0,\n                // basic_data: selectedField.basic_data?.id.toString(),\n              },\n            }}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n    </div>\n  );\n};\nexport default FormBuilderElementsTab;\n","import { Button } from \"@mui/material\";\nimport { ArchiveTick, Trash } from \"iconsax-react\";\nimport { useEffect, useState } from \"react\";\nimport {\n  Condition,\n  FormField,\n  FormOption,\n  selectedFieldType,\n} from \"../../../app/models/form\";\nimport DropDown from \"../../form/Dropdown\";\nimport { useTranslation } from \"react-i18next\";\n\ntype ConditionItemProps = {\n  conditionalfields: FormField[];\n  formElements: FormField[];\n  condition: Condition;\n  setCondition: (condition: Condition) => void;\n  deleteCondition: (condition: number) => void;\n  saveCondition: (condition: number) => void;\n};\n\nconst ConditionItem = ({\n  conditionalfields,\n  formElements,\n  condition,\n  setCondition,\n  deleteCondition,\n  saveCondition,\n}: ConditionItemProps) => {\n  const [selectedField, setSelectedField] = useState<selectedFieldType>();\n  const [selectedFieldValue, setSelectedFieldValue] = useState<FormOption[]>(\n    []\n  );\n  const [operation, setOperation] = useState<FormOption>();\n  const [relationField, setRelationField] = useState<selectedFieldType>();\n  const { t } = useTranslation();\n  const handleDeleteItem = (item: any) => {\n    let index = selectedFieldValue.findIndex((x) => x.value == item.value);\n    if (index > -1) {\n      let newSelectedFieldValue = selectedFieldValue;\n      newSelectedFieldValue.splice(index, 1);\n      setSelectedFieldValue([...newSelectedFieldValue]);\n      updateConditions({\n        ...condition,\n        values: [...newSelectedFieldValue],\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (\n      condition.field &&\n      condition.operation &&\n      condition.relationField &&\n      condition.values\n    ) {\n      let selectedFieldTmp = conditionalfields.find(\n        (x) => x.id.toString() == condition.field\n      );\n\n      let relationFieldTmp = formElements.find(\n        (x) => x.id.toString() == condition.relationField\n      );\n      // let selectedFieldValueTmp = selectedFieldTmp?.options;\n\n      if (selectedFieldTmp && relationFieldTmp && condition.values) {\n        console.log();\n        setSelectedField({\n          label: selectedFieldTmp.label,\n          value: selectedFieldTmp.id.toString(),\n          options: selectedFieldTmp?.basicDataItems || selectedFieldTmp.options,\n        });\n\n        //its static\n        setOperation(condition.operation);\n\n        setRelationField({\n          label: relationFieldTmp.label,\n          value: relationFieldTmp.id.toString(),\n        });\n\n        setSelectedFieldValue(condition.values);\n      }\n    }\n  }, [condition, conditionalfields, formElements]);\n\n  const updateConditions = (condition: Condition) => {\n    let newCondition: Condition = {\n      ...condition,\n      saved: false,\n    };\n    setCondition({ ...newCondition });\n  };\n\n  //delete condition\n  const handleDeleteCondition = () => {\n    deleteCondition(condition.id);\n  };\n\n  //save condition\n  const handleSaveCondition = () => {\n    saveCondition(condition.id);\n  };\n  const handleChangeField = (e: any) => {\n    let selectedField = conditionalfields.find(\n      (x) => x.id.toString() == e.target.value\n    );\n    console.log(\"seleeee\", selectedField);\n\n    setSelectedField({\n      ...e,\n      options: selectedField?.basicDataItems || selectedField?.options,\n    });\n\n    setSelectedFieldValue([]);\n    updateConditions({\n      ...condition,\n      field: e.target.value,\n    });\n  };\n\n  const handleChangeOperation = (e: any) => {\n    setOperation(e.target);\n    updateConditions({ ...condition, operation: e.target });\n  };\n\n  const handleChangeRelationField = (e: any) => {\n    const field = formElements.find((x) => x.id.toString() == e.target.value);\n    if (field) {\n      setRelationField({ label: field.label, value: field.id.toString() });\n      updateConditions({\n        ...condition,\n        relationField: field.id,\n      });\n    }\n  };\n\n  const handleChangeValue = (e: any) => {\n    const options = selectedField?.options;\n    let index = selectedFieldValue.findIndex((x) => x.id == e.target.value);\n    if (index > -1) {\n    } else {\n      setSelectedFieldValue([\n        ...selectedFieldValue,\n        {\n          ...options.find((x: any) => x.id == e.target.value),\n        },\n      ]);\n      updateConditions({\n        ...condition,\n        values: [\n          ...selectedFieldValue,\n          {\n            ...options.find((x: any) => x.id == e.target.value),\n          },\n        ],\n      });\n    }\n  };\n  console.log(\"selecccc\", selectedField);\n  return (\n    <div className=\"w-full flex flex-col items-start justify-start px-4 border-b pb-[30px] border-text-400 mb-[18px]\">\n      <DropDown\n        className=\"group mb-[30px]\"\n        name={\"condField\"}\n        label={\"فیلد\"}\n        options={\n          conditionalfields &&\n          conditionalfields.map((field) => {\n            return {\n              label: <p>{field.label}</p>,\n              value: field.id.toString(),\n            };\n          })\n        }\n        placeholder={\"انتخاب کنید\"}\n        formik={{\n          handleChange: handleChangeField,\n          values: {\n            condField: selectedField?.value,\n          },\n        }}\n      />\n      <DropDown\n        className={`group ${selectedFieldValue.length > 0 ? \"mb-[15px]\" : \"mb-[30px]\"\n          }`}\n        name={\"condFieldValue\"}\n        label={\"برابر\"}\n        options={\n          selectedField &&\n          selectedField?.options?.map((option: any) => {\n            return {\n              label: option.label,\n              value: option.id,\n            };\n          })\n        }\n        placeholder={\n          selectedField ? \"انتخاب کنید\" : \"ابتدا فیلد را انتخاب کنید\"\n        }\n        formik={{\n          handleChange: handleChangeValue,\n          values: {\n            condFieldValue: null,\n          },\n        }}\n      />\n      {selectedFieldValue.length > 0 && (\n        <div className=\"flex items-center justify-start w-full mb-[30px]\">\n          {selectedFieldValue.map((item, index) => {\n            return (\n              <div\n                key={index}\n                className=\"w-[97px] h-[48px] rounded-[24px] border border-text-400 flex items-center justify-between pe-2 ps-4 me-2\"\n              >\n                <p className=\"text-[14px]\">{item.label}</p>\n                <div\n                  onClick={() => handleDeleteItem(item)}\n                  className=\"cursor-pointer\"\n                >\n                  <Trash className=\"w-[20px] h-[20px]\" />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n      <DropDown\n        className=\"group mb-[30px]\"\n        name={\"operation\"}\n        label={\"عملیات\"}\n        options={[\n          { label: <p>نمایش</p>, value: \"show\" },\n          { label: <p>عدم نمایش</p>, value: \"hide\" },\n        ]}\n        placeholder={\"عملیات\"}\n        formik={{\n          handleChange: handleChangeOperation,\n          values: {\n            operation: operation?.value,\n          },\n        }}\n      />\n      <DropDown\n        className=\"group mb-[30px]\"\n        name={\"relationField\"}\n        label={\"فیلد وابسته\"}\n        options={\n          formElements &&\n          selectedField &&\n          //form elements minus selected field\n          formElements\n            .filter((x) => x.id.toString() != selectedField.value)\n            .map((field) => {\n              return {\n                label: <p>{field.label}</p>,\n                value: field.id.toString(),\n              };\n            })\n        }\n        placeholder={\n          selectedField ? \"انتخاب کنید\" : \"ابتدا فیلد را انتخاب کنید\"\n        }\n        formik={{\n          handleChange: handleChangeRelationField,\n          values: {\n            relationField: relationField?.value,\n          },\n        }}\n      />\n      <div className=\"flex items-center justify-between w-full\">\n        <Button\n          onClick={handleDeleteCondition}\n          className={`h-[48px] ${condition?.saved ? \"w-full\" : \"w-[calc(50%-8px)] me-2\"\n            } !rounded-[8px]  !border !border-solid !border-error-primary !text-error-primary `}\n        >\n          <Trash />\n          <p className=\"text-[14px] font-bold ms-1\">{t(\"deleteCondition\")}</p>\n        </Button>\n        {!condition?.saved && (\n          <Button\n            onClick={handleSaveCondition}\n            className=\"h-[48px] w-[calc(50%-8px)] !rounded-[8px] ms-2 !border !border-solid !border-success-primary !text-success-primary\"\n          >\n            <ArchiveTick />\n            <p className=\"text-[14px] font-bold ms-1\">{t(\"saveCondition\")}</p>\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default ConditionItem;\n","import { useState } from \"react\";\nimport { Condition, FormField } from \"../../../app/models/form\";\nimport DropDown from \"../../form/Dropdown\";\nimport ConditionItem from \"./ConditionItem\";\nimport Button from \"../../../components/button/Button\";\nimport { Add } from \"iconsax-react\";\nimport SnackbarUtils from \"../../../app/utils/SnackbarUtils\";\nimport { useTranslation } from \"react-i18next\";\n\ntype FormBuilderConditionsTabProps = {\n  conditionalfields: FormField[];\n  formElements: FormField[];\n  saveConditions: (conditions: Condition[]) => void;\n  savedConditions: Condition[];\n};\nconst FormBuilderConditionsTab = ({\n  conditionalfields,\n  formElements,\n  saveConditions,\n  savedConditions,\n}: FormBuilderConditionsTabProps) => {\n  const [conditions, setConditions] = useState<Condition[]>([\n    ...savedConditions,\n  ]);\n  console.log(\"condiii\", conditions);\n  const {t} = useTranslation()\n  const handleAddCondition = () => {\n    if (conditionalfields.length > 0 && formElements.length >= 2) {\n      setConditions([\n        ...conditions,\n        {\n          id: Math.floor(Math.random() * 1000),\n          field: null,\n          operation: null,\n          values: [],\n          relationField: null,\n          saved: false,\n        },\n      ]);\n    } else {\n      SnackbarUtils.error(\n        \"فیلد های ایجاد شده برای ایجاد شرط فرم مناسب نمی باشند\"\n      );\n    }\n  };\n\n  const setCondition = (condition: Condition) => {\n    let index = conditions.findIndex((x) => x.id == condition.id);\n    if (index > -1) {\n      let newConditions = conditions;\n      newConditions[index] = condition;\n      setConditions([...newConditions]);\n    }\n  };\n\n  const handleDeleteCondition = (condition: number) => {\n    let index = conditions.findIndex((x) => x.id == condition);\n    if (index > -1) {\n      let newConditions = conditions;\n      newConditions.splice(index, 1);\n      setConditions([...newConditions]);\n    }\n    saveConditions([...conditions]);\n    SnackbarUtils.success(t('conditionDeleted'));\n  };\n\n  const handleSaveCondition = (condition: number) => {\n    //check all filds filled\n\n    let index = conditions.findIndex((x) => x.id == condition);\n    if (index > -1) {\n      let condTemp = conditions[index];\n      if (\n        condTemp.field &&\n        condTemp.operation &&\n        condTemp.values &&\n        condTemp.values.length > 0 &&\n        condTemp.relationField\n      ) {\n        //check if condtemp.field already exist in conditionalfields\n        let fieldIndex = conditionalfields.findIndex(\n          (x) => x.id == condTemp.field\n        );\n        if (fieldIndex > -1) {\n          //check if condtemp.relationField already exist in formElements\n          let relationFieldIndex = formElements.findIndex(\n            (x) => x.id == condTemp.relationField\n          );\n          if (relationFieldIndex > -1) {\n            //if related fields has readonly true cant save condition\n            if (formElements[relationFieldIndex].readOnly) {\n              SnackbarUtils.error(\"فیلد انتخاب شده در فرم قابل شرط گذاری نیست\");\n              return;\n            }\n\n            //finally save form!\n            let newConditions = conditions;\n            newConditions[index].saved = true;\n            setConditions([...newConditions]);\n            saveConditions(conditions);\n            SnackbarUtils.success(\"شرط ذخیره شد\");\n          } else {\n            SnackbarUtils.error(\"فیلد انتخاب شده در فرم وجود ندارد\");\n          }\n        } else {\n          SnackbarUtils.error(\"فیلد انتخاب شده در فرم وجود ندارد\");\n        }\n      } else {\n        SnackbarUtils.error(\"لطفا تمام فیلد های شرط را پر کنید\");\n      }\n    }\n  };\n\n  return (\n    <div>\n      {conditions &&\n        conditions.map((cond, index) => {\n          return (\n            <ConditionItem\n              key={index}\n              conditionalfields={conditionalfields}\n              formElements={formElements}\n              condition={cond}\n              setCondition={setCondition}\n              saveCondition={handleSaveCondition}\n              deleteCondition={handleDeleteCondition}\n            />\n          );\n        })}\n\n      <div className=\"w-full px-[16px]\">\n        <Button\n          icon={<Add />}\n          text=\"افزودن شرط جدید\"\n          onClick={handleAddCondition}\n        />\n      </div>\n    </div>\n  );\n};\nexport default FormBuilderConditionsTab;\n","import React, { ReactElement } from \"react\";\nimport { Condition, FormField, FormOption } from \"../../app/models/form\";\nimport Tabs from \"../tabs/Tabs\";\nimport FormBuilderEditElementTab from \"./editElement/FormBuilderEditElementTab\";\nimport FormBuilderElementsTab from \"./elements/FormBuilderElementsTab\";\nimport FormBuilderConditionsTab from \"./formConditions/FormBuilderConditionsTab\";\n\ntype FormBuilderSidebarProps = {\n  handleChangeTab: (value: string) => void;\n  selectedTab: string;\n  addElement(element: any, id: number): void;\n  selectedField?: FormField;\n  handleUpdateField: (field: FormField) => void;\n  handleAddOption: (id: number, option: FormOption) => void;\n  handleUpdateOption: (id: number, option: FormOption, index: number) => void;\n  handleDeleteOption: (\n    id: number,\n    option: string,\n    server_id?: number | null\n  ) => void;\n  setOnlyImage: (onlyImage: boolean) => void;\n  setRequired: (required: boolean) => void;\n  formElements: FormField[];\n  saveConditions: (conditions: Condition[]) => void;\n  savedConditions: Condition[];\n  setFromBasicData: (required: boolean) => void;\n  relatedFields?: FormField[];\n};\nconst FormBuilderSidebar = ({\n  handleChangeTab,\n  selectedTab,\n  addElement,\n  selectedField,\n  handleUpdateField,\n  handleAddOption,\n  handleDeleteOption,\n  handleUpdateOption,\n  setOnlyImage,\n  setRequired,\n  formElements,\n  saveConditions,\n  savedConditions,\n  setFromBasicData,\n  relatedFields,\n}: FormBuilderSidebarProps) => {\n  const handleSaveConditions = (conditions: Condition[]) => {\n    saveConditions(conditions);\n  };\n\n  const _renderTab = (): ReactElement => {\n    switch (selectedTab) {\n      case \"elements\":\n        return (\n          <FormBuilderElementsTab\n            addElement={addElement}\n            relatedFields={relatedFields}\n          />\n        );\n      case \"editElement\":\n        return (\n          <FormBuilderEditElementTab\n            handleUpdateField={handleUpdateField}\n            selectedField={selectedField}\n            handleAddOption={handleAddOption}\n            handleUpdateOption={handleUpdateOption}\n            handleDeleteOption={handleDeleteOption}\n            onlyImage={selectedField?.onlyImage || false}\n            setOnlyImage={setOnlyImage}\n            required={selectedField?.required || false}\n            setRequired={setRequired}\n            fromBasicData={selectedField?.basic_data_id ? true : false}\n            setFromBasicData={setFromBasicData}\n          />\n        );\n      case \"formConditions\":\n        return (\n          <FormBuilderConditionsTab\n            conditionalfields={formElements.filter((x) => x.options)}\n            formElements={formElements}\n            saveConditions={handleSaveConditions}\n            savedConditions={savedConditions}\n          />\n        );\n      default:\n        return <FormBuilderElementsTab addElement={addElement} />;\n    }\n  };\n  return (\n    <div className=\"min-h-[800px] basis-1/4 bg-white pt-[20px] me-3 border border-text-300\">\n      <Tabs\n        handleChange={handleChangeTab}\n        items={[\n          {\n            label: \"المان ها\",\n            value: \"elements\",\n          },\n          {\n            label: \"ویرایش المان\",\n            value: \"editElement\",\n          },\n          {\n            label: \"شرط های فرم\",\n            value: \"formConditions\",\n          },\n        ]}\n        value={selectedTab}\n      />\n      {_renderTab()}\n    </div>\n  );\n};\n\nexport default FormBuilderSidebar;\n","import { Copy, HambergerMenu, Information } from \"iconsax-react\";\nimport { ReactElement, useEffect, useRef, useState } from \"react\";\nimport { FormField } from \"../../../app/models/form\";\nimport TextField from \"../../form/TextField\";\nimport { Close, HourglassEmptyOutlined } from \"@mui/icons-material\";\nimport DropDown from \"../../form/Dropdown\";\nimport Checkbox from \"../../form/Checkbox\";\nimport CheckboxGroup from \"../../form/CheckboxGroup\";\nimport TextArea from \"../../form/TextArea\";\nimport UploadFile from \"../../form/UploadFile\";\nimport { useTranslation } from \"react-i18next\";\nimport { renderElement } from \"app/utils/FormActions\";\n\ntype FormContentProps = {\n  setFormElements: (formElements: any) => void;\n  formElements: FormField[];\n  handleSelectField: (formElement?: FormField) => void;\n  lastId: number;\n  setLastId: (lastId: number) => void;\n  selectedField?: FormField;\n  deleteItem: (item: FormField) => void;\n  saveFormLoading: boolean;\n};\n\nconst FormContent = ({\n  formElements,\n  setFormElements,\n  handleSelectField,\n  lastId,\n  setLastId,\n  selectedField,\n  deleteItem,\n  saveFormLoading,\n}: FormContentProps) => {\n  const { t } = useTranslation([\"common\", \"validations\"]);\n  console.log(\"el\", formElements);\n\n  // const renderElement = (element: FormField): ReactElement => {\n  //   switch (element.type) {\n  //     case \"text\":\n  //       return (\n  //         <TextField\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           type=\"text\"\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"textArea\":\n  //       return (\n  //         <TextArea\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"number\":\n  //       return (\n  //         <TextField\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           type=\"number\"\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"uploadFile\":\n  //       return (\n  //         <UploadFile\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           imageOnly={element.onlyImage}\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"dropDown\":\n  //       return (\n  //         <DropDown\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           options={element.basicDataItems || element.options}\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"checkbox\":\n  //       return (\n  //         <CheckboxGroup\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           options={element.basicDataItems || element.options}\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     default:\n  //       return <p>not defined</p>;\n  //   }\n  // };\n  const fieldActions = (element: FormField) => {\n    return (\n      <div className=\"flex\">\n        <div className=\"flex opacity-0 pointer-events-none\tgroup-hover:pointer-events-auto\t group-hover:opacity-100 transition-all \">\n          {(!element.readOnly || element.fromRelatedFields) && (\n            <div\n              onClick={() => handleDeleteItem(element)}\n              id=\"deleteItem\"\n              className=\"cursor-pointer ms-2 w-[30px] h-[30px] rounded-full border border-error-primary flex items-center justify-center\"\n            >\n              <Close className=\"w-[16px] h-[16px] text-error-primary pointer-events-none\" />\n            </div>\n          )}\n          {!element.fromRelatedFields && (\n            <div\n              onClick={() => handleCopyItem(element)}\n              className=\"cursor-pointer ms-2 w-[30px] h-[30px] rounded-full border border-success-primary flex items-center justify-center\"\n            >\n              <Copy className=\"w-[16px] h-[16px] text-success-primary\" />\n            </div>\n          )}\n        </div>\n        {element.fromRelatedFields && (\n          <div className=\"ms-3 bg-secondary-main flex items-center justify-center px-2 py-0.5 rounded-full text-[11px]\">\n            {t(\"fromStep\")} {element.form?.step?.step_name}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const handleCopyItem = (element: FormField) => {\n    //copy element add add it just after the original element in the array\n    let tmp = [...formElements];\n    const index = tmp.indexOf(element);\n    // console.log(\"item\", index);\n\n    if (index > -1) {\n      tmp.splice(index + 1, 0, {\n        ...element,\n        id: lastId + 1,\n        server_id: null,\n        label: element.label + \" \" + t(\"copy\"),\n        name: element.name + (lastId + 1).toString(),\n        placeholder: element.placeholder + (lastId + 1).toString(),\n        readOnly: false,\n      });\n      setFormElements(tmp);\n      setLastId(lastId + 1);\n    }\n  };\n  const handleDeleteItem = (element: FormField) => {\n    deleteItem(element);\n  };\n\n  const dragItem = useRef<any>();\n  const dragOverItem = useRef<any>();\n\n  const dragStart = (e: any, position: any) => {\n    dragItem.current = position;\n  };\n\n  const dragEnter = (e: any, position: any) => {\n    dragOverItem.current = position;\n  };\n\n  const drop = (e: any) => {\n    const copyListItems = [...formElements];\n    const dragItemContent = copyListItems[dragItem.current];\n    copyListItems.splice(dragItem.current, 1);\n    copyListItems.splice(dragOverItem.current, 0, dragItemContent);\n    dragItem.current = null;\n    dragOverItem.current = null;\n    setFormElements(copyListItems);\n  };\n\n  //   console.log('formElements', formElements)\n  return (\n    <div className=\"px-4 py-6 draggable grid grid-cols-4 gap-y-9 gap-x-4\">\n      {formElements.length === 0 && !saveFormLoading && (\n        <div className=\"col-span-4 flex flex-col items-center justify-center mt-8\">\n          <div className=\"w-[50px] rounded-full h-[50px] bg-primary-main text-white flex items-center justify-center\">\n            <Information />\n          </div>\n          <p className=\"text-gray-400 text-[16px] font-bold mt-4\">\n            {t(\"addFieldToStart\")}\n          </p>\n        </div>\n      )}\n      {formElements.map((element, index) => {\n        return (\n          <div\n            onDragStart={(e) => dragStart(e, index)}\n            onDragEnter={(e) => dragEnter(e, index)}\n            onDragEnd={drop}\n            key={index}\n            onClick={(e: any) => {\n              e.target.id !== \"deleteItem\" && handleSelectField(element);\n            }}\n            draggable\n            className={`flex lg:col-span-4\n            ${element.width == 100 ? \"col-span-4\" : \"\"}\n            ${element.width == 75 ? \"col-span-3\" : \"\"}\n            ${element.width == 50 ? \"col-span-2\" : \"\"}\n            `}\n          >\n            <div\n              className={`me-3 cursor-move ${\n                selectedField?.id === element.id ? \"text-primary-main\" : \"\"\n              }`}\n            >\n              <HambergerMenu />\n            </div>\n            {renderElement(element, fieldActions, undefined, true)}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\nexport default FormContent;\n","import { ArchiveTick, Eye } from \"iconsax-react\";\nimport { useEffect, useState } from \"react\";\nimport { Condition, FormField, FormOption } from \"../../app/models/form\";\nimport { setCollapseMenu } from \"../../app/redux/application/actions\";\nimport { useAppDispatch, useAppSelector } from \"../../app/redux/hooks\";\nimport Breadcrumb from \"../../components/breadcrumb/Breadcrumb\";\nimport Button from \"../../components/button/Button\";\nimport FormBuilderSidebar from \"../../components/formBuilder/FormBuilderSidebar\";\nimport FormContent from \"../../components/formBuilder/formContent/FormContent\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { getProductStepInfo } from \"app/redux/products/actions\";\nimport formService from \"app/redux/forms/service\";\nimport { CircularProgress } from \"@mui/material\";\nimport SnackbarUtils from \"app/utils/SnackbarUtils\";\nimport FullscreenLoading from \"components/loading/FullscreenLoading\";\n\nconst FormBuilder = () => {\n  const Dispatch = useAppDispatch();\n  let { code, step_id } = useParams();\n  const formFieldTypes = useAppSelector((state) => state.forms.formFieldTypes);\n\n  useEffect(() => {\n    Dispatch(setCollapseMenu(true));\n  });\n  const [selectedTab, setSelectedTab] = useState<string>(\"elements\");\n  const handleChangeTab = (value: string): void => {\n    console.log(\"value\", value);\n    value === \"formConditions\" && handleSaveForm();\n    setSelectedTab(value);\n  };\n  const [formElements, setFormElements] = useState<FormField[]>([]);\n  const [formRelatedElements, setFormRelatedElements] = useState<FormField[]>(\n    []\n  );\n  const [selectedField, setSelectedField] = useState<FormField>();\n  const [savedConditions, setSavedConditions] = useState<Condition[]>([]);\n  const [saveFormLoading, setSaveFormLoading] = useState<boolean>(true);\n  const basicDatas = useAppSelector((state) => state.basicData.basicDatas);\n\n  const [formId, setFormId] = useState<number>(0);\n  const productStepInfo = useAppSelector(\n    (state) => state.products.productStepInfo\n  );\n  const [lastId, setLastId] = useState<number>(0);\n  const { t } = useTranslation([\"common\", \"validations\"]);\n  const Navigate = useNavigate();\n  useEffect(() => {\n    Dispatch(getProductStepInfo(parseInt(step_id || \"0\")));\n    return () => {\n      Dispatch(setCollapseMenu(false));\n      Dispatch(getProductStepInfo(parseInt(\"0\")));\n    };\n  }, []);\n  const handleAddElement = (\n    element: string,\n    id: number,\n    fromRelatedFields?: boolean\n  ) => {\n    let tmp: FormField = {\n      name: \"input\" + element + (lastId + 1).toString(),\n      placeholder: element + (lastId + 1).toString(),\n      label: \"عنوان فیلد\",\n      width: 100,\n      type: element,\n      typeId: id,\n      required: false,\n      id: lastId + 1,\n    };\n    if (element === \"dropDown\" || element === \"checkbox\") {\n      tmp = { ...tmp, options: [] };\n    }\n    if (element === \"uploadFile\") {\n      tmp = { ...tmp, onlyImage: false };\n    }\n\n    //if from related elements\n    if (fromRelatedFields) {\n      let relatedTmp = formRelatedElements.find((x) => x.server_id == id);\n      // console.log(\"relatedTmp\", relatedTmp);\n      if (relatedTmp) {\n        tmp = { ...relatedTmp, fromRelatedFields: fromRelatedFields };\n      }\n    }\n\n    setFormElements([...formElements, tmp]);\n    setLastId(lastId + 1);\n  };\n  const handleSelectField = (element?: FormField) => {\n    if (!element) {\n      setSelectedField(undefined);\n      handleChangeTab(\"elements\");\n    } else {\n      setSelectedField(element);\n      handleChangeTab(\"editElement\");\n    }\n  };\n  const handleUpdateField = (field: FormField) => {\n    let tmp = [...formElements];\n    let foundIndex = tmp.findIndex((x) => x.id == field.id);\n    if (foundIndex !== -1) {\n      tmp[foundIndex] = { ...field };\n      setFormElements([...tmp]);\n      setSelectedField({ ...field });\n    }\n  };\n  const handleAddOption = (id: number, option: FormOption) => {\n    let tmp = [...formElements];\n    let foundIndex = tmp.findIndex((x) => x.id == id);\n    if (foundIndex !== -1 && tmp[foundIndex].options) {\n      const options = tmp[foundIndex].options || [];\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        options: [\n          ...options,\n          { ...option, id: Math.floor(Math.random() * 100) },\n        ],\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n  const handleUpdateOption = (\n    id: number,\n    option: FormOption,\n    index: number\n  ) => {\n    let tmp = [...formElements];\n    let foundIndex = tmp.findIndex((x) => x.id == id);\n    if (foundIndex !== -1 && tmp[foundIndex].options) {\n      let options = tmp[foundIndex].options || [];\n      options[index] = option;\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        options: [...options],\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n\n  const handleDeleteOption = (\n    id: number,\n    option: string,\n    server_id?: number | null\n  ) => {\n    let tmp = [...formElements];\n    let foundIndex = tmp.findIndex((x) => x.id == id);\n    if (foundIndex !== -1 && tmp[foundIndex].options) {\n      let options = [...(tmp[foundIndex].options || [])];\n      let optionIndex = options.findIndex((x) => x.value == option);\n      if (optionIndex > -1) {\n        options.splice(optionIndex, 1);\n        tmp[foundIndex] = {\n          ...tmp[foundIndex],\n          options: [...options],\n        };\n\n        setFormElements([...tmp]);\n        setSelectedField({ ...tmp[foundIndex] });\n      }\n    }\n\n    //server side delete if item has server_id\n    if (server_id) {\n      formService.deleteOption(server_id).then((res) => {\n        // console.log(\"res\", res);\n      });\n    }\n  };\n\n  const setOnlyImage = (value: boolean) => {\n    let tmp = [...formElements];\n\n    let foundIndex = tmp.findIndex((x) => x.id == selectedField?.id);\n\n    if (foundIndex > -1) {\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        onlyImage: value,\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n\n  const setRequired = (value: boolean) => {\n    let tmp = [...formElements];\n\n    let foundIndex = tmp.findIndex((x) => x.id == selectedField?.id);\n\n    if (foundIndex > -1) {\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        required: value,\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n  const setFromBasicData = (value: boolean) => {\n    // console.log('val',value)\n    let tmp = [...formElements];\n\n    let foundIndex = tmp.findIndex((x) => x.id == selectedField?.id);\n\n    if (foundIndex > -1) {\n      let basicDataId = tmp[foundIndex].basic_data?.id || basicDatas?.[0].id;\n\n      console.log(\"bas\", basicDataId);\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        basic_data_id: value == true ? basicDataId : null,\n        basic_data:\n          value == true ? tmp[foundIndex].basic_data || basicDatas?.[0] : null,\n        basicDataItems:\n          value == true\n            ? (tmp[foundIndex].basic_data || basicDatas?.[0]).items.map(\n                (item: any) => ({\n                  id: item.id,\n                  label: <p>{item.name}</p>,\n                  server_id: item.id,\n                  value: item.code,\n                })\n              )\n            : null,\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n  // console.log('form',formElements)\n  const saveConditions = (conditions: Condition[]) => {\n    setSavedConditions([...conditions.filter((x) => x.saved)]);\n    console.log(\"[...conditions.filter((x) => x.saved)]\", [\n      ...conditions.filter((x) => x.saved),\n    ]);\n    handleSaveForm(null, [...conditions.filter((x) => x.saved)]);\n  };\n  const handleDeleteItem = async (element: FormField) => {\n    try {\n      //set loading\n      setSaveFormLoading(true);\n      if (element.server_id) {\n        await formService.deleteItem(element.server_id, formId);\n      }\n      //add alert for delete\n      // console.log(\"eleme\", element);\n      let tmp = [...formElements];\n      const index = tmp.indexOf(element);\n      if (index > -1) {\n        tmp.splice(index, 1);\n        setFormElements(tmp);\n        if (element.id == selectedField?.id) {\n          // setTimeout(() => {\n          handleSelectField(undefined);\n          // }, 1);\n        }\n      }\n\n      SnackbarUtils.success(t(\"fieldDeletedSuccessfully\"));\n      setSaveFormLoading(false);\n    } catch (error) {\n      // SnackbarUtils.error(t(\"error\"));\n      setSaveFormLoading(false);\n    }\n  };\n  const handleBack = () => {\n    Navigate(`/products/${code}/steps`);\n  };\n\n  useEffect(() => {\n    if (productStepInfo && formFieldTypes) {\n      if (productStepInfo.forms?.length > 0) {\n        setSaveFormLoading(true);\n        setFormId(productStepInfo.forms?.[0].id);\n        loadForm(productStepInfo.forms?.[0].id);\n      } else {\n        createForm(\n          productStepInfo.global_step,\n          productStepInfo.product?.count_type\n        );\n      }\n    }\n  }, [productStepInfo, formFieldTypes]);\n  const loadForm = async (id: number) => {\n    const response = await formService.getForm(id);\n    handleSetFormElements(response);\n    handleSetFormElements(response, true);\n    handleSetFormConditions(response);\n    setSaveFormLoading(false);\n  };\n\n  const handleSetFormConditions = (response: any) => {\n    let { conditions, fields, id } = response;\n    let tmp: Condition[] = [];\n    //group conditions by form_field_id and relational_form_field_id\n    conditions?.map((item: any) => {\n      //find field\n      let field = fields.find((x: any) => x.id === item.form_field_id);\n\n      console.log(\"fff\", field);\n      //find field options\n      let options = (field?.basicDataItems || field?.options)?.map((x: any) => {\n        return {\n          id: x.id,\n          label: x.label,\n          server_id: x.id,\n          value: x.option,\n        };\n      });\n      console.log(\"fff\", options);\n\n      let foundIndex = tmp.findIndex(\n        (x: any) =>\n          x.field === item.form_field_id &&\n          x.relationField === item.relational_form_field_id\n      );\n      if (foundIndex > -1) {\n        //find specific option\n        let option = options?.find(\n          (x: any) =>\n            x.id == (item.basic_data_item_id || item.form_field_option_id)\n        );\n        console.log(\"p[topnnnnsss\", options);\n        console.log(\"p[topnnnnsss\", option);\n        console.log(\"p[topnnnnsss\", item);\n\n        tmp[foundIndex]?.values?.push({\n          id: option?.id,\n          label: option?.label,\n          server_id: option?.id,\n          value: option?.value,\n        });\n      } else {\n        //find specific option\n        let option = options?.find(\n          (x: any) =>\n            x.id == (item.basic_data_item_id || item.form_field_option_id)\n        );\n\n        tmp.push({\n          field: item.form_field_id,\n          id: item.id,\n          operation:\n            item.operation == 1\n              ? { name: \"operation\", value: \"show\" }\n              : { name: \"operation\", value: \"hide\" },\n          relationField: item.relational_form_field_id,\n          saved: true,\n          values: [\n            {\n              id: option?.id,\n              label: option?.label,\n              server_id: option?.id,\n              value: option?.value,\n            },\n          ],\n        });\n      }\n    });\n\n    console.log(\"tmp123\", [...tmp]);\n    setSavedConditions([...tmp]);\n  };\n\n  const handleSetFormElements = (form: any, relatedFields?: boolean) => {\n    let tmp: FormField[] = [];\n    let parseableArray = relatedFields ? form.relatedFields : form.fields;\n    console.log(\"formId\", form.id);\n    parseableArray?.forEach((item: any) => {\n      // console.log(\"item\", item);\n      let tmpItem: FormField = {\n        id: item.id,\n        name: item.name,\n        type: item.type?.type,\n        width: item.width || 100,\n        typeId: item.form_field_type_id,\n        label: item.label,\n        placeholder: item.placeholder,\n        required: item.required,\n        basic_data: item.basic_data,\n        basic_data_id: item.basic_data?.id || null,\n        form: item.form && item.form?.id != form.id ? item.form : null,\n        fromRelatedFields:\n          item.form?.id && item.form?.id != form.id ? true : false,\n        basicDataItems:\n          ((item.basicDataItems && item.basicDataItems.length > 0) ||\n            item.type?.has_options) &&\n          item.basicDataItems?.map((option: any) => {\n            return {\n              id: option.id,\n              server_id: option.id,\n              value: option.option,\n              label: <p>{option.label}</p>,\n            };\n          }),\n        options:\n          ((item.options && item.options.length > 0) ||\n            item.type?.has_options) &&\n          item.options?.map((option: any) => {\n            return {\n              id: option.id,\n              server_id: option.id,\n              value: option.option,\n              label: <p>{option.label}</p>,\n            };\n          }),\n        onlyImage: JSON.parse(item.validation)?.onlyImage,\n        server_id: item.id,\n        readOnly: JSON.parse(item.validation)?.readOnly,\n      };\n      tmp.push(tmpItem);\n    });\n    relatedFields ? setFormRelatedElements(tmp) : setFormElements(tmp);\n  };\n\n  const createForm = async (globalStepInfo: any, countType: string) => {\n    const stepDesc = globalStepInfo?.description;\n    const response = await formService.createForm({\n      name: \"form\" + productStepInfo?.id,\n      product_id: productStepInfo?.product_id,\n      product_steps: productStepInfo?.id?.toString(),\n    });\n    setFormId(response.id);\n    if (stepDesc === \"initialOrder\" && countType === \"m2\") {\n      //create two items and add to DB readonly\n      await formService.updateForm(response.id, {\n        conditions: [],\n        fields: [\n          {\n            basic_data_id: null,\n            form_field_type_id: formFieldTypes?.find((x) => x.type == \"number\")\n              ?.id,\n            helper_text: 1,\n            label: \"عرض\",\n            max: 100,\n            min: 1,\n            name: \"width\",\n            order: 0,\n            origin_form_id: null,\n            placeholder: \"عرض را وارد کنید\",\n            required: true,\n            validation: `{\"readOnly\":true}`,\n          },\n          {\n            basic_data_id: null,\n            form_field_type_id: formFieldTypes?.find((x) => x.type == \"number\")\n              ?.id,\n            helper_text: 2,\n            label: \"ارتفاع\",\n            max: 100,\n            min: 1,\n            name: \"height\",\n            order: 1,\n            origin_form_id: null,\n            placeholder: \"ارتفاع را وارد کنید\",\n            required: true,\n            validation: `{\"readOnly\":true}`,\n          },\n        ],\n        name: \"form\" + productStepInfo?.id,\n      });\n    }\n    loadForm(response.id);\n\n    setSaveFormLoading(false);\n  };\n\n  const handleSaveForm = async (e?: any, passedConditions?: Condition[]) => {\n    //save form fields and save their ids as server_id\n    setSaveFormLoading(true);\n    let tmp = [...formElements];\n    let condTmp = [...savedConditions];\n    console.log(\"pass\", formElements);\n\n    if (passedConditions) {\n      condTmp = [...passedConditions];\n    }\n    console.log(\"tmp\", tmp);\n    //check if we dont have two field with same name\n    let names = tmp.map((item) => item.name);\n    let duplicateNames = names.filter(\n      (item, index) => names.indexOf(item) != index\n    );\n    if (duplicateNames.length > 0) {\n      //tell in error that which fields are duplicate\n      let duplicateFields = tmp.filter((item) =>\n        duplicateNames.includes(item.name)\n      );\n      let duplicateFieldsNames = duplicateFields.map((item) => item.label);\n      SnackbarUtils.error(\n        t(\"validations:fieldNamesMustBeUnique\") + duplicateFieldsNames\n      );\n      setSaveFormLoading(false);\n      return;\n    }\n    let res = formService.updateForm(formId, {\n      name: \"form\" + productStepInfo?.id,\n      fields: tmp.map((item, index) => {\n        let validationTmp: any = {};\n        if (item.type === \"uploadFile\") {\n          validationTmp.onlyImage = item.onlyImage;\n        }\n        if (item.readOnly) {\n          validationTmp.readOnly = item.readOnly;\n        }\n        console.log(\"condTmp\", condTmp);\n        return {\n          server_id: item.server_id,\n          name: item.name,\n          form_field_type_id: item.typeId,\n          label: item.label,\n          placeholder: item.placeholder,\n          required: item.required,\n          helper_text: item.id,\n          validation: JSON.stringify(validationTmp),\n          min: 1,\n          max: 100,\n          order: index,\n          origin_form_id: item.fromRelatedFields ? item.form.id : null,\n          hasOptions: item.options && item.options.length > 0,\n          basic_data: item.basic_data,\n          basic_data_id: item.basic_data_id || null,\n          width: +item.width || 100,\n          // basic_data_id: item.basic_data?.id || null,\n\n          basicDataItems:\n            item.basicDataItems &&\n            item.basicDataItems.length > 0 &&\n            item.basicDataItems?.map((option: any) => {\n              return {\n                id: option.id,\n                server_id: option.id,\n                value: option.option,\n                label: <p>{option.label}</p>,\n              };\n            }),\n          options:\n            item.options &&\n            item.options.length > 0 &&\n            item.options?.map((x) => {\n              return {\n                option: x.value,\n                label: x.label.props.children,\n                id: x.server_id,\n              };\n            }),\n        };\n      }),\n      conditions: condTmp.map((item, index) => {\n        return {\n          form_id: formId,\n          form_field_id: item.field,\n          form_field_options_id: item.values?.map((value) => {\n            return value.id;\n          }),\n          operation: item.operation?.value === \"show\" ? 1 : 0,\n          relational_form_field_id: item.relationField,\n        };\n      }),\n    });\n    res.then((response) => {\n      console.log(\"updated!\", response);\n\n      handleSetFormElements(response);\n      handleSetFormConditions(response);\n      handleSetFormElements(response, true);\n\n      setSaveFormLoading(false);\n      SnackbarUtils.success(t(\"formSavedSuccessfully\"));\n    });\n    res.catch((error) => {\n      setSaveFormLoading(false);\n      SnackbarUtils.error(t(\"formSaveError\"));\n    });\n  };\n\n  return (\n    <div className=\"w-full h-full\">\n      {saveFormLoading && (\n        <FullscreenLoading />\n        // <div className=\"flex-col w-full h-full fixed top-0 left-0 bg-[rgba(0,0,0,0.8)] z-[9999] pointer-events-auto flex justify-center items-center\">\n        //   <CircularProgress />\n        //   <p className=\"text-white mt-4\">لطفا چند لحظه صبر کنید...</p>\n        // </div>\n      )}\n      <Breadcrumb\n        handleBack={handleBack}\n        actions={\n          <>\n            {\" \"}\n            <div className=\"w-[186px]\">\n              <Button\n                icon={<Eye />}\n                text={t(\"viewForm\")}\n                onClick={() => {}}\n                gray\n              />\n            </div>\n            <div className=\"w-[138px] ms-4\">\n              <Button\n                icon={<ArchiveTick />}\n                text={t(\"saveForm\")}\n                onClick={handleSaveForm}\n              />\n            </div>\n          </>\n        }\n        title={`${t(\"formBuilder\")} ${t(\"step\")} ${\n          productStepInfo?.step_name\n        } ${t(\"product\")} ${productStepInfo?.product?.name}`}\n      />\n      <div className=\"w-full flex\">\n        <FormBuilderSidebar\n          handleChangeTab={handleChangeTab}\n          selectedTab={selectedTab}\n          addElement={handleAddElement}\n          selectedField={selectedField}\n          handleUpdateField={handleUpdateField}\n          handleAddOption={handleAddOption}\n          handleUpdateOption={handleUpdateOption}\n          handleDeleteOption={handleDeleteOption}\n          setOnlyImage={setOnlyImage}\n          setRequired={setRequired}\n          formElements={formElements}\n          saveConditions={saveConditions}\n          savedConditions={savedConditions}\n          setFromBasicData={setFromBasicData}\n          relatedFields={formRelatedElements}\n        />\n        <div className=\"basis-3/4 bg-white ms-2\">\n          <FormContent\n            lastId={lastId}\n            setLastId={setLastId}\n            saveFormLoading={saveFormLoading}\n            formElements={formElements}\n            selectedField={selectedField}\n            setFormElements={setFormElements}\n            handleSelectField={handleSelectField}\n            deleteItem={handleDeleteItem}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FormBuilder;\n"],"names":["basicDataActions","basicDataSlice","actions","basicDatasList","async","dispatch","getState","response","basicDataService","_Api","Api","get","data","getBasicDataInfo","id","_Api2","addBasicDataItem","_Api3","post","changeBasicDataItemState","_Api6","deleteBasicDataItem","_Api7","delete","editBasicDataItem","_Api5","put","addBasicData","_Api4","deleteBasicData","_Api8","useAppDispatch","useDispatch","useAppSelector","useSelector","productActions","productSlice","productsList","productService","productStepsList","code","getProductStepInfo","productStepInfo","saveProduct","product","updateProduct","productId","setSaveSuccess","success","deleteProduct","setDeleteSuccess","_product$images","name","custom","price","count_type","status","description","images","map","image","hashCode","concat","setProductStepRoles","roles","join","addProductConditions","_Api9","step_id","stepId","field_id","fieldId","option_id","optionId","next_step_id","nextStepId","getProduct","_product$images2","Content","_ref","children","_jsx","className","Footer","_ref2","SideDialog","_ref3","open","handleClose","headerIcon","headerText","rand","setRand","useState","Math","floor","random","onClick","event","target","_jsxs","CloseCircle","React","child","type","props","items","value","handleChange","item","index","label","checked","setChecked","handleCheck","SwitchButton","field","handleAddOption","selectedOption","initialValues","fieldName","fieldValue","server_id","formik","useFormik","onSubmit","values","console","log","setFieldValue","useEffect","_handleClose","Add","handleSubmit","TextField","placeholder","Button","text","gray","handleSubmitForm","submitForm","SelectWidth","selectedField","_handleUpdateField","DropDown","options","toString","e","width","_selectedField$basic_","handleUpdateField","handleDeleteOption","handleUpdateOption","onlyImage","setOnlyImage","required","setRequired","fromBasicData","setFromBasicData","openAddDropdownItemDialog","setOpenAddDropdownItemDialog","setSelectedOption","basicDatas","state","basicData","t","useTranslation","Dispatch","tmp","basicDataTmp","find","x","basic_data_id","basicDataItems","_handleOpenAddOptionDialog","_selectedField$option","findIndex","option","fromRelatedFields","readOnly","_Fragment","Switch","basic_data","AddDropdownItemDialog","_handleCloseAddOptionDialog","undefined","_handleAddOption","update","Edit2","_handleDeleteOption","Trash","icon","_path","_extends","Object","assign","bind","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgFrame","svgRef","title","titleId","height","viewBox","fill","xmlns","ref","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ForwardRef","_path2","SvgNumericField","SvgDropdown","formActions","formSlice","addElement","relatedFields","formFieldTypes","forms","formService","getFormFieldTypes","parseIcon","TextBlock","Frame","NumericField","ExportCurve","Dropdown","TickSquare","DateRange","FormElementItem","Array","from","keys","Skeleton","variant","animation","_data$form","_data$form$step","_data$server_id","form","step","step_name","conditionalfields","formElements","condition","setCondition","deleteCondition","saveCondition","setSelectedField","selectedFieldValue","setSelectedFieldValue","operation","setOperation","relationField","setRelationField","selectedFieldTmp","relationFieldTmp","updateConditions","newCondition","saved","condField","condFieldValue","newSelectedFieldValue","splice","handleDeleteItem","filter","handleDeleteCondition","handleSaveCondition","ArchiveTick","saveConditions","savedConditions","conditions","setConditions","newConditions","SnackbarUtils","condTemp","relationFieldIndex","error","cond","ConditionItem","handleAddCondition","handleChangeTab","selectedTab","handleSaveConditions","Tabs","_renderTab","FormBuilderElementsTab","FormBuilderEditElementTab","FormBuilderConditionsTab","setFormElements","handleSelectField","lastId","setLastId","deleteItem","saveFormLoading","fieldActions","element","_element$form","_element$form$step","Close","handleCopyItem","Copy","indexOf","dragItem","useRef","dragOverItem","drop","copyListItems","dragItemContent","current","Information","onDragStart","dragStart","position","onDragEnter","dragEnter","onDragEnd","draggable","HambergerMenu","renderElement","FormBuilder","_productStepInfo$prod2","useParams","setCollapseMenu","setSelectedTab","handleSaveForm","formRelatedElements","setFormRelatedElements","setSavedConditions","setSaveFormLoading","formId","setFormId","products","Navigate","useNavigate","parseInt","_productStepInfo$form","_productStepInfo$form2","_productStepInfo$form3","_productStepInfo$prod","loadForm","createForm","global_step","getForm","handleSetFormElements","handleSetFormConditions","fields","form_field_id","foundIndex","relational_form_field_id","_tmp$foundIndex","_tmp$foundIndex$value","basic_data_item_id","form_field_option_id","push","parseableArray","forEach","_item$type","_item$basic_data","_item$form","_item$form2","_item$form3","_item$type2","_item$basicDataItems","_item$type3","_item$options","_JSON$parse","_JSON$parse2","tmpItem","typeId","form_field_type_id","has_options","JSON","parse","validation","globalStepInfo","countType","_productStepInfo$id","stepDesc","product_id","product_steps","_formFieldTypes$find","_formFieldTypes$find2","updateForm","helper_text","max","min","order","origin_form_id","passedConditions","condTmp","names","duplicateNames","duplicateFieldsNames","includes","res","_item$basicDataItems2","_item$options2","validationTmp","stringify","hasOptions","_item$values","_item$operation","form_id","form_field_options_id","then","catch","FullscreenLoading","Breadcrumb","handleBack","Eye","FormBuilderSidebar","handleAddElement","relatedTmp","optionIndex","deleteOption","_tmp$foundIndex$basic","basicDataId","FormContent"],"sourceRoot":""}