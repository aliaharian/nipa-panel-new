"use strict";(self.webpackChunknipa_panel_new=self.webpackChunknipa_panel_new||[]).push([[459],{2737:function(e,n,r){r.d(n,{C:function(){return i},T:function(){return a}});var t=r(9434),a=function(){return(0,t.I0)()},i=t.v9},8923:function(e,n,r){r(2791);var t=r(9504),a=r.n(t),i=r(4110),s=r(3466),o=r(1193),l=r(9230),u=r(184);n.Z=function(e){var n,r,t,c,d,f,p,v,x,m,h=e.name,w=e.label,y=e.formik,Z=e.type,g=void 0===Z?"text":Z,b=e.placeholder,j=e.maskChar,k=e.className,C=e.mask,N=e.inputActions,S=e.normal,A=e.endEndorement,T=e.multiline,F=e.readonly,K=e.value,_=(0,l.$G)().i18n;return(0,u.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(k),children:[w&&(0,u.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,u.jsx)("label",{htmlFor:h,className:"font-normal !text-xs",children:w}),null===N||void 0===N?void 0:N()]}),S?(0,u.jsx)(i.Z,{value:"number"==g?o.ZP.toPersianDigitsPutCommas(null===y||void 0===y||null===(c=y.values)||void 0===c?void 0:c[h]):null===y||void 0===y||null===(d=y.values)||void 0===d?void 0:d[h],type:"text",readOnly:F,id:h,name:h,multiline:T,rows:T?4:1,placeholder:b||"",onChange:function(e){var n=o.ZP.convetToEnglishDigitsRemoveCommas(e.target.value),r="";if("number"==g){var t=n.replace(/[^0-9.]/g,"").split(".");r=t.length>1?(t[0]||"0")+"."+(t[1]||""):t[0]}else r=e.target.value;null===y||void 0===y||y.handleChange({target:{name:h,value:r}})},disableUnderline:!0,endAdornment:(0,u.jsx)(s.Z,{position:"end",children:A}),className:"!text-sm text-text-400 w-full ".concat(T?"h-[100px] resize-none !p-2":"h-12"," border border-text-400 rounded-[8px] p-2 focus:border-primary-main !outline-none invalid:border-error-primary ").concat(null!==y&&void 0!==y&&null!==(f=y.errors)&&void 0!==f&&f[h]&&null!==y&&void 0!==y&&null!==(p=y.touched)&&void 0!==p&&p[h]?"!border-error-primary":"")}):(0,u.jsx)(a(),{mask:C||"",maskChar:j||" ",value:K||(null===y||void 0===y||null===(n=y.values)||void 0===n?void 0:n[h]),type:g,dir:_.dir(),className:"w-full h-12 border border-text-400 rounded-[8px] p-2 text-sm focus:border-primary-main !outline-none invalid:border-error-primary ".concat(null!==y&&void 0!==y&&null!==(r=y.errors)&&void 0!==r&&r[h]&&null!==y&&void 0!==y&&null!==(t=y.touched)&&void 0!==t&&t[h]?"!border-error-primary":""),id:h,name:h,style:{direction:"tel"==g?"ltr":_.dir()},placeholder:b||"",readOnly:F,onChange:function(e){null===y||void 0===y||y.handleChange({target:{name:h,value:e.target.value}})}}),(null===y||void 0===y||null===(v=y.errors)||void 0===v?void 0:v[h])&&(null===y||void 0===y||null===(x=y.touched)||void 0===x?void 0:x[h])&&(0,u.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===y||void 0===y||null===(m=y.errors)||void 0===m?void 0:m[h]})]})}},9788:function(e,n,r){r(2791);var t=r(3455),a=r(7139),i=r(9230),s=r(2636),o=r(3239),l=r(184);n.Z=function(e){var n=e.open,r=e.onClose,u=e.title,c=e.handleConfirm,d=e.loading,f=(0,i.$G)(["common","validations"]).t;return(0,l.jsxs)(t.Z,{open:n,onClose:r,children:[(0,l.jsx)("div",{className:"w-14 h-14 mb-[10px] bg-primary-250 rounded-full items-center justify-center flex text-primary-main",children:(0,l.jsx)(a.Z,{variant:"Bold"})}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"text-center text-[16px] font-semibold mb-[35px]",children:u})}),(0,l.jsxs)("div",{className:"flex items-center justify-between w-full max-w-[236px]",children:[(0,l.jsx)("div",{className:"w-[102px]",children:(0,l.jsx)(s.Z,{disabled:d,text:d?(0,l.jsx)(o.Z,{color:"inherit",size:24}):f("yes"),onClick:d?function(){}:c})}),(0,l.jsx)("div",{className:"w-[102px]",children:(0,l.jsx)(s.Z,{disabled:d,text:f("no"),onClick:d?function(){}:r,bordered:!0})})]})]})}},3455:function(e,n,r){var t=r(1413),a=r(5931),i=r(3542),s=r(195),o=r(2791),l=r(184),u=o.forwardRef((function(e,n){return(0,l.jsx)(a.Z,(0,t.Z)({direction:"up",ref:n},e))}));n.Z=function(e){var n=e.open,r=e.onClose,t=e.children;return(0,l.jsx)(i.Z,{open:n,TransitionComponent:u,keepMounted:!0,onClose:r,"aria-describedby":"alert-dialog-slide-description",sx:{"& .MuiDialog-paper":{width:"452px"}},children:(0,l.jsx)(s.Z,{className:"flex items-center justify-center flex-col",children:t})})}},9354:function(e,n,r){var t=r(7047),a=r(184);n.Z=function(){return(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsx)("div",{className:"w-full h-[71px] bg-text-200 border border-text-300 rounded-t-[4px] grid grid-cols-6 items-center justify-center px-4",children:Array.from(Array(5).keys()).map((function(e,n){return(0,a.jsx)(t.Z,{variant:"rounded",width:"37px",height:18,animation:"wave"},n)}))}),Array.from(Array(5).keys()).map((function(e,n){return(0,a.jsxs)("div",{className:"w-full h-[71px] border border-text-300 border-t-0 rounded-t-[4px] grid grid-cols-6 items-center justify-center px-4",children:[Array.from(Array(5).keys()).map((function(e,n){return(0,a.jsx)(t.Z,{variant:"rounded",width:"45px",height:18,animation:"wave"},n)})),(0,a.jsx)("div",{className:"w-[120px] flex items-cente justify-center",children:(0,a.jsx)("div",{className:"w-[92px] h-[38px] rounded-full border border-text-400 flex items-center justify-center",children:(0,a.jsx)(t.Z,{variant:"rounded",width:"47px",height:14,animation:"wave"})})})]},n)}))]})}},459:function(e,n,r){r.r(n),r.d(n,{default:function(){return V}});var t=r(4165),a=r(5861),i=r(9439),s=r(2636),o=r(6718),l=r(2634),u=r(7139),c=r(4370),d=r(9230),f=r(2791),p=r(9354),v=r(1310),x=r(2737),m=r(1594),h=r(516);function w(){return(w=(0,a.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,h.Z)())||void 0===n?void 0:n.get("/keywords");case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=(0,a.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,h.Z)())||void 0===n?void 0:n.get("/languages");case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(0,h.Z)())||void 0===r?void 0:r.post("/keywords",{keyword:n});case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=(0,h.Z)())||void 0===a?void 0:a.put("/keywords/"+n,{keyword:r});case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=(0,a.Z)((0,t.Z)().mark((function e(n,r,a){var i,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(i=(0,h.Z)())||void 0===i?void 0:i.post("/translations",{keyword_id:n,language_id:r,translation:a});case 2:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(0,h.Z)())||void 0===r?void 0:r.delete("/keywords/"+n);case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k={keywordsList:function(){return w.apply(this,arguments)},languagesList:function(){return y.apply(this,arguments)},saveKeyword:function(e){return Z.apply(this,arguments)},saveTranslation:function(e,n,r){return b.apply(this,arguments)},updateKeyword:function(e,n){return g.apply(this,arguments)},deleteKeyword:function(e){return j.apply(this,arguments)}},C=r(8551).Z.actions,N=function(){return function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.keywordsList();case 2:a=e.sent,n(C.keywordsList(a));case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},S=function(e){return function(){var n=(0,a.Z)((0,t.Z)().mark((function n(r,a){var s,o,l,u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(C.saveSuccess(!1)),n.prev=1,n.next=4,k.saveKeyword(e.keyword);case 4:s=n.sent,o=(0,t.Z)().mark((function e(){var n,r,o,c,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,i.Z)(u[l],2),o=r[0],c=r[1],d=null===(n=a().translations.languages)||void 0===n?void 0:n.find((function(e){return e.language===o})),console.log("".concat(o,": ").concat(c)),""===c||!d){e.next=6;break}return e.next=6,k.saveTranslation(s.id,d.id,c);case 6:case"end":return e.stop()}}),e)})),l=0,u=Object.entries(e);case 7:if(!(l<u.length)){n.next=12;break}return n.delegateYield(o(),"t0",9);case 9:l++,n.next=7;break;case 12:n.next=16;break;case 14:n.prev=14,n.t1=n.catch(1);case 16:return n.prev=16,r(C.saveSuccess(!0)),r(N()),n.finish(16);case 20:case"end":return n.stop()}}),n,null,[[1,14,16,20]])})));return function(e,r){return n.apply(this,arguments)}}()},A=function(e){return function(){var n=(0,a.Z)((0,t.Z)().mark((function n(r,a){var s,o,l,u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(C.saveSuccess(!1)),n.prev=1,n.next=4,k.updateKeyword(e.id,e.keyword);case 4:s=n.sent,o=(0,t.Z)().mark((function e(){var n,r,o,c,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,i.Z)(u[l],2),o=r[0],c=r[1],d=null===(n=a().translations.languages)||void 0===n?void 0:n.find((function(e){return e.language===o})),console.log("".concat(o,": ").concat(c)),""===c||!d){e.next=6;break}return e.next=6,k.saveTranslation(s.id,d.id,c);case 6:case"end":return e.stop()}}),e)})),l=0,u=Object.entries(e);case 7:if(!(l<u.length)){n.next=12;break}return n.delegateYield(o(),"t0",9);case 9:l++,n.next=7;break;case 12:n.next=16;break;case 14:n.prev=14,n.t1=n.catch(1);case 16:return n.prev=16,r(C.saveSuccess(!0)),r(N()),n.finish(16);case 20:case"end":return n.stop()}}),n,null,[[1,14,16,20]])})));return function(e,r){return n.apply(this,arguments)}}()},T=r(9134),F=r(8923),K=r(5705),_=r(1724),B=r(184),D=function(e){var n=e.open,r=e.handleClose,i=e.keyword,o=e.langs,l=(0,d.$G)(["common","validations"]).t,u=(0,x.T)(),p=(0,x.C)((function(e){return e.translations.saveSuccess})),v=_.Ry().shape({keyword:_.Z_().required(l("keyword.required",{ns:"validations"})||"")}),m={id:0,keyword:""};o.map((function(e){m[e.language]=""}));var h=(0,K.TA)({initialValues:m,validationSchema:v,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.id?u(A(n)):u(S(n));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),w=function(){r&&r(),h.resetForm(),h.setValues(m)};return(0,f.useEffect)((function(){i&&(h.setFieldValue("id",i.id),h.setFieldValue("keyword",i.keyword),i.translations.map((function(e){h.setFieldValue("".concat(e.lang),e.translation)})))}),[i]),(0,f.useEffect)((function(){r&&r(),h.resetForm(),h.setValues(m)}),[p]),console.log("formik.values",h.values),(0,B.jsxs)(T.Z,{headerText:l("addBasicData"),headerIcon:(0,B.jsx)(c.Z,{}),open:n,handleClose:w,children:[(0,B.jsx)(T.Z.Content,{children:(0,B.jsxs)("div",{className:"p-7 font-bold text-[18px]",children:[(0,B.jsx)("p",{className:"text-start",children:l("enterBasicDataDetail")}),(0,B.jsx)("form",{onSubmit:h.handleSubmit,className:"w-full",children:(0,B.jsxs)("div",{className:"mt-7 w-full grid grid-cols-2 gap-x-5 gap-y-7",children:[(0,B.jsx)(F.Z,{name:"keyword",label:l("keyword"),type:"text",placeholder:l("keyword"),formik:h}),null===o||void 0===o?void 0:o.map((function(e,n){return(0,B.jsx)(F.Z,{name:e.language,label:l("translateIn")+" "+l(e.language),type:"text",placeholder:l(e.language),formik:h},e.id)}))]})})]})}),(0,B.jsx)(T.Z.Footer,{children:(0,B.jsxs)("div",{className:"py-[24px] border-t border-text-300 px-7 flex justify-between",children:[(0,B.jsx)("div",{className:"w-[126px]",children:(0,B.jsx)(s.Z,{disabled:!p,text:l("cancel"),onClick:w,gray:!0})}),(0,B.jsx)("div",{className:"w-[207px]",children:(0,B.jsx)(s.Z,{disabled:!p,icon:p?(0,B.jsx)(c.Z,{}):null,text:l("submit"),onClick:function(){h.handleSubmit()},loading:!p})})]})})]})},L=r(9788),V=function(){var e=(0,d.$G)().t,n=(0,f.useState)(!1),r=(0,i.Z)(n,2),h=r[0],w=r[1],y=(0,x.C)((function(e){return e.translations.keywords})),Z=(0,x.C)((function(e){return e.translations.languages})),g=(0,f.useState)(null),b=(0,i.Z)(g,2),j=b[0],S=b[1],A=(0,x.T)(),T=(0,f.useState)(!1),F=(0,i.Z)(T,2),K=F[0],_=F[1],V=(0,f.useState)(!1),E=(0,i.Z)(V,2),O=E[0],G=E[1];(0,f.useEffect)((function(){A(N()),!Z&&A(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.languagesList();case 2:a=e.sent,n(C.languagesList(a));case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}())}),[]);var I=[{name:e("#"),selector:function(e){return e.id},sortable:!0},{name:e("keyword"),selector:function(e){return e.keyword},sortable:!0},{name:e("translateIn")+" "+e("en"),selector:function(n){var r;return(null===(r=n.translations.find((function(e){return"en"==e.lang})))||void 0===r?void 0:r.translation)||e("dontHave")},sortable:!0},{allowOverflow:!0,button:!0,width:"120px",cell:function(n){return(0,B.jsx)(m.Z,{items:[{icon:(0,B.jsx)(l.Z,{variant:"Bold"}),text:e("edit"),name:"edit"},{icon:(0,B.jsx)(u.Z,{variant:"Bold"}),text:e("delete"),name:"delete"}].filter(Boolean),handleAction:P,row:n})}}],P=function(e,n){switch(n){case"edit":S(e),w(!0);break;case"delete":S(e),_(!0)}},$=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,k.deleteKeyword(j.id);case 3:G(!1),_(!1),S(null),A(N());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,B.jsxs)("div",{className:"w-full h-full",children:[Z&&(0,B.jsx)(D,{open:h,handleClose:function(){w(!1),S(null)},langs:Z,keyword:j}),(0,B.jsx)(L.Z,{title:e("deleteKeywordConfirmation"),open:K,onClose:function(){_(!1),S(null)},handleConfirm:$,loading:O}),(0,B.jsx)(o.Z,{actions:(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("div",{className:"w-[186px] ms-4",children:(0,B.jsx)(s.Z,{icon:(0,B.jsx)(c.Z,{}),text:e("addKeyword"),onClick:function(){return w(!0)}})})}),title:e("translations")}),(0,B.jsx)("div",{children:y?(0,B.jsx)(v.Z,{columns:I,data:y||[]}):(0,B.jsx)(p.Z,{})})]})}}}]);
//# sourceMappingURL=459.f7d41eec.chunk.js.map