"use strict";(self.webpackChunknipa_panel_new=self.webpackChunknipa_panel_new||[]).push([[7320],{2737:function(e,t,n){n.d(t,{C:function(){return o},T:function(){return i}});var r=n(9434),i=function(){return(0,r.I0)()},o=r.v9},5138:function(e,t,n){n.d(t,{BU:function(){return s},Ir:function(){return f},ZU:function(){return c},bJ:function(){return l},gg:function(){return u},l$:function(){return x},nM:function(){return d},zm:function(){return p}});var r=n(4165),i=n(5861),o=n(685),a=n(5359).Z.actions,s=function(){return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.productsList();case 2:i=e.sent,t(a.productsList(i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},c=function(e){return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,i){var s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.productStepsList(e);case 2:s=t.sent,n(a.productStepsList(s));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,i){var s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e){t.next=2;break}return t.abrupt("return",n(a.productStepInfo(null)));case 2:return t.next=4,o.Z.productStepInfo(e);case 4:s=t.sent,n(a.productStepInfo(s));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,i){var s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.saveProduct(e);case 2:s=t.sent,n(a.saveProduct(s));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},d=function(e,t){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(i,c){var l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.updateProduct(e,t);case 2:l=n.sent,i(a.updateProduct(l)),i(s());case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,i){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(a.setSaveSuccess(e));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,i){var s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.deleteProduct(e);case 2:s=t.sent,n(a.deleteProduct(s));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,i){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(a.setDeleteSuccess(e));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},685:function(e,t,n){var r=n(4165),i=n(5861),o=n(516);function a(){return(a=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,o.Z)())||void 0===t?void 0:t.get("/products");case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,o.Z)())||void 0===n?void 0:n.get("/product/".concat(t,"/steps"));case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,o.Z)())||void 0===n?void 0:n.get("/productSteps/".concat(t));case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(i=(0,o.Z)())||void 0===i?void 0:i.post("/product/steps/".concat(t,"/setRoles"),{roles:n.join(",")});case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,o.Z)())||void 0===n?void 0:n.post("/products",{name:t.name,code:t.code,custom:t.custom,price:t.price,count_type:t.count_type,status:t.status,description:t.description,images:null===(i=t.images)||void 0===i?void 0:i.map((function(e){return e.hashCode}))});case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(i=(0,o.Z)())||void 0===i?void 0:i.put("/products/".concat(t),{name:n.name,code:n.code,custom:n.custom,count_type:n.count_type,price:n.price,status:n.status,description:n.description,images:null===(a=n.images)||void 0===a?void 0:a.map((function(e){return e.hashCode}))});case 2:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,o.Z)())||void 0===n?void 0:n.delete("/products/".concat(t));case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,o.Z)())||void 0===n?void 0:n.get("/products/".concat(t));case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,o.Z)())||void 0===n?void 0:n.post("/product/steps/conditions",{step_id:t.stepId,field_id:t.fieldId,option_id:t.optionId,next_step_id:t.nextStepId});case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.Z={productsList:function(){return a.apply(this,arguments)},saveProduct:function(e){return u.apply(this,arguments)},deleteProduct:function(e){return p.apply(this,arguments)},productStepsList:function(e){return s.apply(this,arguments)},productStepInfo:function(e){return c.apply(this,arguments)},setProductStepRoles:function(e,t){return l.apply(this,arguments)},addProductConditions:function(e){return x.apply(this,arguments)},getProduct:function(e){return f.apply(this,arguments)},updateProduct:function(e,t){return d.apply(this,arguments)}}},8555:function(e,t,n){var r=n(9687),i=n(2791),o=n(184);t.Z=function(e){var t,n,a,s,c,l=e.name,u=e.label,d=e.formik,p=e.className,f=e.inputActions,x=(0,i.useRef)(null);return(0,o.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(p),children:[(0,o.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,o.jsx)("label",{htmlFor:l,children:u}),null===f||void 0===f?void 0:f()]}),(0,o.jsx)(r.M,{onInit:function(e,t){return x.current=t},initialValue:(null===(t=d.values)||void 0===t?void 0:t[l])||"",id:l,value:null===(n=d.values)||void 0===n?void 0:n[l],onEditorChange:function(e){d.handleChange({target:{name:l,value:e}})},apiKey:"ajj87dt2tkk9iay286x5uxdjdb685g4spq516y5lacgqlerz",init:{height:150,width:"100%",menubar:!1,toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),(null===(a=d.errors)||void 0===a?void 0:a[l])&&(null===(s=d.touched)||void 0===s?void 0:s[l])&&(0,o.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===(c=d.errors)||void 0===c?void 0:c[l]})]})}},5583:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(1413),i=n(4165),o=n(3433),a=n(5861),s=n(9439),c=n(2791),l=n(7427),u=n(8433),d=n(1150),p=n(7139),f=n(9230),x=n(1193),m=n(3239),v=n(184),h=function(e){var t=e.src,n=e.badge,r=e.handleDelete,i=e.handleFullscreen,o=e.handleViewImage,a=e.hashCode,l=(0,c.useState)(),h=(0,s.Z)(l,2),Z=h[0],j=h[1],g=(0,c.useState)(!1),w=(0,s.Z)(g,2),b=w[0],y=w[1],N=(0,f.$G)(["common","validations"]).t;return(0,c.useEffect)((function(){if(t.hash_code){j("https://apidemo.nipaco.ir/api/v1/files/"+t.hash_code)}else x.ZP.fileToUrl(t).then((function(e){j(e)}))}),[]),(0,c.useEffect)((function(){var e;y((null===t||void 0===t||null===(e=t.type)||void 0===e?void 0:e.search("image"))>-1)}),[t]),(0,v.jsx)("div",{className:"group/item w-full h-full rounded-[6px] overflow-hidden relative",children:(0,v.jsxs)("div",{className:"w-full h-full relative",children:[n&&b&&(0,v.jsx)("p",{className:"right-[8px] top-[8px] text-[10px] inline-block absolute py-[5px] px-[8px] bg-secondary-500 text-white rounded-[4px]",children:n}),b?(0,v.jsx)("img",{src:Z,alt:"",className:"w-full h-full object-cover rounded-[6px]"}):(0,v.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col text-primary-main",children:[(0,v.jsx)(u.Z,{className:"w-8 h-8"}),(0,v.jsx)("p",{className:"mt-2",children:t.name})]}),(0,v.jsxs)("div",{className:"absolute top-0 left-0 bg-black-60 w-full h-full flex grid grid-rows-3 ".concat(a?"opacity-0":"opacity-100"," pointer-events-none group-hover/item:opacity-100 group-hover/item:pointer-events-auto transition-all"),children:[(0,v.jsx)("div",{}),(0,v.jsx)("div",{children:a?o&&(0,v.jsx)("p",{onClick:o,className:"cursor-pointer text-[10px] inline-block py-[5px] px-[8px] bg-secondary-500 text-white rounded-[4px]",children:N(b?"viewImage":"viewFile")}):(0,v.jsx)(m.Z,{})}),(0,v.jsxs)("div",{className:"w-full flex items-center justify-between px-[10px] py-[12px] text-white",children:[a&&i&&(0,v.jsx)("div",{className:"cursor-pointer",onClick:i,children:b&&(0,v.jsx)(d.Z,{})}),a&&r&&(0,v.jsx)("div",{className:"cursor-pointer",onClick:r,children:(0,v.jsx)(p.Z,{})})]})]})]})})},Z=n(5374),j=function(e){var t=e.url;return(0,v.jsxs)("div",{id:"image-fullscreen",className:"fixed w-[100vw] h-[100vh] bg-black-90 flex flex-col items-center justify-center left-0 top-0 z-[999]",children:[(0,v.jsx)("div",{className:"w-full h-[60px] px-16 pt-8 flex items-center text-white",children:(0,v.jsx)(Z.Z,{onClick:function(){document.body.removeChild(document.getElementById("image-fullscreen"))},className:"w-[40px] h-[40px] cursor-pointer"})}),(0,v.jsx)("div",{className:"w-full h-[calc(100%-60px)] flex items-center justify-center pb-10",children:(0,v.jsx)("img",{src:t,className:"w-full max-w-[70vw] h-full object-contain",alt:""})})]})},g=n(1250),w=n(516),b=n(174),y=function(e){var t,n,u,d,p,m,Z=e.name,y=e.label,N=e.formik,k=e.placeholder,C=e.className,S=e.imageOnly,P=e.setPending,_=e.mock,I=e.noBadge,T=(0,f.$G)(["common","validations"]).t,E=(0,c.useRef)(null),F=(0,c.useState)([]),q=(0,s.Z)(F,2),R=q[0],A=q[1],D=(0,c.useState)(!1),V=(0,s.Z)(D,2),z=V[0],B=V[1],L=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,o.Z)(R),r=Z+"_"+Math.floor(100*Math.random()),n.push({name:r,value:t.target.value,hashCode:null}),A((0,o.Z)(n)),B(!0),M(t.target.value,r,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,a){var s,c,l,u,d,p,f,x,m;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("file",t),e.prev=2,e.next=5,null===(c=(0,w.Z)())||void 0===c?void 0:c.post("/files",s,{headers:{"Content-Type":"multipart/form-data"}});case 5:null!==(d=e.sent)&&void 0!==d&&null!==(l=d.data)&&void 0!==l&&null!==(u=l.file)&&void 0!==u&&u.hash_code&&(p=(0,o.Z)(a),-1!==(f=p.findIndex((function(e){return e.name===n})))&&(p[f]=(0,r.Z)((0,r.Z)({},p[f]),{},{hashCode:d.data.file.hash_code}),A((0,o.Z)(p)))),B(!1),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(2),x=(0,o.Z)(a),-1!==(m=x.findIndex((function(e){return e.name===n})))&&(x.splice(m,1),A((0,o.Z)(x))),b.Z.error(T("validations:uploadError")),B(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.Z)(R),e.prev=1,e.next=4,null===(a=(0,w.Z)())||void 0===a?void 0:a.delete("/files/".concat(t.hashCode));case 4:e.sent,r.splice(n,1),A((0,o.Z)(r)),b.Z.success(T("validations:imageDeleteSuccess")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),b.Z.error(T("validations:imageDeleteError"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}();((0,c.useEffect)((function(){N.setFieldValue(Z,R)}),[R]),(null===(t=N.values)||void 0===t||null===(n=t[Z])||void 0===n?void 0:n.length)>0&&0==R.length)&&A((null===(m=N.values)||void 0===m?void 0:m[Z])||[]);return(0,c.useEffect)((function(){P&&P(z)}),[z]),(0,v.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(C),children:[(0,v.jsx)("div",{className:"text-sm mb-2 flex justify-between w-full",children:(0,v.jsx)("label",{className:"font-normal",htmlFor:Z,children:y})}),(0,v.jsxs)("div",{className:"bg-text-300 w-full p-[14px] grid grid-cols-5 gap-x-5 gap-y-5",children:[R.length<5&&(0,v.jsx)("div",{className:"bg-white w-full h-min rounded-[6px]",children:(0,v.jsx)(l.Z,{disabled:z,name:"uploadFile",imageOnly:S,fileRef:E,placeholder:z?T("pleaseWait")||"":k||"",formik:{handleChange:function(e){_||(L(e),E.current&&(E.current.value=""))}}})}),R.map((function(e,t){return(0,v.jsx)("div",{className:"bg-white rounded-[6px] w-full h-[144px]",children:(0,v.jsx)(h,{src:(null===e||void 0===e?void 0:e.value)||(null===e||void 0===e?void 0:e.file),hashCode:e.hashCode,handleDelete:function(){U(e,t)},handleFullscreen:function(){!function(e){x.ZP.imageValidExtensions.includes(e.type)&&x.ZP.fileToUrl(e).then((function(e){var t=document.createElement("div");t.setAttribute("id","image-fullscreen"),document.body.appendChild(t),g.createRoot(t).render((0,v.jsx)(j,{url:e}))}))}(e.value)},handleViewImage:function(){!function(e){var t=x.ZP.fileToBlob(e),n=URL.createObjectURL(t);window.open(n,"_blank")}(e.value)},badge:0!==t||I?"":T("mainImage")||""})},t)}))]}),(null===(u=N.errors)||void 0===u?void 0:u[Z])&&(null===(d=N.touched)||void 0===d?void 0:d[Z])&&(0,v.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===(p=N.errors)||void 0===p?void 0:p[Z]})]})}},1745:function(e,t,n){n.d(t,{Z:function(){return l}});n(2791);var r=n(7865),i=n(9900),o=n(7064),a=n(911),s=n(1193),c=n(184);function l(e){var t,n,l,u=e.items,d=e.open,p=e.handleClose,f=e.anchorEl,x=e.profileInfo,m=JSON.parse(localStorage.getItem("nipa_user")||"");return(0,c.jsxs)(a.Z,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:f,open:d,onClose:p,sx:{"& .MuiPaper-root":{width:x?"280px":"190px",border:"1px solid #e8e8e8",boxShadow:"none",borderRadius:"8px !important",marginTop:1}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[x&&(0,c.jsx)(r.Z,{sx:{backgroundColor:"white !important",padding:"24px 25px",borderBottom:"1px solid #ededed","&:hover":{backgroundColor:"#fff !important"},"& span":{fontSize:"14px !important",color:"#000"},"& svg":{color:"#7f7f7f !important"}},children:(0,c.jsxs)("div",{className:"flex w-full gap-x-[10px] items-center justify-start",children:[(0,c.jsx)("div",{className:"bg-primary-main/40 border border-text-300 w-[53px] h-[53px] overflow-hidden rounded-full flex items-center justify-center",children:m.avatar?(0,c.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfm8UnQUb93iMa_J1a9GuKRJ1LWIzTD8dxrA&usqp=CAU",alt:"avatar",className:"w-full h-full fit-cover rounded-full"}):(0,c.jsx)("p",{className:"text-[20px] font-bold",children:null===(t=m.name)||void 0===t||null===(n=t.split(""))||void 0===n||null===(l=n[0])||void 0===l?void 0:l.toUpperCase()})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"text-text-800",children:[m.name," ",m.last_name]}),(0,c.jsx)("p",{className:"text-text-500 text-[14px] mt-1",children:s.ZP.toPersianDigits(m.mobile)})]})]})}),u.map((function(e,t){return(0,c.jsxs)(r.Z,{disabled:e.disabled,sx:{padding:x?"12px 25px":"6px 16px","&:hover":{backgroundColor:"#e9edf3"},"& span":{fontSize:"14px !important",color:"#000"}},onClick:e.onClick,children:[(0,c.jsx)(o.Z,{className:x?"svg:!text-text-700":"",children:e.icon}),(0,c.jsx)(i.Z,{className:x?"text-text-700":"",children:e.text})]},t)}))]})}},9788:function(e,t,n){n(2791);var r=n(3455),i=n(7139),o=n(9230),a=n(2636),s=n(3239),c=n(184);t.Z=function(e){var t=e.open,n=e.onClose,l=e.title,u=e.handleConfirm,d=e.loading,p=(0,o.$G)(["common","validations"]).t;return(0,c.jsxs)(r.Z,{open:t,onClose:n,children:[(0,c.jsx)("div",{className:"w-14 h-14 mb-[10px] bg-primary-250 rounded-full items-center justify-center flex text-primary-main",children:(0,c.jsx)(i.Z,{variant:"Bold"})}),(0,c.jsx)("div",{children:(0,c.jsx)("p",{className:"text-center text-[16px] font-semibold mb-[35px]",children:l})}),(0,c.jsxs)("div",{className:"flex items-center justify-between w-full max-w-[236px]",children:[(0,c.jsx)("div",{className:"w-[102px]",children:(0,c.jsx)(a.Z,{disabled:d,text:d?(0,c.jsx)(s.Z,{color:"inherit",size:24}):p("yes"),onClick:d?function(){}:u})}),(0,c.jsx)("div",{className:"w-[102px]",children:(0,c.jsx)(a.Z,{disabled:d,text:p("no"),onClick:d?function(){}:n,bordered:!0})})]})]})}},3455:function(e,t,n){var r=n(1413),i=n(5931),o=n(3542),a=n(195),s=n(2791),c=n(184),l=s.forwardRef((function(e,t){return(0,c.jsx)(i.Z,(0,r.Z)({direction:"up",ref:t},e))}));t.Z=function(e){var t=e.open,n=e.onClose,r=e.children;return(0,c.jsx)(o.Z,{open:t,TransitionComponent:l,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",sx:{"& .MuiDialog-paper":{width:"452px"}},children:(0,c.jsx)(a.Z,{className:"flex items-center justify-center flex-col",children:r})})}},9134:function(e,t,n){var r=n(9439),i=n(5374),o=n(2791),a=n(184),s=function(e){var t=e.children;return(0,a.jsx)("div",{className:"h-[calc(100%-97px)] overflow-auto",children:t})},c=function(e){var t=e.children;return(0,a.jsx)("div",{children:t})},l=function(e){var t=e.open,n=e.handleClose,l=e.children,u=e.headerIcon,d=e.headerText,p=void 0===d?"":d,f=(0,o.useState)(Math.floor(1e3*Math.random())),x=(0,r.Z)(f,2),m=x[0];x[1];return(0,a.jsx)("div",{id:"dialog".concat(m),onClick:function(e){e.target.id==="dialog"+m&&(null===n||void 0===n||n())},className:"w-full h-full fixed bg-black-60 rtl:left-0 ltr:right-0 top-0 transition-all ".concat(t?"opacity-1 z-[999] delay-200":"pointer-events-none opacity-0 z-0 delay-300"),children:(0,a.jsxs)("div",{className:"h-full w-[60%] min-w-[900px] bg-white transition-all\t".concat(t?"translate-x-0 delay-300":"ltr:-translate-x-[100%] rtl:translate-x-[100%] delay-200"),children:[p&&(0,a.jsxs)("div",{className:"flex w-full px-8 py-6 items-center justify-between border-b border-text-300",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"me-3 w-9 h-9 rounded-[12px] bg-primary-main flex items-center justify-center text-white",children:u}),(0,a.jsx)("p",{className:"text-[20px] leading-[20px] font-bold",children:p})]}),(0,a.jsx)("div",{className:"w-9 h-9",children:(0,a.jsx)("button",{onClick:n,className:"w-9 h-9",children:(0,a.jsx)(i.Z,{className:"w-9 h-9"})})})]}),(0,a.jsx)("div",{className:"flex justify-between w-full flex-col h-[calc(100%-85px)]",children:o.Children.map(l,(function(e){return e.type===s?(0,a.jsx)(s,{children:e.props.children}):e.type===c?(0,a.jsx)(c,{children:e.props.children}):void 0}))})]})})};l.Content=s,l.Footer=c,t.Z=l},9354:function(e,t,n){var r=n(7047),i=n(184);t.Z=function(){return(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("div",{className:"w-full h-[71px] bg-text-200 border border-text-300 rounded-t-[4px] grid grid-cols-6 items-center justify-center px-4",children:Array.from(Array(5).keys()).map((function(e,t){return(0,i.jsx)(r.Z,{variant:"rounded",width:"37px",height:18,animation:"wave"},t)}))}),Array.from(Array(5).keys()).map((function(e,t){return(0,i.jsxs)("div",{className:"w-full h-[71px] border border-text-300 border-t-0 rounded-t-[4px] grid grid-cols-6 items-center justify-center px-4",children:[Array.from(Array(5).keys()).map((function(e,t){return(0,i.jsx)(r.Z,{variant:"rounded",width:"45px",height:18,animation:"wave"},t)})),(0,i.jsx)("div",{className:"w-[120px] flex items-cente justify-center",children:(0,i.jsx)("div",{className:"w-[92px] h-[38px] rounded-full border border-text-400 flex items-center justify-center",children:(0,i.jsx)(r.Z,{variant:"rounded",width:"47px",height:14,animation:"wave"})})})]},t)}))]})}},1310:function(e,t,n){var r=n(3513),i=n(9230),o=n(184);t.Z=function(e){var t=e.columns,n=e.data,a=(0,i.$G)().i18n;return(0,o.jsx)(r.ZP,{direction:"ltr"===a.dir()?r.Nm.LTR:r.Nm.RTL,columns:t,data:n,className:"customTable",conditionalRowStyles:[{when:function(e){return"footer"===e.id},style:{backgroundColor:"rgba(247, 247, 247, 1)",borderTop:"2px solid #EDEDED","&:hover":{cursor:"pointer"}}}]})}},1594:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(1413),i=n(9439),o=n(6970),a=n(2791),s=n(184),c=function(e){var t=e.text,n=e.onClick,r=e.icon,i=e.after,o=e.ref,a=e.simple,c=void 0!==a&&a,l=function(){return r?(0,s.jsx)("div",{className:"inline-block text-text-600",children:r}):(0,s.jsx)(s.Fragment,{})};return(0,s.jsxs)("button",{ref:o,className:"".concat(c?"":"border border-text-400"," bg-transparent rounded-full text-text-900 w-full h-[38px] flex ltr:flex-row-reverse items-center justify-center hover:bg-text-4"),onClick:n,children:[!i&&l(),!c&&t,i&&l()]})},l=n(1745),u=n(9230),d=function(e){var t=e.row,n=e.handleAction,d=e.items,p=e.simple,f=void 0!==p&&p,x=(0,a.useRef)(null),m=(0,u.$G)().t,v=(0,a.useState)(!1),h=(0,i.Z)(v,2),Z=h[0],j=h[1];return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"".concat(f?"w-[20px]":"w-[92px] pb-[5px]"),ref:x,children:[(0,s.jsx)(c,{after:!0,icon:(0,s.jsx)(o.Z,{className:"rotate-90 pt-[5px]"}),text:m("action"),simple:f,onClick:function(){console.log(t),j(!0)}}),(0,s.jsx)(l.Z,{anchorEl:x.current,open:Z,handleClose:function(){j(!1)},items:d.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{onClick:function(){return function(e,t){j(!1),n&&n(e,t)}(t,e.name)}})}))})]})})}},7320:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(9439),i=n(2634),o=n(1516),a=n(7139),s=n(4370),c=n(2791),l=n(6718),u=n(2636),d=n(1310),p=n(1594),f=n(2737),x=n(9230),m=n(5138),v=n(4165),h=n(5861),Z=n(6995),j=n(9134),g=n(8923),w=n(5705),b=n(745),y=n(5583),N=n(8555),k=n(1724),C=n(174),S=n(685),P=n(2841),_=n(184),I=function(e){var t=e.open,n=e.handleClose,i=e.selectedProductId,o=(0,x.$G)(["common","validations"]).t,a=(0,f.T)(),l=(0,f.C)((function(e){return e.products.saveSuccess})),d=(0,c.useState)(),p=(0,r.Z)(d,2),I=p[0],T=p[1];(0,c.useEffect)((function(){function e(){return(e=(0,h.Z)((0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=5;break}return e.next=3,S.Z.getProduct(i);case 3:t=e.sent,T(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]);var E=(0,c.useState)(!1),F=(0,r.Z)(E,2),q=F[0],R=F[1],A=k.Ry().shape({code:k.Z_().required(o("productCode.required",{ns:"validations"})||""),name:k.Z_().required(o("productName.required",{ns:"validations"})||""),description:k.Z_().required(o("productDescription.required",{ns:"validations"})||""),count_type:k.Z_().required(o("countType.required",{ns:"validations"})||""),price:k.Z_().when("custom",{is:0,then:k.Z_().required(o("productPrice.required",{ns:"validations"})||""),otherwise:k.Z_()})}),D=(0,w.TA)({initialValues:{code:"",name:"",status:1,custom:1,description:"",price:"",count_type:"quantity",images:[]},validationSchema:A,onSubmit:function(e){a(i?(0,m.nM)(i,e):(0,m.gg)(e))}}),V=function(){n&&n(),T(void 0),D.resetForm()};return(0,c.useEffect)((function(){l&&(V(),a((0,m.zm)(!1)),C.Z.success(o(i?"updateProductSuccess":"addProductSuccess")))}),[l]),console.log("formik",D),(0,c.useEffect)((function(){!function(){var e,t,n,r;I&&(D.setFieldValue("code",I.code),D.setFieldValue("name",I.name),D.setFieldValue("status",I.status),D.setFieldValue("custom",I.custom),D.setFieldValue("count_type",I.count_type),D.setFieldValue("description",null===(e=I.details)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.description),D.setFieldValue("price",(null===(n=I.details)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.price)||""),D.setFieldValue("images",I.images))}()}),[I]),(0,_.jsxs)(j.Z,{headerText:o("addProduct"),headerIcon:(0,_.jsx)(s.Z,{}),open:t,handleClose:V,children:[(0,_.jsxs)(j.Z.Content,{children:[i&&!I&&(0,_.jsx)(P.Z,{}),(0,_.jsxs)("div",{className:"p-7 font-bold text-[18px]",children:[(0,_.jsx)("p",{className:"text-start",children:o("enterProductDetail")}),(0,_.jsxs)("form",{onSubmit:D.handleSubmit,className:"w-full",children:[(0,_.jsxs)("div",{className:"mt-7 w-full grid grid-cols-2 gap-x-5 gap-y-7",children:[(0,_.jsx)(g.Z,{name:"code",label:o("productCode"),type:"text",placeholder:o("productCode.placeholder",{ns:"validations"}),formik:D}),(0,_.jsx)(g.Z,{name:"name",label:o("productName"),type:"text",placeholder:o("productName.placeholder",{ns:"validations"}),formik:D}),(0,_.jsx)(b.Z,{className:"group",name:"status",label:o("status"),options:[{label:(0,_.jsx)("p",{children:o("active")}),value:1},{label:(0,_.jsx)("p",{children:o("inactive")}),value:0}],placeholder:o("productStatus.placeholder",{ns:"validations"}),formik:D}),(0,_.jsx)(b.Z,{className:"group",name:"custom",label:o("productType"),options:[{label:(0,_.jsx)("p",{children:o("custom")}),value:1},{label:(0,_.jsx)("p",{children:o("normal")}),value:0}],placeholder:o("productType.placeholder",{ns:"validations"}),formik:D})]}),(0,_.jsx)("div",{className:"mt-7 w-full grid grid-cols-1 gap-x-5 gap-y-7",children:(0,_.jsx)(b.Z,{className:"group",name:"count_type",label:o("countType"),options:[{label:(0,_.jsx)("p",{children:o("quantity")}),value:"quantity"},{label:(0,_.jsx)("p",{children:o("m2")}),value:"m2"}],placeholder:o("countType.placeholder",{ns:"validations"}),formik:D})}),0==D.values.custom&&(0,_.jsx)("div",{className:"mt-7 w-full grid grid-cols-1 gap-x-5 gap-y-7",children:(0,_.jsx)(g.Z,{name:"price",label:o("price"),type:"number",placeholder:o("productPrice.placeholder",{ns:"validations"}),formik:D})}),(0,_.jsx)("div",{className:"mt-7 w-full grid grid-cols-1 gap-x-5 gap-y-7",children:t&&(0,_.jsx)(y.Z,{className:"group",name:"images",label:o("productImages"),placeholder:o("uploadNewImage"),imageOnly:!0,formik:D,setPending:R})}),(0,_.jsx)("div",{className:"mt-7 w-full grid grid-cols-1 gap-x-5 gap-y-7",children:(0,_.jsx)(N.Z,{name:"description",label:o("description"),formik:D})})]})]})]}),(0,_.jsx)(j.Z.Footer,{children:(0,_.jsxs)("div",{className:"py-[24px] border-t border-text-300 px-7 flex justify-between",children:[(0,_.jsx)("div",{className:"w-[126px]",children:(0,_.jsx)(u.Z,{disabled:q,text:"\u0627\u0646\u0635\u0631\u0627\u0641",onClick:V,gray:!0})}),(0,_.jsx)("div",{className:"w-[207px]",children:(0,_.jsx)(u.Z,{disabled:q,icon:i?(0,_.jsx)(Z.Z,{}):(0,_.jsx)(s.Z,{}),text:o(i?"editProduct":"addProduct"),onClick:function(){D.handleSubmit()}})})]})})]})},T=n(9788),E=n(7689),F=n(9354),q=function(){var e=(0,f.C)((function(e){return e.products.products})),t=(0,c.useState)([]),n=(0,r.Z)(t,2),v=n[0],h=n[1],Z=(0,c.useState)(!1),j=(0,r.Z)(Z,2),g=j[0],w=j[1],b=(0,E.s0)(),y=(0,f.C)((function(e){return e.products.deleteSuccess})),N=(0,x.$G)("common").t,k=(0,c.useState)(null),S=(0,r.Z)(k,2),P=S[0],q=S[1],R=(0,c.useState)(!1),A=(0,r.Z)(R,2),D=A[0],V=A[1],z=(0,c.useState)(!1),B=(0,r.Z)(z,2),L=B[0],M=B[1],U=(0,f.T)();(0,c.useEffect)((function(){U((0,m.BU)())}),[]),(0,c.useEffect)((function(){if(e){console.log("data123",e);var t=[{name:N("productCode"),selector:function(e){return e.code},sortable:!0},{name:N("title"),selector:function(e){return e.name},sortable:!0},{name:N("productType"),selector:function(e){return e.custom?N("custom"):N("normal")},sortable:!0},{name:N("countType"),selector:function(e){return N(e.count_type)},sortable:!0},{name:N("status"),selector:function(e){return N("active")},sortable:!0}];t.push({allowOverflow:!0,button:!0,width:"120px",cell:function(e){return(0,_.jsx)(p.Z,{items:[{icon:(0,_.jsx)(i.Z,{variant:"Bold"}),text:N("edit"),name:"edit"},e.custom&&{icon:(0,_.jsx)(o.Z,{variant:"Bold"}),text:N("manageSteps"),name:"steps"},{icon:(0,_.jsx)(a.Z,{variant:"Bold"}),text:N("delete"),name:"delete"}].filter(Boolean),handleAction:G,row:e})}}),h([].concat(t)),console.log("data.orders",e.cols)}}),[e]);var G=function(e,t){switch(console.log("row",e),console.log("action",t),q(e),t){case"delete":w(!0);break;case"steps":b("".concat(e.code,"/steps"));break;case"edit":M(!0)}};(0,c.useEffect)((function(){y&&(V(!1),w(!1),C.Z.success(N("deleteProductSuccess")),setTimeout((function(){U((0,m.l$)(!1))}),100))}),[y]);return(0,_.jsxs)("div",{className:"w-full h-full",children:[(0,_.jsx)(I,{open:L,handleClose:function(){M(!1),q(null)},selectedProductId:(null===P||void 0===P?void 0:P.id)||void 0}),(0,_.jsx)(T.Z,{title:N("deleteProductConfirmation"),open:g,onClose:function(){w(!1)},handleConfirm:function(){V(!0),console.log("selectedRow",P),U((0,m.Ir)(P.id))},loading:D}),(0,_.jsx)(l.Z,{actions:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"w-[186px] ms-4",children:(0,_.jsx)(u.Z,{icon:(0,_.jsx)(s.Z,{}),text:N("addProduct"),onClick:function(){return M(!0)}})})}),title:N("products")}),(0,_.jsx)("div",{children:e?(0,_.jsx)(d.Z,{columns:v,data:e||[]}):(0,_.jsx)(F.Z,{})})]})}}}]);
//# sourceMappingURL=7320.13976800.chunk.js.map