"use strict";(self.webpackChunknipa_panel_new=self.webpackChunknipa_panel_new||[]).push([[8395],{5443:function(e,t,n){n.d(t,{c:function(){return o},y:function(){return s}});var r=n(4165),a=n(5861),i=n(4999).Z.actions,o=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(i.setApiLoading(e));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},s=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(i.setCollapseMenu(e));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},4564:function(e,t,n){n.d(t,{D:function(){return s}});var r=n(4165),a=n(5861),i=n(6149),o=n(8467).Z.actions,s=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.basicDatasList();case 2:a=e.sent,t(o.basicDatasList(a));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},516:function(e,t,n){var r=n(3263),a=n(5443),i=n(2855),o=n(174);t.Z=function(){var e=r.Z.create({baseURL:"http://localhost:8000/api/v1",headers:localStorage.getItem("nipa_token")?{"Content-Type":"application/json",Accept:"application/json",language:localStorage.getItem("nipa-lang")||"fa",authorization:"Bearer "+localStorage.getItem("nipa_token")}:{"Content-Type":"application/json",Accept:"application/json"}});return e.interceptors.request.use((function(e){return i.Z.dispatch((0,a.c)(!0)),e}),(function(e){return i.Z.dispatch((0,a.c)(!1)),Promise.reject(e)})),e.interceptors.response.use((function(e){return i.Z.dispatch((0,a.c)(!1)),e}),(function(e){(e.response.status,403==e.response.status&&(document.location.href="/errors/403"),e.response.data.errors)?Object.keys(e.response.data.errors).map((function(t){return e.response.data.errors[t]})).forEach((function(e){o.Z.error(e)})):(console.log("err",e.response),o.Z.error(e.response.data.message||e.response.data.msg||e.response.data.error));return i.Z.dispatch((0,a.c)(!1)),Promise.reject(e)})),e}},1193:function(e,t,n){var r=n(9039);t.ZP={toISOLocal:function(e){var t=function(e){return("0"+e).slice(-2)},n=e.getTimezoneOffset();return n=Math.abs(n),e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())},pluralize:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return"".concat(e," ").concat(t).concat(1!==e?n:"")},fileToUrl:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var n=e.target.result;t(n)},r.onerror=function(e){n(e.target.error)},r.readAsDataURL(e)}))},imageValidExtensions:["image/jpeg","image/jpg","image/png","image/gif"],base64ToBlob:function(e,t){for(var n=window.atob(e),r=n.length,a=new Uint8Array(r),i=0;i<r;++i)a[i]=n.charCodeAt(i);return new Blob([a],{type:t})},renderStatusStyle:function(e){var t;switch(e){case"success":t="bg-success-secondary text-success-primary ";break;case"warning":t="bg-warning-secondary text-warning-text ";break;case"error":t="bg-error-secondary text-error-primary ";break;case"info":t="bg-info-secondary text-info-primary ";break;default:t="bg-text-300 text-text-600 "}return t},toPersianDigitsPutCommas:function(e,t){var n="\u06f0".charCodeAt(0);!e&&(e="");var a=e.split(".");a[0].length>3&&(a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","));var i=a.join(".");return t||"fa"===r.Z.language?String(i).replace(/[0-9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+n-48)})):i},fileToBlob:function(e){return new Blob([e],{type:e.type})},toPersianDigits:function(e,t){if(t||"fa"===r.Z.language){var n="\u06f0".charCodeAt(0);return String(e).replace(/[0-9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+n-48)}))}return e},dateToTimestamp:function(e){return new Date(e).getTime()},renderChatTime:function(e,t,n){var a=Math.floor(Date.now());if(t)return n?new Date(e).toLocaleDateString("fa-IR"):new Date(e).toLocaleDateString("fa-IR")+" , "+new Date(e).toLocaleTimeString("fa-IR").slice(0,5);var i=Math.floor((a-e)/1e3);return i<60?r.Z.t("fewSecondsAgo"):i<3600?Math.floor(i/60)+" "+r.Z.t("minutesAgo"):i<86400?Math.floor(i/3600)+" "+r.Z.t("hoursAgo"):i<604800?Math.floor(i/86400)+" "+r.Z.t("daysAgo"):new Date(e).toLocaleDateString("fa-IR")},checkPermission:function(e){var t,n=null===(t=JSON.parse(localStorage.getItem("nipa_user")||"{}"))||void 0===t?void 0:t.permissions;return!(null===n||void 0===n||!n.find((function(t){return t.slug===e})))},convetToEnglishDigitsRemoveCommas:function(e){var t="\u06f0".charCodeAt(0);return String(e).replace(/[\u06f0-\u06f9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-t+48)}))}}},6718:function(e,t,n){var r=n(9145),a=n(184);t.Z=function(e){var t=e.title,n=e.actions,i=e.handleBack;return(0,a.jsxs)("div",{className:"print:hidden w-full flex items-center justify-between mb-[20px]",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[i?(0,a.jsx)("div",{className:"cursor-pointer",onClick:i,children:(0,a.jsx)(r.Z,{className:"mx-[12px] text-gray-500 ltr:rotate-180"})}):(0,a.jsx)("span",{className:"inline-block w-[14px] h-[14px] rounded-[2px] bg-secondary-main me-3"}),(0,a.jsx)("p",{className:"text-gray-500 font-black",children:t})]}),(0,a.jsx)("div",{className:"flex",children:n})]})}},2636:function(e,t,n){var r=n(3239),a=(n(2791),n(1087)),i=n(184);t.Z=function(e){var t=e.type,n=e.simple,o=e.bordered,s=e.href,l=e.text,c=e.onClick,d=e.icon,u=e.after,x=e.sm,p=e.xs,m=e.gray,f=e.disabled,h=e.loading,v=e.className,g="w-full ".concat(v," ").concat(p?"h-[36px]":x?"h-[38px]":"h-12"," rounded-[8px] flex items-center justify-center bg-primary-main text-white ").concat(o?"border border-primary-main bg-transparent !text-primary-main":"","\n   ").concat(n?"border-none bg-transparent !text-primary-main":"","\n   ").concat(m?"border-none !bg-text-200 !text-text-500":"","\n    ").concat(f?"opacity-90 cursor-not-allowed pointer-events-none":"","\n  "),j=function(){return d?(0,i.jsx)("div",{className:"inline-block me-1",children:d}):(0,i.jsx)(i.Fragment,{})};return(0,i.jsxs)(i.Fragment,{children:[s&&(0,i.jsxs)(a.rU,{to:s,className:g,children:[!u&&j(),h?(0,i.jsx)(r.Z,{className:"!text-white !w-[20px] !h-[20px]"}):l,u&&j()]}),t&&(0,i.jsxs)("button",{className:g,type:t,children:[!u&&j(),h?(0,i.jsx)(r.Z,{className:"!text-white !w-[20px] !h-[20px]"}):l,u&&j()]}),c&&(0,i.jsxs)("button",{className:g,onClick:c,children:[!u&&j(),h?(0,i.jsx)(r.Z,{className:"!text-white !w-[20px] !h-[20px]"}):l,u&&j()]})]})}},8923:function(e,t,n){n(2791);var r=n(9504),a=n.n(r),i=n(4110),o=n(3466),s=n(1193),l=n(9230),c=n(184);t.Z=function(e){var t,n,r,d,u,x,p,m,f,h,v=e.name,g=e.label,j=e.formik,b=e.type,Z=void 0===b?"text":b,y=e.placeholder,w=e.maskChar,C=e.className,N=e.mask,k=e.inputActions,D=e.normal,S=e.endEndorement,A=e.multiline,B=e.readonly,T=e.value,P=(0,l.$G)().i18n;return(0,c.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(C),children:[g&&(0,c.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,c.jsx)("label",{htmlFor:v,className:"font-normal !text-xs",children:g}),null===k||void 0===k?void 0:k()]}),D?(0,c.jsx)(i.Z,{value:"number"==Z?s.ZP.toPersianDigitsPutCommas(null===j||void 0===j||null===(d=j.values)||void 0===d?void 0:d[v]):null===j||void 0===j||null===(u=j.values)||void 0===u?void 0:u[v],type:"text",readOnly:B,id:v,name:v,multiline:A,rows:A?4:1,placeholder:y||"",onChange:function(e){var t=s.ZP.convetToEnglishDigitsRemoveCommas(e.target.value),n="";if("number"==Z){var r=t.replace(/[^0-9.]/g,"").split(".");n=r.length>1?(r[0]||"0")+"."+(r[1]||""):r[0]}else n=e.target.value;null===j||void 0===j||j.handleChange({target:{name:v,value:n}})},disableUnderline:!0,endAdornment:(0,c.jsx)(o.Z,{position:"end",children:S}),className:"!text-sm text-text-400 w-full ".concat(A?"h-[100px] resize-none !p-2":"h-12"," border border-text-400 rounded-[8px] p-2 focus:border-primary-main !outline-none invalid:border-error-primary ").concat(null!==j&&void 0!==j&&null!==(x=j.errors)&&void 0!==x&&x[v]&&null!==j&&void 0!==j&&null!==(p=j.touched)&&void 0!==p&&p[v]?"!border-error-primary":"")}):(0,c.jsx)(a(),{mask:N||"",maskChar:w||" ",value:T||(null===j||void 0===j||null===(t=j.values)||void 0===t?void 0:t[v]),type:Z,dir:P.dir(),className:"w-full h-12 border border-text-400 rounded-[8px] p-2 text-sm focus:border-primary-main !outline-none invalid:border-error-primary ".concat(null!==j&&void 0!==j&&null!==(n=j.errors)&&void 0!==n&&n[v]&&null!==j&&void 0!==j&&null!==(r=j.touched)&&void 0!==r&&r[v]?"!border-error-primary":""),id:v,name:v,style:{direction:"tel"==Z?"ltr":P.dir()},placeholder:y||"",readOnly:B,onChange:function(e){null===j||void 0===j||j.handleChange({target:{name:v,value:e.target.value}})}}),(null===j||void 0===j||null===(m=j.errors)||void 0===m?void 0:m[v])&&(null===j||void 0===j||null===(f=j.touched)||void 0===f?void 0:f[v])&&(0,c.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===j||void 0===j||null===(h=j.errors)||void 0===h?void 0:h[v]})]})}},1745:function(e,t,n){n.d(t,{Z:function(){return c}});n(2791);var r=n(7865),a=n(9900),i=n(7064),o=n(911),s=n(1193),l=n(184);function c(e){var t,n,c,d=e.items,u=e.open,x=e.handleClose,p=e.anchorEl,m=e.profileInfo,f=JSON.parse(localStorage.getItem("nipa_user")||"");return(0,l.jsxs)(o.Z,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:p,open:u,onClose:x,sx:{"& .MuiPaper-root":{width:m?"280px":"190px",border:"1px solid #e8e8e8",boxShadow:"none",borderRadius:"8px !important",marginTop:1}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[m&&(0,l.jsx)(r.Z,{sx:{backgroundColor:"white !important",padding:"24px 25px",borderBottom:"1px solid #ededed","&:hover":{backgroundColor:"#fff !important"},"& span":{fontSize:"14px !important",color:"#000"},"& svg":{color:"#7f7f7f !important"}},children:(0,l.jsxs)("div",{className:"flex w-full gap-x-[10px] items-center justify-start",children:[(0,l.jsx)("div",{className:"bg-primary-main/40 border border-text-300 w-[53px] h-[53px] overflow-hidden rounded-full flex items-center justify-center",children:f.avatar?(0,l.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfm8UnQUb93iMa_J1a9GuKRJ1LWIzTD8dxrA&usqp=CAU",alt:"avatar",className:"w-full h-full fit-cover rounded-full"}):(0,l.jsx)("p",{className:"text-[20px] font-bold",children:null===(t=f.name)||void 0===t||null===(n=t.split(""))||void 0===n||null===(c=n[0])||void 0===c?void 0:c.toUpperCase()})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-text-800",children:[f.name," ",f.last_name]}),(0,l.jsx)("p",{className:"text-text-500 text-[14px] mt-1",children:s.ZP.toPersianDigits(f.mobile)})]})]})}),d.map((function(e,t){return(0,l.jsxs)(r.Z,{disabled:e.disabled,sx:{padding:m?"12px 25px":"6px 16px","&:hover":{backgroundColor:"#e9edf3"},"& span":{fontSize:"14px !important",color:"#000"}},onClick:e.onClick,children:[(0,l.jsx)(i.Z,{className:m?"svg:!text-text-700":"",children:e.icon}),(0,l.jsx)(a.Z,{className:m?"text-text-700":"",children:e.text})]},t)}))]})}},9788:function(e,t,n){n(2791);var r=n(3455),a=n(7139),i=n(9230),o=n(2636),s=n(3239),l=n(184);t.Z=function(e){var t=e.open,n=e.onClose,c=e.title,d=e.handleConfirm,u=e.loading,x=(0,i.$G)(["common","validations"]).t;return(0,l.jsxs)(r.Z,{open:t,onClose:n,children:[(0,l.jsx)("div",{className:"w-14 h-14 mb-[10px] bg-primary-250 rounded-full items-center justify-center flex text-primary-main",children:(0,l.jsx)(a.Z,{variant:"Bold"})}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"text-center text-[16px] font-semibold mb-[35px]",children:c})}),(0,l.jsxs)("div",{className:"flex items-center justify-between w-full max-w-[236px]",children:[(0,l.jsx)("div",{className:"w-[102px]",children:(0,l.jsx)(o.Z,{disabled:u,text:u?(0,l.jsx)(s.Z,{color:"inherit",size:24}):x("yes"),onClick:u?function(){}:d})}),(0,l.jsx)("div",{className:"w-[102px]",children:(0,l.jsx)(o.Z,{disabled:u,text:x("no"),onClick:u?function(){}:n,bordered:!0})})]})]})}},3455:function(e,t,n){var r=n(1413),a=n(5931),i=n(3542),o=n(195),s=n(2791),l=n(184),c=s.forwardRef((function(e,t){return(0,l.jsx)(a.Z,(0,r.Z)({direction:"up",ref:t},e))}));t.Z=function(e){var t=e.open,n=e.onClose,r=e.children;return(0,l.jsx)(i.Z,{open:t,TransitionComponent:c,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",sx:{"& .MuiDialog-paper":{width:"452px"}},children:(0,l.jsx)(o.Z,{className:"flex items-center justify-center flex-col",children:r})})}},325:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(4165),a=n(5861),i=n(9439),o=n(4370),s=n(2791),l=n(6718),c=n(2737),d=n(9230),u=n(9788),x=n(7689),p=n(8116),m=n(7139),f=n(1745),h=n(3767),v=n(184),g=function(e){var t=e.arrow,n=void 0===t||t,r=e.children,a=e.onClick,o=e.handleDelete,l=(0,s.useState)(!1),c=(0,i.Z)(l,2),u=c[0],x=c[1],g=(0,s.useRef)(null),j=(0,d.$G)().t;return(0,v.jsxs)("div",{ref:g,onContextMenu:function(e){e.preventDefault(),x(!0)},onClick:function(e){!u&&(null===a||void 0===a||a())},className:"transition-all cursor-pointer flex items-center justify-between w-full py-8 px-[23px] bg-white border border-text-300 hover:shadow rounded-[6px] text-text-500 hover:text-primary-main",children:[(0,v.jsx)("div",{children:r}),n&&(0,v.jsx)("div",{className:"ltr:rotate-180",children:(0,v.jsx)(p.Z,{})}),(0,v.jsx)(h.Z,{onClickAway:function(e){e.preventDefault(),x(!1)},children:(0,v.jsx)(f.Z,{anchorEl:g.current,open:u,handleClose:function(){x(!1)},items:[{icon:(0,v.jsx)(m.Z,{variant:"Bold"}),text:j("delete"),onClick:function(){x(!1),null===o||void 0===o||o()}}]})})]})},j=n(1193),b=n(3266),Z=function(e){var t=e.title,n=e.count,r=(0,d.$G)("common").t;return(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary-600 text-primary-main flex items-center justify-center me-4",children:(0,v.jsx)(b.Z,{variant:"Bold"})}),(0,v.jsxs)("div",{className:"flex flex-col items-start justify-center",children:[(0,v.jsx)("h3",{className:"text-[18px] font-bold mb-3 text-text-700 leading-[20px]",children:t}),(0,v.jsxs)("p",{className:"text-[16px] leading-[16px] text-text-500",children:[j.ZP.toPersianDigits(n)," ",r(n>1?"items":"item")]})]})]})},y=n(4564),w=n(7047),C=n(2636),N=n(9134),k=n(8923),D=n(5705),S=n(1724),A=n(5138),B=n(174),T=n(6149),P=function(e){var t=e.open,n=e.handleClose,l=e.getBasicData,u=(0,d.$G)(["common","validations"]).t,x=(0,c.T)(),p=(0,c.C)((function(e){return e.products.saveSuccess})),m=(0,s.useState)(!1),f=(0,i.Z)(m,2),h=f[0],g=(f[1],S.Ry().shape({type:S.Z_().required(u("code.required",{ns:"validations"})||""),name:S.Z_().required(u("name.required",{ns:"validations"})||"")})),j=(0,D.TA)({initialValues:{id:0,name:"",type:"",items:[]},validationSchema:g,onSubmit:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("valuekkkks",t),e.next=3,T.Z.addBasicData(t);case 3:e.sent.id&&(l(),null===n||void 0===n||n());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),b=function(){n&&n(),j.resetForm()};return(0,s.useEffect)((function(){p&&(b(),x((0,A.zm)(!1)),B.Z.success(u("addProductSuccess")))}),[p]),(0,v.jsxs)(N.Z,{headerText:u("addBasicData"),headerIcon:(0,v.jsx)(o.Z,{}),open:t,handleClose:b,children:[(0,v.jsx)(N.Z.Content,{children:(0,v.jsxs)("div",{className:"p-7 font-bold text-[18px]",children:[(0,v.jsx)("p",{className:"text-start",children:u("enterBasicDataDetail")}),(0,v.jsx)("form",{onSubmit:j.handleSubmit,className:"w-full",children:(0,v.jsxs)("div",{className:"mt-7 w-full grid grid-cols-2 gap-x-5 gap-y-7",children:[(0,v.jsx)(k.Z,{name:"type",label:u("typeEn"),type:"text",placeholder:u("type.placeholder",{ns:"validations"}),formik:j}),(0,v.jsx)(k.Z,{name:"name",label:u("name"),type:"text",placeholder:u("name.placeholder",{ns:"validations"}),formik:j})]})})]})}),(0,v.jsx)(N.Z.Footer,{children:(0,v.jsxs)("div",{className:"py-[24px] border-t border-text-300 px-7 flex justify-between",children:[(0,v.jsx)("div",{className:"w-[126px]",children:(0,v.jsx)(C.Z,{disabled:h,text:"\u0627\u0646\u0635\u0631\u0627\u0641",onClick:b,gray:!0})}),(0,v.jsx)("div",{className:"w-[207px]",children:(0,v.jsx)(C.Z,{disabled:h,icon:(0,v.jsx)(o.Z,{}),text:u("addBasicData"),onClick:function(){console.log("ok",j),j.handleSubmit()}})})]})})]})},R=function(){var e=(0,x.s0)(),t=(0,s.useState)(!1),n=(0,i.Z)(t,2),p=n[0],m=n[1],f=(0,d.$G)("common").t,h=(0,s.useState)(!1),j=(0,i.Z)(h,2),b=j[0],N=j[1],k=(0,s.useState)(),D=(0,i.Z)(k,2),S=D[0],A=D[1],R=(0,s.useState)(!1),I=(0,i.Z)(R,2),M=I[0],_=I[1],z=(0,c.T)(),E=(0,c.C)((function(e){return e.basicData.basicDatas}));(0,s.useEffect)((function(){z((0,y.D)())}),[]);var L=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),console.log(S),e.next=4,T.Z.deleteBasicData(S.id);case 4:z((0,y.D)()),_(!1),B.Z.success(f("deleteBasicDataSuccess")),N(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"w-full h-full",children:[(0,v.jsx)(P,{open:p,handleClose:function(){m(!1)},getBasicData:function(){return z((0,y.D)())}}),(0,v.jsx)(u.Z,{title:f("deleteBasicDataConfirmation"),open:b,onClose:function(){return N(!1)},handleConfirm:L,loading:M}),(0,v.jsx)(l.Z,{title:f("basicDatas"),actions:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"w-[186px] ms-4",children:E?(0,v.jsx)(C.Z,{icon:(0,v.jsx)(o.Z,{}),text:f("add")+" "+f("basicDatas"),onClick:function(){return m(!0)}}):(0,v.jsx)(w.Z,{variant:"rounded",width:186,height:48,animation:"wave"})})})}),(0,v.jsx)("div",{className:"grid grid-cols-4 2xl:grid-cols-3 gap-4",children:E?E.map((function(t){return(0,v.jsx)(g,{handleDelete:function(){N(!0),A(t)},onClick:function(){return n=t.id,void e("/basicDatas/"+n);var n},children:(0,v.jsx)(Z,{title:t.name,count:t.items_count||0})},t.id)})):Array.from(Array(6).keys()).map((function(e,t){return(0,v.jsx)(w.Z,{variant:"rounded",width:"100%",height:100,animation:"wave"},t)}))})]})}}}]);
//# sourceMappingURL=8395.d3840955.chunk.js.map