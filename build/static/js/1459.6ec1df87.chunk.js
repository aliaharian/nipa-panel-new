"use strict";(self.webpackChunknipa_panel_new=self.webpackChunknipa_panel_new||[]).push([[1459],{745:function(e,l,t){var n=t(9439),i=t(2791),r=t(1782),a=t(184);l.Z=function(e){var l,t,o,s=e.name,u=e.label,d=e.formik,c=(e.type,e.placeholder),f=(e.maskChar,e.className),v=(e.mask,e.inputActions),m=e.options,x=e.disabled,p=e.readonly,h=e.lgText,g=(0,i.useState)(null),y=(0,n.Z)(g,2),b=y[0],j=y[1];return(0,a.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(f),children:[(0,a.jsxs)("div",{className:"".concat(h?"text-md":"text-xs"," mb-2 flex justify-between w-full"),children:[(0,a.jsx)("label",{className:"font-normal",htmlFor:s,children:u}),null===v||void 0===v?void 0:v()]}),(0,a.jsx)(r.ZP,{isDisabled:x,defaultValue:d.values?d.values[s]:b,onChange:function(e){j(e),console.log("nice car",e),d.handleChange({target:{name:s,value:e.value,type:e.type}})},value:d.values?null===m||void 0===m?void 0:m.find((function(e){return e.value===d.values[s]})):b,placeholder:c,options:m,className:"w-full h-12 !outline-none",isSearchable:!1,menuIsOpen:!p&&void 0,classNames:{control:function(e){return"h-12 !rounded-[6px] !outline-none !shadow-none ".concat(e.isFocused?"!border-primary-main":"border-text-300")},placeholder:function(e){return"rtl:text-right ltr:text-left ".concat(h?"text-md":"text-xs")},singleValue:function(e){return"rtl:text-right ltr:text-left ".concat(h?"text-md":"text-xs")},input:function(e){return"rtl:text-right ltr:text-left ".concat(h?"text-md":"text-xs")},valueContainer:function(e){return"!outline-none"},indicatorSeparator:function(e){return"!hidden"},menu:function(e){return"!shadow-none border border-text-400 !rounded-[6px] py-[6px]"},option:function(e){return"p-[6px] ".concat((e.isFocused,""))}},styles:{option:function(e,l){return{"&>p":{cursor:"pointer",backgroundColor:l.isFocused||l.isSelected?"#eef3fa":"#fff",height:40,display:"flex",fontWeight:"normal",alignItems:"center",justifyContent:"flex-start",padding:"10px",borderRadius:"4px",color:"#1f1f1f"}}}}}),(null===(l=d.errors)||void 0===l?void 0:l[s])&&(null===(t=d.touched)||void 0===t?void 0:t[s])&&(0,a.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===(o=d.errors)||void 0===o?void 0:o[s]})]})}},2253:function(e,l,t){var n=t(1193),i=t(174),r=t(3958),a=t(1880),o=t(2791),s=t(9230),u=t(184);l.Z=function(e){var l=e.onFileDrop,t=e.acceptedTypes,d=e.maxSize,c=e.imageOnly,f=e.file,v=e.placeholder,m=e.fileRef,x=e.disabled,p=e.children,h=e.className,g=(0,o.useRef)(null),y=(0,s.$G)(["common","validations"]).t;return(0,u.jsxs)("div",{ref:g,onDragOver:function(e){var l,t;e.preventDefault(),null===(l=g.current)||void 0===l||l.classList.add("!bg-primary-main"),null===(t=g.current)||void 0===t||t.classList.add("!text-white")},onDragLeave:function(e){var l,t;e.preventDefault(),null===(l=g.current)||void 0===l||l.classList.remove("!bg-primary-main"),null===(t=g.current)||void 0===t||t.classList.remove("!text-white")},onDrop:function(e){if(!x){var i,r;e.preventDefault(),null===(i=g.current)||void 0===i||i.classList.remove("!bg-primary-main"),null===(r=g.current)||void 0===r||r.classList.remove("!text-white");var a=e.dataTransfer.files[0];if(t&&!t.includes(a.type))return void console.error("File type not supported");if(c&&!n.ZP.imageValidExtensions.includes(a.type))return void console.error("File type not supported");if(d&&a.size>d)return void console.error("File size exceeds maximum limit");null===l||void 0===l||l(a)}},onClick:function(){g.current&&!x&&(g.current.querySelector('input[type="file"]').click(),console.log("ok"))},className:"w-full h-[144px] border border-dashed border-text-400 text-text-500 rounded-[6px] flex items-center justify-center cursor-pointer ".concat(h),children:[(0,u.jsx)("input",{type:"file",ref:m,style:{display:"none"},onChange:function(e){var r,a=null===(r=e.target.files)||void 0===r?void 0:r[0];if(a){if(t&&!t.includes(a.type))return void console.error("File type not supported");if(d&&a.size>d)return console.error("File size exceeds maximum limit"),void i.Z.error(y("file_size_exceeds_maximum_limit",{ns:"validations"}));if(c&&!n.ZP.imageValidExtensions.includes(a.type))return console.error("File type not supported"),void i.Z.error(y("file_type_not_supported",{ns:"validations"}));null===l||void 0===l||l(a)}}}),p||(0,u.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[(0,u.jsx)("div",{className:"w-[30px] h-[30px]",children:c?(0,u.jsx)(r.Z,{className:"w-full h-full text-inherit"}):(0,u.jsx)(a.Z,{className:"w-full h-full text-inherit"})}),(0,u.jsx)("p",{className:"text-[14px] mt-[5px] font-medium text-inherit",children:f?f.name:v||"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"})]})]})}},8555:function(e,l,t){var n=t(9687),i=t(2791),r=t(184);l.Z=function(e){var l,t,a,o,s,u=e.name,d=e.label,c=e.formik,f=e.className,v=e.inputActions,m=(0,i.useRef)(null);return(0,r.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(f),children:[(0,r.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,r.jsx)("label",{htmlFor:u,children:d}),null===v||void 0===v?void 0:v()]}),(0,r.jsx)(n.M,{onInit:function(e,l){return m.current=l},initialValue:(null===(l=c.values)||void 0===l?void 0:l[u])||"",id:u,value:null===(t=c.values)||void 0===t?void 0:t[u],onEditorChange:function(e){c.handleChange({target:{name:u,value:e}})},apiKey:"ajj87dt2tkk9iay286x5uxdjdb685g4spq516y5lacgqlerz",init:{height:150,width:"100%",menubar:!1,toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),(null===(a=c.errors)||void 0===a?void 0:a[u])&&(null===(o=c.touched)||void 0===o?void 0:o[u])&&(0,r.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===(s=c.errors)||void 0===s?void 0:s[u]})]})}},8923:function(e,l,t){t(2791);var n=t(9504),i=t.n(n),r=t(4110),a=t(3466),o=t(1193),s=t(9230),u=t(184);l.Z=function(e){var l,t,n,d,c,f,v,m,x,p,h=e.name,g=e.label,y=e.formik,b=e.type,j=void 0===b?"text":b,w=e.placeholder,Z=e.maskChar,N=e.className,k=e.mask,C=e.inputActions,F=e.normal,_=e.endEndorement,D=e.multiline,E=e.readonly,R=e.value,P=(0,s.$G)().i18n;return(0,u.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(N),children:[g&&(0,u.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,u.jsx)("label",{htmlFor:h,className:"font-normal !text-xs",children:g}),null===C||void 0===C?void 0:C()]}),F?(0,u.jsx)(r.Z,{value:"number"==j?o.ZP.toPersianDigitsPutCommas(null===y||void 0===y||null===(d=y.values)||void 0===d?void 0:d[h]):null===y||void 0===y||null===(c=y.values)||void 0===c?void 0:c[h],type:"text",readOnly:E,id:h,name:h,multiline:D,rows:D?4:1,placeholder:w||"",onChange:function(e){var l=o.ZP.convetToEnglishDigitsRemoveCommas(e.target.value),t="";if("number"==j){var n=l.replace(/[^0-9.]/g,"").split(".");t=n.length>1?(n[0]||"0")+"."+(n[1]||""):n[0]}else t=e.target.value;null===y||void 0===y||y.handleChange({target:{name:h,value:t}})},disableUnderline:!0,endAdornment:(0,u.jsx)(a.Z,{position:"end",children:_}),className:"!text-sm text-text-400 w-full ".concat(D?"h-[100px] resize-none !p-2":"h-12"," border border-text-400 rounded-[8px] p-2 focus:border-primary-main !outline-none invalid:border-error-primary ").concat(null!==y&&void 0!==y&&null!==(f=y.errors)&&void 0!==f&&f[h]&&null!==y&&void 0!==y&&null!==(v=y.touched)&&void 0!==v&&v[h]?"!border-error-primary":"")}):(0,u.jsx)(i(),{mask:k||"",maskChar:Z||" ",value:R||(null===y||void 0===y||null===(l=y.values)||void 0===l?void 0:l[h]),type:j,dir:P.dir(),className:"w-full h-12 border border-text-400 rounded-[8px] p-2 text-sm focus:border-primary-main !outline-none invalid:border-error-primary ".concat(null!==y&&void 0!==y&&null!==(t=y.errors)&&void 0!==t&&t[h]&&null!==y&&void 0!==y&&null!==(n=y.touched)&&void 0!==n&&n[h]?"!border-error-primary":""),id:h,name:h,style:{direction:"tel"==j?"ltr":P.dir()},placeholder:w||"",readOnly:E,onChange:function(e){null===y||void 0===y||y.handleChange({target:{name:h,value:e.target.value}})}}),(null===y||void 0===y||null===(m=y.errors)||void 0===m?void 0:m[h])&&(null===y||void 0===y||null===(x=y.touched)||void 0===x?void 0:x[h])&&(0,u.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===y||void 0===y||null===(p=y.errors)||void 0===p?void 0:p[h]})]})}},7427:function(e,l,t){var n=t(2791),i=t(2253),r=t(184);l.Z=function(e){var l,t,a,o=e.name,s=e.label,u=e.formik,d=e.placeholder,c=e.className,f=e.inputActions,v=e.imageOnly,m=e.disabled,x=e.fileRef,p=(0,n.useRef)(null);return(0,r.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(c," ").concat(m?"pointer-events-none":"pointer-events-auto"),children:[s&&(0,r.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,r.jsx)("label",{htmlFor:o,children:s}),null===f||void 0===f?void 0:f()]}),(0,r.jsx)(i.Z,{disabled:m,onFileDrop:function(e){u.handleChange({target:{name:o,value:e}})},placeholder:d,imageOnly:v,fileRef:x||p}),(null===(l=u.errors)||void 0===l?void 0:l[o])&&(null===(t=u.touched)||void 0===t?void 0:t[o])&&(0,r.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===(a=u.errors)||void 0===a?void 0:a[o]})]})}},5583:function(e,l,t){t.d(l,{Z:function(){return Z}});var n=t(1413),i=t(4165),r=t(3433),a=t(5861),o=t(9439),s=t(2791),u=t(7427),d=t(8433),c=t(1150),f=t(7139),v=t(9230),m=t(1193),x=t(3239),p=t(184),h=function(e){var l=e.src,t=e.badge,n=e.handleDelete,i=e.handleFullscreen,r=e.handleViewImage,a=e.hashCode,u=(0,s.useState)(),h=(0,o.Z)(u,2),g=h[0],y=h[1],b=(0,s.useState)(!1),j=(0,o.Z)(b,2),w=j[0],Z=j[1],N=(0,v.$G)(["common","validations"]).t;return(0,s.useEffect)((function(){if(l.hash_code){y("https://apidemo.nipaco.ir/api/v1/files/"+l.hash_code)}else m.ZP.fileToUrl(l).then((function(e){y(e)}))}),[]),(0,s.useEffect)((function(){var e;Z((null===l||void 0===l||null===(e=l.type)||void 0===e?void 0:e.search("image"))>-1)}),[l]),(0,p.jsx)("div",{className:"group/item w-full h-full rounded-[6px] overflow-hidden relative",children:(0,p.jsxs)("div",{className:"w-full h-full relative",children:[t&&w&&(0,p.jsx)("p",{className:"right-[8px] top-[8px] text-[10px] inline-block absolute py-[5px] px-[8px] bg-secondary-500 text-white rounded-[4px]",children:t}),w?(0,p.jsx)("img",{src:g,alt:"",className:"w-full h-full object-cover rounded-[6px]"}):(0,p.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col text-primary-main",children:[(0,p.jsx)(d.Z,{className:"w-8 h-8"}),(0,p.jsx)("p",{className:"mt-2",children:l.name})]}),(0,p.jsxs)("div",{className:"absolute top-0 left-0 bg-black-60 w-full h-full flex grid grid-rows-3 ".concat(a?"opacity-0":"opacity-100"," pointer-events-none group-hover/item:opacity-100 group-hover/item:pointer-events-auto transition-all"),children:[(0,p.jsx)("div",{}),(0,p.jsx)("div",{children:a?r&&(0,p.jsx)("p",{onClick:r,className:"cursor-pointer text-[10px] inline-block py-[5px] px-[8px] bg-secondary-500 text-white rounded-[4px]",children:N(w?"viewImage":"viewFile")}):(0,p.jsx)(x.Z,{})}),(0,p.jsxs)("div",{className:"w-full flex items-center justify-between px-[10px] py-[12px] text-white",children:[a&&i&&(0,p.jsx)("div",{className:"cursor-pointer",onClick:i,children:w&&(0,p.jsx)(c.Z,{})}),a&&n&&(0,p.jsx)("div",{className:"cursor-pointer",onClick:n,children:(0,p.jsx)(f.Z,{})})]})]})]})})},g=t(5374),y=function(e){var l=e.url;return(0,p.jsxs)("div",{id:"image-fullscreen",className:"fixed w-[100vw] h-[100vh] bg-black-90 flex flex-col items-center justify-center left-0 top-0 z-[999]",children:[(0,p.jsx)("div",{className:"w-full h-[60px] px-16 pt-8 flex items-center text-white",children:(0,p.jsx)(g.Z,{onClick:function(){document.body.removeChild(document.getElementById("image-fullscreen"))},className:"w-[40px] h-[40px] cursor-pointer"})}),(0,p.jsx)("div",{className:"w-full h-[calc(100%-60px)] flex items-center justify-center pb-10",children:(0,p.jsx)("img",{src:l,className:"w-full max-w-[70vw] h-full object-contain",alt:""})})]})},b=t(1250),j=t(516),w=t(174),Z=function(e){var l,t,d,c,f,x,g=e.name,Z=e.label,N=e.formik,k=e.placeholder,C=e.className,F=e.imageOnly,_=e.setPending,D=e.mock,E=e.noBadge,R=(0,v.$G)(["common","validations"]).t,P=(0,s.useRef)(null),z=(0,s.useState)([]),S=(0,o.Z)(z,2),I=S[0],O=S[1],L=(0,s.useState)(!1),V=(0,o.Z)(L,2),T=V[0],A=V[1],U=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(l){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,r.Z)(I),n=g+"_"+Math.floor(100*Math.random()),t.push({name:n,value:l.target.value,hashCode:null}),O((0,r.Z)(t)),A(!0),G(l.target.value,n,t);case 6:case"end":return e.stop()}}),e)})));return function(l){return e.apply(this,arguments)}}(),G=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(l,t,a){var o,s,u,d,c,f,v,m,x;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("file",l),e.prev=2,e.next=5,null===(s=(0,j.Z)())||void 0===s?void 0:s.post("/files",o,{headers:{"Content-Type":"multipart/form-data"}});case 5:null!==(c=e.sent)&&void 0!==c&&null!==(u=c.data)&&void 0!==u&&null!==(d=u.file)&&void 0!==d&&d.hash_code&&(f=(0,r.Z)(a),-1!==(v=f.findIndex((function(e){return e.name===t})))&&(f[v]=(0,n.Z)((0,n.Z)({},f[v]),{},{hashCode:c.data.file.hash_code}),O((0,r.Z)(f)))),A(!1),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(2),m=(0,r.Z)(a),-1!==(x=m.findIndex((function(e){return e.name===t})))&&(m.splice(x,1),O((0,r.Z)(m))),w.Z.error(R("validations:uploadError")),A(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(l,t,n){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(l,t){var n,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.Z)(I),e.prev=1,e.next=4,null===(a=(0,j.Z)())||void 0===a?void 0:a.delete("/files/".concat(l.hashCode));case 4:e.sent,n.splice(t,1),O((0,r.Z)(n)),w.Z.success(R("validations:imageDeleteSuccess")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),w.Z.error(R("validations:imageDeleteError"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(l,t){return e.apply(this,arguments)}}();((0,s.useEffect)((function(){N.setFieldValue(g,I)}),[I]),(null===(l=N.values)||void 0===l||null===(t=l[g])||void 0===t?void 0:t.length)>0&&0==I.length)&&O((null===(x=N.values)||void 0===x?void 0:x[g])||[]);return(0,s.useEffect)((function(){_&&_(T)}),[T]),(0,p.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(C),children:[(0,p.jsx)("div",{className:"text-sm mb-2 flex justify-between w-full",children:(0,p.jsx)("label",{className:"font-normal",htmlFor:g,children:Z})}),(0,p.jsxs)("div",{className:"bg-text-300 w-full p-[14px] grid grid-cols-5 gap-x-5 gap-y-5",children:[I.length<5&&(0,p.jsx)("div",{className:"bg-white w-full h-min rounded-[6px]",children:(0,p.jsx)(u.Z,{disabled:T,name:"uploadFile",imageOnly:F,fileRef:P,placeholder:T?R("pleaseWait")||"":k||"",formik:{handleChange:function(e){D||(U(e),P.current&&(P.current.value=""))}}})}),I.map((function(e,l){return(0,p.jsx)("div",{className:"bg-white rounded-[6px] w-full h-[144px]",children:(0,p.jsx)(h,{src:(null===e||void 0===e?void 0:e.value)||(null===e||void 0===e?void 0:e.file),hashCode:e.hashCode,handleDelete:function(){$(e,l)},handleFullscreen:function(){!function(e){m.ZP.imageValidExtensions.includes(e.type)&&m.ZP.fileToUrl(e).then((function(e){var l=document.createElement("div");l.setAttribute("id","image-fullscreen"),document.body.appendChild(l),b.createRoot(l).render((0,p.jsx)(y,{url:e}))}))}(e.value)},handleViewImage:function(){!function(e){var l=m.ZP.fileToBlob(e),t=URL.createObjectURL(l);window.open(t,"_blank")}(e.value)},badge:0!==l||E?"":R("mainImage")||""})},l)}))]}),(null===(d=N.errors)||void 0===d?void 0:d[g])&&(null===(c=N.touched)||void 0===c?void 0:c[g])&&(0,p.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===(f=N.errors)||void 0===f?void 0:f[g]})]})}},2841:function(e,l,t){var n=t(3239),i=t(184);l.Z=function(){return(0,i.jsxs)("div",{className:"flex-col w-full h-full fixed top-0 left-0 bg-[rgba(0,0,0,0.8)] z-[9999] pointer-events-auto flex justify-center items-center",children:[(0,i.jsx)(n.Z,{}),(0,i.jsx)("p",{className:"text-white mt-4",children:"\u0644\u0637\u0641\u0627 \u0686\u0646\u062f \u0644\u062d\u0638\u0647 \u0635\u0628\u0631 \u06a9\u0646\u06cc\u062f..."})]})}}}]);
//# sourceMappingURL=1459.6ec1df87.chunk.js.map