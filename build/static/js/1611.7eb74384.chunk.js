"use strict";(self.webpackChunknipa_panel_new=self.webpackChunknipa_panel_new||[]).push([[1611],{6041:(e,t,a)=>{a.d(t,{J3:()=>i,WG:()=>s,hR:()=>o});const n=a(8852).A.actions,o=e=>async(t,a)=>{t(n.setApiLoading(e))},i=e=>async(t,a)=>{t(n.setCollapseMenu(e))},s=e=>async(t,a)=>{t(n.setOpenMenu(e))}},3161:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(670);const o={basicDatasList:async function(){var e;let t=await(null===(e=(0,n.A)())||void 0===e?void 0:e.get("/basicData"));return null===t||void 0===t?void 0:t.data},getBasicDataInfo:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.get("/basicData/"+e));return null===a||void 0===a?void 0:a.data},addBasicDataItem:async function(e,t){var a;let o=await(null===(a=(0,n.A)())||void 0===a?void 0:a.post("/basicData/"+e+"/addItem",t));return null===o||void 0===o?void 0:o.data},changeBasicDataItemState:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.post("/basicData/item/"+e+"/updateStatus"));return null===a||void 0===a?void 0:a.data},deleteBasicDataItem:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.delete("/basicData/item/"+e));return null===a||void 0===a?void 0:a.data},editBasicDataItem:async function(e,t){var a;let o=await(null===(a=(0,n.A)())||void 0===a?void 0:a.put("/basicData/item/"+e,t));return null===o||void 0===o?void 0:o.data},addBasicData:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.post("/basicData",e));return null===a||void 0===a?void 0:a.data},deleteBasicData:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.delete("/basicData/"+e));return null===a||void 0===a?void 0:a.data}}},7311:(e,t,a)=>{a.d(t,{G:()=>i,j:()=>o});var n=a(9456);const o=()=>(0,n.wA)(),i=n.d4},7099:(e,t,a)=>{a.d(t,{DD:()=>u,JK:()=>i,Jm:()=>c,Nb:()=>s,Tu:()=>r,cz:()=>l,vc:()=>d,x7:()=>p});var n=a(8875);const o=a(8870).A.actions,i=()=>async(e,t)=>{const a=await n.A.productsList();e(o.productsList(a))},s=e=>async(t,a)=>{const i=await n.A.productStepsList(e);t(o.productStepsList(i))},l=e=>async(t,a)=>{if(0===e)return t(o.productStepInfo(null));const i=await n.A.productStepInfo(e);t(o.productStepInfo(i))},r=e=>async(t,a)=>{const i=await n.A.saveProduct(e);t(o.saveProduct(i))},d=(e,t)=>async(a,s)=>{const l=await n.A.updateProduct(e,t);a(o.updateProduct(l)),a(i())},c=e=>async(t,a)=>{t(o.setSaveSuccess(e))},u=e=>async(t,a)=>{const i=await n.A.deleteProduct(e);t(o.deleteProduct(i))},p=e=>async(t,a)=>{t(o.setDeleteSuccess(e))}},8875:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(670);const o={productsList:async function(){var e;let t=await(null===(e=(0,n.A)())||void 0===e?void 0:e.get("/products"));return null===t||void 0===t?void 0:t.data},saveProduct:async function(e){var t,a;let o=await(null===(t=(0,n.A)())||void 0===t?void 0:t.post("/products",{name:e.name,code:e.code,custom:e.custom,price:e.price,count_type:e.count_type,status:e.status,description:e.description,images:null===(a=e.images)||void 0===a?void 0:a.map((e=>e.hashCode))}));return null===o||void 0===o?void 0:o.data},deleteProduct:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.delete("/products/".concat(e)));return null===a||void 0===a?void 0:a.data},productStepsList:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.get("/product/".concat(e,"/steps")));return null===a||void 0===a?void 0:a.data},productStepInfo:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.get("/productSteps/".concat(e)));return null===a||void 0===a?void 0:a.data},setProductStepRoles:async function(e,t){var a;let o=await(null===(a=(0,n.A)())||void 0===a?void 0:a.post("/product/steps/".concat(e,"/setRoles"),{roles:t.join(",")}));return null===o||void 0===o?void 0:o.data},addProductConditions:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.post("/product/steps/conditions",{step_id:e.stepId,field_id:e.fieldId,option_id:e.optionId,next_step_id:e.nextStepId}));return null===a||void 0===a?void 0:a.data},getProduct:async function(e){var t;let a=await(null===(t=(0,n.A)())||void 0===t?void 0:t.get("/products/".concat(e)));return null===a||void 0===a?void 0:a.data},updateProduct:async function(e,t){var a,o;let i=await(null===(a=(0,n.A)())||void 0===a?void 0:a.put("/products/".concat(e),{name:t.name,code:t.code,custom:t.custom,count_type:t.count_type,price:t.price,status:t.status,description:t.description,images:null===(o=t.images)||void 0===o?void 0:o.map((e=>e.hashCode))}));return null===i||void 0===i?void 0:i.data}}},670:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(7154),o=a(6041),i=a(6254),s=a(5424);const l=()=>{const e=n.A.create({baseURL:"https://apidemo.nipaco.ir/api/v1",headers:localStorage.getItem("nipa_token")?{"Content-Type":"application/json",Accept:"application/json",language:localStorage.getItem("nipa-lang")||"fa",authorization:"Bearer "+localStorage.getItem("nipa_token")}:{"Content-Type":"application/json",Accept:"application/json"}});return e.interceptors.request.use((function(e){return i.A.dispatch((0,o.hR)(!0)),e}),(function(e){return i.A.dispatch((0,o.hR)(!1)),Promise.reject(e)})),e.interceptors.response.use((function(e){return i.A.dispatch((0,o.hR)(!1)),e}),(function(e){if(e.response.status,403==e.response.status&&(document.location.href="/errors/403"),e.response.data.errors){Object.keys(e.response.data.errors).map((t=>e.response.data.errors[t])).forEach((e=>{s.A.error(e)}))}else console.log("err",e.response),s.A.error(e.response.data.message||e.response.data.msg||e.response.data.error);return i.A.dispatch((0,o.hR)(!1)),Promise.reject(e)})),e}},6640:(e,t,a)=>{a.d(t,{Ay:()=>o});var n=a(1735);const o={toISOLocal:function(e){var t=e=>("0"+e).slice(-2),a=e.getTimezoneOffset();return a=Math.abs(a),e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())},pluralize:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return"".concat(e," ").concat(t).concat(1!==e?a:"")},fileToUrl:e=>new Promise(((t,a)=>{const n=new FileReader;n.onload=function(e){const a=e.target.result;t(a)},n.onerror=function(e){a(e.target.error)},n.readAsDataURL(e)})),imageValidExtensions:["image/jpeg","image/jpg","image/png","image/gif"],base64ToBlob:function(e,t){const a=window.atob(e),n=a.length,o=new Uint8Array(n);for(let i=0;i<n;++i)o[i]=a.charCodeAt(i);return new Blob([o],{type:t})},renderStatusStyle:e=>{let t;switch(e){case"success":t="bg-success-secondary text-success-primary ";break;case"warning":t="bg-warning-secondary text-warning-text ";break;case"error":t="bg-error-secondary text-error-primary ";break;case"info":t="bg-info-secondary text-info-primary ";break;default:t="bg-text-300 text-text-600 "}return t},toPersianDigitsPutCommas:(e,t)=>{const a="\u06f0".charCodeAt(0);!e&&(e="");let o=e.split(".");o[0].length>3&&(o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,","));const i=o.join(".");if(t||"fa"===n.A.language){return String(i).replace(/[0-9]/g,(e=>String.fromCharCode(e.charCodeAt(0)+a-48)))}return i},fileToBlob:function(e){return new Blob([e],{type:e.type})},toPersianDigits:(e,t)=>{if(t||"fa"===n.A.language){const t="\u06f0".charCodeAt(0);return String(e).replace(/[0-9]/g,(e=>String.fromCharCode(e.charCodeAt(0)+t-48)))}return e},dateToTimestamp:e=>new Date(e).getTime(),renderChatTime:(e,t,a)=>{let o=Math.floor(Date.now());if(t)return a?new Date(e).toLocaleDateString("fa-IR"):new Date(e).toLocaleDateString("fa-IR")+" , "+new Date(e).toLocaleTimeString("fa-IR").slice(0,5);let i=Math.floor((o-e)/1e3);return i<60?n.A.t("fewSecondsAgo"):i<3600?Math.floor(i/60)+" "+n.A.t("minutesAgo"):i<86400?Math.floor(i/3600)+" "+n.A.t("hoursAgo"):i<604800?Math.floor(i/86400)+" "+n.A.t("daysAgo"):new Date(e).toLocaleDateString("fa-IR")},checkPermission:e=>{var t;let a=null===(t=JSON.parse(localStorage.getItem("nipa_user")||"{}"))||void 0===t?void 0:t.permissions;return!(null===a||void 0===a||!a.find((t=>t.slug===e)))},convetToEnglishDigitsRemoveCommas:e=>{const t="\u06f0".charCodeAt(0);return String(e).replace(/[\u06f0-\u06f9]/g,(e=>String.fromCharCode(e.charCodeAt(0)-t+48)))}}},3232:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(7281),o=a(579);const i=e=>{let{title:t,actions:a,handleBack:i}=e;return(0,o.jsxs)("div",{className:"print:hidden w-full flex items-center justify-between mb-[20px]",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[i?(0,o.jsx)("div",{className:"cursor-pointer",onClick:i,children:(0,o.jsx)(n.A,{className:"mx-[12px] text-gray-500 ltr:rotate-180"})}):(0,o.jsx)("span",{className:"inline-block w-[14px] h-[14px] rounded-[2px] bg-secondary-main me-3"}),(0,o.jsx)("p",{className:"text-gray-500 font-black",children:t})]}),(0,o.jsx)("div",{className:"flex",children:a})]})}},7578:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(1637),o=(a(5043),a(5475)),i=a(579);const s=e=>{let{type:t,simple:a,bordered:s,href:l,text:r,onClick:d,icon:c,after:u,sm:p,xs:x,gray:m,disabled:v,loading:h,className:f}=e;const g="w-full ".concat(f," ").concat(x?"h-[36px]":p?"h-[38px]":"h-12"," rounded-[8px] flex items-center justify-center bg-primary-main text-white ").concat(s?"border border-primary-main bg-transparent !text-primary-main":"","\n   ").concat(a?"border-none bg-transparent !text-primary-main":"","\n   ").concat(m?"border-none !bg-text-200 !text-text-500":"","\n    ").concat(v?"opacity-90 cursor-not-allowed pointer-events-none":"","\n  "),b=()=>c?(0,i.jsx)("div",{className:"inline-block me-1",children:c}):(0,i.jsx)(i.Fragment,{});return(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsxs)(o.N_,{to:l,className:g,children:[!u&&b(),h?(0,i.jsx)(n.A,{className:"!text-white !w-[20px] !h-[20px]"}):r,u&&b()]}),t&&(0,i.jsxs)("button",{className:g,type:t,children:[!u&&b(),h?(0,i.jsx)(n.A,{className:"!text-white !w-[20px] !h-[20px]"}):r,u&&b()]}),d&&(0,i.jsxs)("button",{className:g,onClick:d,children:[!u&&b(),h?(0,i.jsx)(n.A,{className:"!text-white !w-[20px] !h-[20px]"}):r,u&&b()]})]})}},2087:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(5043),o=a(8305),i=a(579);const s=e=>{var t,a,s;let{name:l,label:r,formik:d,type:c,placeholder:u,maskChar:p,className:x,mask:m,inputActions:v,options:h,disabled:f,readonly:g,lgText:b}=e;const[j,y]=(0,n.useState)(null);return(0,i.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(x),children:[(0,i.jsxs)("div",{className:"".concat(b?"text-md":"text-xs"," mb-2 flex justify-between w-full"),children:[(0,i.jsx)("label",{className:"font-normal",htmlFor:l,children:r}),null===v||void 0===v?void 0:v()]}),(0,i.jsx)(o.Ay,{isDisabled:f,defaultValue:d.values?d.values[l]:j,onChange:e=>{y(e),console.log("nice car",e),d.handleChange({target:{name:l,value:e.value,type:e.type}})},value:d.values?null===h||void 0===h?void 0:h.find((e=>e.value===d.values[l])):j,placeholder:u,options:h,className:"w-full h-12 !outline-none",isSearchable:!1,menuIsOpen:!g&&void 0,classNames:{control:e=>"h-12 !rounded-[6px] !outline-none !shadow-none ".concat(e.isFocused?"!border-primary-main":"border-text-300"),placeholder:e=>"rtl:text-right ltr:text-left ".concat(b?"text-md":"text-xs"),singleValue:e=>"rtl:text-right ltr:text-left ".concat(b?"text-md":"text-xs"),input:e=>"rtl:text-right ltr:text-left ".concat(b?"text-md":"text-xs"),valueContainer:e=>"!outline-none",indicatorSeparator:e=>"!hidden",menu:e=>"!shadow-none border border-text-400 !rounded-[6px] py-[6px]",option:e=>"p-[6px] ".concat((e.isFocused,""))},styles:{option:(e,t)=>({"&>p":{cursor:"pointer",backgroundColor:t.isFocused||t.isSelected?"#eef3fa":"#fff",height:40,display:"flex",fontWeight:"normal",alignItems:"center",justifyContent:"flex-start",padding:"10px",borderRadius:"4px",color:"#1f1f1f"}})}}),(null===(t=d.errors)||void 0===t?void 0:t[l])&&(null===(a=d.touched)||void 0===a?void 0:a[l])&&(0,i.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===(s=d.errors)||void 0===s?void 0:s[l]})]})}},9973:(e,t,a)=>{a.d(t,{A:()=>c});a(5043);var n=a(4457),o=a.n(n),i=a(3360),s=a(1787),l=a(6640),r=a(4117),d=a(579);const c=e=>{var t,a,n,c,u,p,x,m,v,h;let{name:f,label:g,formik:b,type:j="text",placeholder:y,maskChar:A,className:w,mask:C,inputActions:N,normal:S,endEndorement:k,multiline:D,readonly:B,value:I}=e;const{i18n:T}=(0,r.Bd)();return(0,d.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(w),children:[g&&(0,d.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,d.jsx)("label",{htmlFor:f,className:"font-normal !text-xs",children:g}),null===N||void 0===N?void 0:N()]}),S?(0,d.jsx)(i.A,{value:"number"==j?l.Ay.toPersianDigitsPutCommas(null===b||void 0===b||null===(c=b.values)||void 0===c?void 0:c[f]):null===b||void 0===b||null===(u=b.values)||void 0===u?void 0:u[f],type:"text",readOnly:B,id:f,name:f,multiline:D,rows:D?4:1,placeholder:y||"",onChange:e=>{const t=l.Ay.convetToEnglishDigitsRemoveCommas(e.target.value);let a="";if("number"==j){let e=t.replace(/[^0-9.]/g,"").split(".");a=e.length>1?(e[0]||"0")+"."+(e[1]||""):e[0]}else a=e.target.value;null===b||void 0===b||b.handleChange({target:{name:f,value:a}})},disableUnderline:!0,endAdornment:(0,d.jsx)(s.A,{position:"end",children:k}),className:"!text-sm text-text-400 w-full ".concat(D?"h-[100px] resize-none !p-2":"h-12"," border border-text-400 rounded-[8px] p-2 focus:border-primary-main !outline-none invalid:border-error-primary ").concat(null!==b&&void 0!==b&&null!==(p=b.errors)&&void 0!==p&&p[f]&&null!==b&&void 0!==b&&null!==(x=b.touched)&&void 0!==x&&x[f]?"!border-error-primary":"")}):(0,d.jsx)(o(),{mask:C||"",maskChar:A||" ",value:I||(null===b||void 0===b||null===(t=b.values)||void 0===t?void 0:t[f]),type:j,dir:T.dir(),className:"w-full h-12 border border-text-400 rounded-[8px] p-2 text-sm focus:border-primary-main !outline-none invalid:border-error-primary ".concat(null!==b&&void 0!==b&&null!==(a=b.errors)&&void 0!==a&&a[f]&&null!==b&&void 0!==b&&null!==(n=b.touched)&&void 0!==n&&n[f]?"!border-error-primary":""),id:f,name:f,style:{direction:"tel"==j?"ltr":T.dir()},placeholder:y||"",readOnly:B,onChange:e=>{null===b||void 0===b||b.handleChange({target:{name:f,value:e.target.value}})}}),(null===b||void 0===b||null===(m=b.errors)||void 0===m?void 0:m[f])&&(null===b||void 0===b||null===(v=b.touched)||void 0===v?void 0:v[f])&&(0,d.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===b||void 0===b||null===(h=b.errors)||void 0===h?void 0:h[f]})]})}},5439:(e,t,a)=>{a.d(t,{A:()=>u});a(5043);var n=a(673),o=a(8734),i=a(2050),s=a(344),l=a(6227),r=a(378),d=a(6640),c=a(579);function u(e){var t,a,u;let{items:p,open:x,handleClose:m,anchorEl:v,profileInfo:h}=e;const f=JSON.parse(localStorage.getItem("nipa_user")||"");return(0,s.A)("(max-width:767px)")?(0,c.jsx)(l.A,{open:x,onClose:m,fullWidth:!0,children:"hello"}):(0,c.jsxs)(r.A,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:v,open:x,onClose:m,sx:{"& .MuiPaper-root":{width:h?"280px":"190px",border:"1px solid #e8e8e8",boxShadow:"none",borderRadius:"8px !important",marginTop:1}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[h&&(0,c.jsx)(n.A,{sx:{backgroundColor:"white !important",padding:"24px 25px",borderBottom:"1px solid #ededed","&:hover":{backgroundColor:"#fff !important"},"& span":{fontSize:"14px !important",color:"#000"},"& svg":{color:"#7f7f7f !important"}},children:(0,c.jsxs)("div",{className:"flex w-full gap-x-[10px] items-center justify-start",children:[(0,c.jsx)("div",{className:"bg-primary-main/40 border border-text-300 w-[53px] h-[53px] overflow-hidden rounded-full flex items-center justify-center",children:f.avatar?(0,c.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfm8UnQUb93iMa_J1a9GuKRJ1LWIzTD8dxrA&usqp=CAU",alt:"avatar",className:"w-full h-full fit-cover rounded-full"}):(0,c.jsx)("p",{className:"text-[20px] font-bold",children:null===(t=f.name)||void 0===t||null===(a=t.split(""))||void 0===a||null===(u=a[0])||void 0===u?void 0:u.toUpperCase()})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"text-text-800",children:[f.name," ",f.last_name]}),(0,c.jsx)("p",{className:"text-text-500 text-[14px] mt-1",children:d.Ay.toPersianDigits(f.mobile)})]})]})}),p.map(((e,t)=>(0,c.jsxs)(n.A,{disabled:e.disabled,sx:{padding:h?"12px 25px":"6px 16px","&:hover":{backgroundColor:"#e9edf3"},"& span":{fontSize:"14px !important",color:"#000"}},onClick:e.onClick,children:[(0,c.jsx)(i.A,{className:h?"svg:!text-text-700":"",children:e.icon}),(0,c.jsx)(o.A,{className:h?"text-text-700":"",children:e.text})]},t)))]})}},8955:(e,t,a)=>{a.d(t,{A:()=>d});a(5043);var n=a(2240),o=a(9600),i=a(4117),s=a(7578),l=a(1637),r=a(579);const d=e=>{let{open:t,onClose:a,title:d,handleConfirm:c,loading:u}=e;const{t:p}=(0,i.Bd)(["common","validations"]);return(0,r.jsxs)(n.A,{open:t,onClose:a,children:[(0,r.jsx)("div",{className:"w-14 h-14 mb-[10px] bg-primary-250 rounded-full items-center justify-center flex text-primary-main",children:(0,r.jsx)(o.A,{variant:"Bold"})}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-center text-[16px] font-semibold mb-[35px]",children:d})}),(0,r.jsxs)("div",{className:"flex items-center justify-between w-full max-w-[236px]",children:[(0,r.jsx)("div",{className:"w-[102px]",children:(0,r.jsx)(s.A,{disabled:u,text:u?(0,r.jsx)(l.A,{color:"inherit",size:24}):p("yes"),onClick:u?()=>{}:c})}),(0,r.jsx)("div",{className:"w-[102px]",children:(0,r.jsx)(s.A,{disabled:u,text:p("no"),onClick:u?()=>{}:a,bordered:!0})})]})]})}},2240:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(4836),o=a(6227),i=a(1503),s=a(5043),l=a(579);const r=s.forwardRef((function(e,t){return(0,l.jsx)(n.A,{direction:"up",ref:t,...e})})),d=e=>{let{open:t,onClose:a,children:n}=e;return(0,l.jsx)(o.A,{open:t,TransitionComponent:r,keepMounted:!0,onClose:a,"aria-describedby":"alert-dialog-slide-description",sx:{"& .MuiDialog-paper":{width:"452px"}},children:(0,l.jsx)(i.A,{className:"flex items-center justify-center flex-col",children:n})})}},1968:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(9218),o=a(5043),i=a(579);const s=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"h-[calc(100%-97px)] overflow-auto",children:t})},l=e=>{let{children:t}=e;return(0,i.jsx)("div",{children:t})},r=e=>{let{open:t,handleClose:a,children:r,headerIcon:d,headerText:c=""}=e;const[u,p]=(0,o.useState)(Math.floor(1e3*Math.random()));return(0,i.jsx)("div",{id:"dialog".concat(u),onClick:e=>{e.target.id==="dialog"+u&&(null===a||void 0===a||a())},className:"w-full h-full fixed bg-black-60 rtl:left-0 ltr:right-0 top-0 transition-all ".concat(t?"opacity-1 z-[999] delay-200":"pointer-events-none opacity-0 z-0 delay-300"),children:(0,i.jsxs)("div",{className:"h-full w-[60%] min-w-[900px] bg-white transition-all\t".concat(t?"translate-x-0 delay-300":"ltr:-translate-x-[100%] rtl:translate-x-[100%] delay-200"),children:[c&&(0,i.jsxs)("div",{className:"flex w-full px-8 py-6 items-center justify-between border-b border-text-300",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"me-3 w-9 h-9 rounded-[12px] bg-primary-main flex items-center justify-center text-white",children:d}),(0,i.jsx)("p",{className:"text-[20px] leading-[20px] font-bold",children:c})]}),(0,i.jsx)("div",{className:"w-9 h-9",children:(0,i.jsx)("button",{onClick:a,className:"w-9 h-9",children:(0,i.jsx)(n.A,{className:"w-9 h-9"})})})]}),(0,i.jsx)("div",{className:"flex justify-between w-full flex-col h-[calc(100%-85px)]",children:o.Children.map(r,(e=>e.type===s?(0,i.jsx)(s,{children:e.props.children}):e.type===l?(0,i.jsx)(l,{children:e.props.children}):void 0))})]})})};r.Content=s,r.Footer=l;const d=r},6180:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(8185),o=a(579);const i=()=>(0,o.jsxs)("div",{className:"grid",children:[(0,o.jsx)("div",{className:"w-full h-[71px] bg-text-200 border border-text-300 rounded-t-[4px] grid grid-cols-6 items-center justify-center px-4",children:Array.from(Array(5).keys()).map(((e,t)=>(0,o.jsx)(n.A,{variant:"rounded",width:"37px",height:18,animation:"wave"},t)))}),Array.from(Array(5).keys()).map(((e,t)=>(0,o.jsxs)("div",{className:"w-full h-[71px] border border-text-300 border-t-0 rounded-t-[4px] grid grid-cols-6 items-center justify-center px-4",children:[Array.from(Array(5).keys()).map(((e,t)=>(0,o.jsx)(n.A,{variant:"rounded",width:"45px",height:18,animation:"wave"},t))),(0,o.jsx)("div",{className:"w-[120px] flex items-cente justify-center",children:(0,o.jsx)("div",{className:"w-[92px] h-[38px] rounded-full border border-text-400 flex items-center justify-center",children:(0,o.jsx)(n.A,{variant:"rounded",width:"47px",height:14,animation:"wave"})})})]},t)))]})},7652:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(8786),o=a(4117),i=a(579);const s=e=>{let{columns:t,data:a}=e;const{i18n:s}=(0,o.Bd)();return(0,i.jsx)(n.Ay,{direction:"ltr"===s.dir()?n.OP.LTR:n.OP.RTL,columns:t,data:a,className:"customTable",conditionalRowStyles:[{when:e=>"footer"===e.id,style:{backgroundColor:"rgba(247, 247, 247, 1)",borderTop:"2px solid #EDEDED","&:hover":{cursor:"pointer"}}}]})}},2314:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(1237),o=a(5043),i=a(579);const s=e=>{let{text:t,onClick:a,icon:n,after:o,ref:s,simple:l=!1}=e;const r=()=>n?(0,i.jsx)("div",{className:"inline-block text-text-600",children:n}):(0,i.jsx)(i.Fragment,{});return(0,i.jsxs)("button",{ref:s,className:"".concat(l?"":"border border-text-400"," bg-transparent rounded-full text-text-900 w-full h-[38px] flex ltr:flex-row-reverse items-center justify-center hover:bg-text-4"),onClick:a,children:[!o&&r(),!l&&t,o&&r()]})};var l=a(5439),r=a(4117);const d=e=>{let{row:t,handleAction:a,items:d,simple:c=!1}=e;const u=(0,o.useRef)(null),{t:p}=(0,r.Bd)(),[x,m]=(0,o.useState)(!1);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"".concat(c?"w-[20px]":"w-[92px] pb-[5px]"),ref:u,children:[(0,i.jsx)(s,{after:!0,icon:(0,i.jsx)(n.A,{className:"rotate-90 pt-[5px]"}),text:p("action"),simple:c,onClick:()=>{console.log(t),m(!0)}}),(0,i.jsx)(l.A,{anchorEl:u.current,open:x,handleClose:()=>{m(!1)},items:d.map((e=>({...e,onClick:()=>((e,t)=>{m(!1),a&&a(e,t)})(t,e.name)})))})]})})}},1611:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var n=a(208),o=a(7075),i=a(9600),s=a(6421),l=a(5043),r=a(3232),d=a(7578),c=a(7652),u=a(2314),p=a(7311),x=a(4117),m=a(8955),v=a(5424),h=a(3216),f=a(3161),g=a(6640),b=a(1968),j=a(9973),y=a(3516),A=a(2087),w=a(3033),C=a(7099),N=a(579);const S=e=>{let{open:t,handleClose:a,data:n,getBasicData:o,editData:i}=e;const{t:r}=(0,x.Bd)(["common","validations"]),c=(0,p.j)(),u=(0,p.G)((e=>e.products.saveSuccess)),[m,h]=(0,l.useState)(!1),g=w.Ik().shape({code:w.Yj().required(r("code.required",{ns:"validations"})||""),name:w.Yj().required(r("name.required",{ns:"validations"})||"")}),S={id:(null===i||void 0===i?void 0:i.id)||0,code:(null===i||void 0===i?void 0:i.code)||"",name:(null===i||void 0===i?void 0:i.name)||"",status:(null===i||void 0===i?void 0:i.status)||1},k=(0,y.Wx)({initialValues:S,validationSchema:g,onSubmit:async e=>{if(console.log("valuekkkks",e),null!==n&&void 0!==n&&n.id)if(i){(await f.A.editBasicDataItem(null===i||void 0===i?void 0:i.id,e)).id&&(o(n.id.toString()),null===a||void 0===a||a())}else{(await f.A.addBasicDataItem(null===n||void 0===n?void 0:n.id,e)).id&&(o(n.id.toString()),null===a||void 0===a||a())}}});(0,l.useEffect)((()=>{k.setFieldValue("id",(null===i||void 0===i?void 0:i.id)||0),k.setFieldValue("name",(null===i||void 0===i?void 0:i.name)||""),k.setFieldValue("code",(null===i||void 0===i?void 0:i.code)||""),k.setFieldValue("status",(null===i||void 0===i?void 0:i.status)||1)}),[i]);const D=()=>{a&&a(),k.resetForm()};return(0,l.useEffect)((()=>{u&&(D(),c((0,C.Jm)(!1)),v.A.success(r("addProductSuccess")))}),[u]),(0,N.jsxs)(b.A,{headerText:r(i?"editBasicData":"addBasicData"),headerIcon:(0,N.jsx)(s.A,{}),open:t,handleClose:D,children:[(0,N.jsx)(b.A.Content,{children:(0,N.jsxs)("div",{className:"p-7 font-bold text-[18px]",children:[(0,N.jsx)("p",{className:"text-start",children:r("enterBasicDataDetail")}),(0,N.jsx)("form",{onSubmit:k.handleSubmit,className:"w-full",children:(0,N.jsxs)("div",{className:"mt-7 w-full grid grid-cols-2 gap-x-5 gap-y-7",children:[(0,N.jsx)(j.A,{name:"code",label:r("code"),type:"color"===(null===n||void 0===n?void 0:n.type)?"color":"text",placeholder:r("code.placeholder",{ns:"validations"}),formik:k}),(0,N.jsx)(j.A,{name:"name",label:r("name"),type:"text",placeholder:r("name.placeholder",{ns:"validations"}),formik:k}),(0,N.jsx)(A.A,{className:"group",name:"status",label:r("status"),options:[{label:(0,N.jsx)("p",{children:r("active")}),value:1},{label:(0,N.jsx)("p",{children:r("inactive")}),value:0}],placeholder:r("status.placeholder",{ns:"validations"}),formik:k})]})})]})}),(0,N.jsx)(b.A.Footer,{children:(0,N.jsxs)("div",{className:"py-[24px] border-t border-text-300 px-7 flex justify-between",children:[(0,N.jsx)("div",{className:"w-[126px]",children:(0,N.jsx)(d.A,{disabled:m,text:"\u0627\u0646\u0635\u0631\u0627\u0641",onClick:D,gray:!0})}),(0,N.jsx)("div",{className:"w-[207px]",children:(0,N.jsx)(d.A,{disabled:m,icon:(0,N.jsx)(s.A,{}),text:r(i?"editBasicData":"addBasicData"),onClick:()=>{k.handleSubmit()}})})]})})]})};var k=a(8185),D=a(6180);const B=()=>{const[e,t]=(0,l.useState)([]),[a,b]=(0,l.useState)();let{id:j}=(0,h.g)();const[y,A]=(0,l.useState)(!1),{t:w}=(0,x.Bd)("common"),C=(0,h.Zp)(),[B,I]=(0,l.useState)(null),[T,P]=(0,l.useState)(!1),[R,_]=(0,l.useState)(!1),[F,L]=(0,l.useState)();(0,p.j)();(0,l.useEffect)((()=>{j&&E(j)}),[]);const E=async e=>{let t=await f.A.getBasicDataInfo(parseInt(e));b(t)},M=async(e,t)=>{switch(console.log("row",e),console.log("action",t),I(e),t){case"delete":A(!0);break;case"changeState":await f.A.changeBasicDataItemState(e.id);let t=e;t.status=!t.status;let n=null===a||void 0===a?void 0:a.items,o=null===n||void 0===n?void 0:n.findIndex((e=>e.id==t.id));n&&a&&(n[o||-1]=t,b({...a,items:[...n]}));break;case"edit":L(e),_(!0)}};(0,l.useEffect)((()=>{if(a){console.log("data123",a);let e=[{name:w("code")+" "+a.name,selector:e=>e.code,sortable:!0},{name:w("title"),selector:e=>"color"===a.type?(e=>(0,N.jsxs)("div",{className:"flex items-center justify-center",children:[(0,N.jsx)("div",{style:{backgroundColor:e.code},className:"border border-text-300 w-6 h-6 rounded-full me-2"}),(0,N.jsx)("p",{children:e.name})]}))(e):e.name,sortable:!0},{name:w("createDate"),selector:e=>g.Ay.renderChatTime(g.Ay.dateToTimestamp(e.created_at)),sortable:!0},{name:w("status"),selector:e=>e.status?w("active"):w("inactive"),sortable:!0}];e.push({allowOverflow:!0,button:!0,width:"120px",cell:e=>(0,N.jsx)(u.A,{items:[{icon:(0,N.jsx)(n.A,{variant:"Bold"}),text:w("edit"),name:"edit"},{icon:(0,N.jsx)(o.A,{variant:"Bold"}),text:w("changeState"),name:"changeState"},{icon:(0,N.jsx)(i.A,{variant:"Bold"}),text:w("delete"),name:"delete"}],handleAction:M,row:e})}),t([...e]),console.log("data.",a.items)}}),[a]);return(0,N.jsxs)("div",{className:"w-full h-full",children:[(0,N.jsx)(S,{open:R,handleClose:()=>{_(!1),L(void 0)},data:a,getBasicData:E,editData:F}),(0,N.jsx)(m.A,{title:w("deleteBasicDataConfirmation"),open:y,onClose:()=>{A(!1)},handleConfirm:async()=>{P(!0),console.log("selectedRow",B),await f.A.deleteBasicDataItem(B.id),j&&E(j),P(!1),v.A.success(w("deleteBasicDataSuccess")),A(!1)},loading:T}),(0,N.jsx)(r.A,{actions:(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:"w-[186px] ms-4",children:a?(0,N.jsx)(d.A,{icon:(0,N.jsx)(s.A,{}),text:w("add")+" "+(null===a||void 0===a?void 0:a.name),onClick:()=>_(!0)}):(0,N.jsx)(k.A,{variant:"rounded",width:186,height:48,animation:"wave"})})}),handleBack:()=>C("/basicDatas"),title:a?w("manage")+" "+(null===a||void 0===a?void 0:a.name):w("pleaseWait")}),(0,N.jsx)("div",{children:null!==a&&void 0!==a&&a.items?(0,N.jsx)(c.A,{columns:e,data:(null===a||void 0===a?void 0:a.items)||[]}):(0,N.jsx)(D.A,{})})]})}}}]);
//# sourceMappingURL=1611.7eb74384.chunk.js.map