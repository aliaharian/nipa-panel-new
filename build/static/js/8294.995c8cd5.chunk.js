"use strict";(self.webpackChunknipa_panel_new=self.webpackChunknipa_panel_new||[]).push([[8294],{5443:function(e,n,t){t.d(n,{Mw:function(){return c},ct:function(){return i},yj:function(){return s}});var r=t(4165),a=t(5861),o=t(4999).Z.actions,i=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(o.setApiLoading(e));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},s=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(o.setCollapseMenu(e));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},c=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(o.setOpenMenu(e));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},5601:function(e,n,t){var r=t(1413),a=t(4165),o=t(5861),i=t(516),s=t(8825);function c(){return(c=(0,o.Z)((0,a.Z)().mark((function e(n,t){var r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(0,i.Z)())||void 0===r?void 0:r.get("/forms/".concat(n).concat(t?"?orderId="+t:""),{headers:{languege:s.ZP.language}});case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=(0,o.Z)((0,a.Z)().mark((function e(n){var t,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,i.Z)())||void 0===t?void 0:t.post("/forms",(0,r.Z)({},n));case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,o.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,i.Z)())||void 0===n?void 0:n.get("/formFieldTypes",{headers:{languege:s.ZP.language}});case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,o.Z)((0,a.Z)().mark((function e(n){var t,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,i.Z)())||void 0===t?void 0:t.post("/formFields",(0,r.Z)({},n));case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,o.Z)((0,a.Z)().mark((function e(n,t){var o,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(o=(0,i.Z)())||void 0===o?void 0:o.put("/formFields/".concat(n),(0,r.Z)({},t));case 2:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,o.Z)((0,a.Z)().mark((function e(n,t){var o,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(o=(0,i.Z)())||void 0===o?void 0:o.put("/forms/".concat(n),(0,r.Z)({},t));case 2:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,o.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,i.Z)())||void 0===t?void 0:t.delete("/formFieldOptions/".concat(n));case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,o.Z)((0,a.Z)().mark((function e(n,t){var r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(0,i.Z)())||void 0===r?void 0:r.post("/formFields/".concat(n),{_method:"delete",form_id:t});case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,o.Z)((0,a.Z)().mark((function e(n,t,o){var s,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(s=(0,i.Z)())||void 0===s?void 0:s.post("/userAnswer/".concat(t,"/answer"),(0,r.Z)({order_id:n},o));case 2:return c=e.sent,e.abrupt("return",null===c||void 0===c?void 0:c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.Z={getForm:function(e,n){return c.apply(this,arguments)},createForm:function(e){return u.apply(this,arguments)},getFormFieldTypes:function(){return l.apply(this,arguments)},createFormField:function(e){return d.apply(this,arguments)},updateFormField:function(e,n){return p.apply(this,arguments)},updateForm:function(e,n){return f.apply(this,arguments)},deleteOption:function(e){return m.apply(this,arguments)},deleteItem:function(e,n){return v.apply(this,arguments)},addUserAnswer:function(e,n,t){return h.apply(this,arguments)}}},516:function(e,n,t){var r=t(3263),a=t(5443),o=t(2855),i=t(174);n.Z=function(){var e=r.Z.create({baseURL:"https://apidemo.nipaco.ir/api/v1",headers:localStorage.getItem("nipa_token")?{"Content-Type":"application/json",Accept:"application/json",language:localStorage.getItem("nipa-lang")||"fa",authorization:"Bearer "+localStorage.getItem("nipa_token")}:{"Content-Type":"application/json",Accept:"application/json"}});return e.interceptors.request.use((function(e){return o.Z.dispatch((0,a.ct)(!0)),e}),(function(e){return o.Z.dispatch((0,a.ct)(!1)),Promise.reject(e)})),e.interceptors.response.use((function(e){return o.Z.dispatch((0,a.ct)(!1)),e}),(function(e){(e.response.status,403==e.response.status&&(document.location.href="/errors/403"),e.response.data.errors)?Object.keys(e.response.data.errors).map((function(n){return e.response.data.errors[n]})).forEach((function(e){i.Z.error(e)})):(console.log("err",e.response),i.Z.error(e.response.data.message||e.response.data.msg||e.response.data.error));return o.Z.dispatch((0,a.ct)(!1)),Promise.reject(e)})),e}},9351:function(e,n,t){t.d(n,{lw:function(){return m},YB:function(){return v},YT:function(){return h}});var r=t(8923),a=t(8555),o=t(745),i=t(3433),s=t(9439),c=t(2791),u=t(1400),l=t(184),d=function(e){var n,t,r,a=e.name,o=e.label,d=e.formik,p=(e.placeholder,e.maskChar,e.className),f=(e.mask,e.inputActions),m=e.options,v=(0,c.useState)([]),h=(0,s.Z)(v,2),x=h[0],g=h[1];return(0,l.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(p),children:[(0,l.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,l.jsx)("label",{htmlFor:a,children:o}),null===f||void 0===f?void 0:f()]}),(0,l.jsx)("div",{className:"flex items-center justify-start max-w-full flex-wrap",children:null===m||void 0===m?void 0:m.map((function(e,n){return(0,l.jsx)(u.Z,{className:"group",name:a,value:e.value,label:e.label,checked:x.includes(e.value)||!1,handleCheck:function(){return function(e){if(x.includes(e.value)){var n=(0,i.Z)(x),t=n.indexOf(e.value);-1!==t&&(n.splice(t,1),g((0,i.Z)(n))),d.setFieldValue(a,(0,i.Z)(n))}else g([].concat((0,i.Z)(x),[e.value])),d.setFieldValue(a,[].concat((0,i.Z)(x),[e.value]))}(e)}},n)}))}),(null===(n=d.errors)||void 0===n?void 0:n[a])&&(null===(t=d.touched)||void 0===t?void 0:t[a])&&(0,l.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===(r=d.errors)||void 0===r?void 0:r[a]})]})},p=t(1724),f=t(5583),m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){},t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=t||{handleChange:function(){},setFieldValue:function(){},values:null};switch(e.type){case"text":return(0,l.jsx)(r.Z,{className:"group",name:e.name,label:e.label,type:"text",placeholder:e.placeholder,inputActions:function(){return n(e)},formik:s});case"textArea":return(0,l.jsx)(a.Z,{className:"group",name:e.name,label:e.label,inputActions:function(){return n(e)},formik:s});case"number":return(0,l.jsx)(r.Z,{className:"group",name:e.name,label:e.label,type:"number",placeholder:e.placeholder,inputActions:function(){return n(e)},formik:s});case"uploadFile":return(0,l.jsx)(f.Z,{className:"group",name:e.name,label:e.label,placeholder:e.placeholder,imageOnly:e.onlyImage,formik:s,setPending:e.setPending,mock:i||!1,noBadge:e.noBadge||!1});case"dropDown":return(0,l.jsx)(o.Z,{className:"group",name:e.name,label:e.label,options:e.basicDataItems||e.options,placeholder:e.placeholder,inputActions:function(){return n(e)},formik:s});case"checkbox":return(0,l.jsx)(d,{className:"group",name:e.name,label:e.label,options:e.basicDataItems||e.options,placeholder:e.placeholder,inputActions:function(){return n(e)},formik:s});default:return(0,l.jsx)("p",{children:"not defined"})}},v=function(e){var n={};return e.map((function(e){switch(e.type){case"text":case"textArea":n[e.name]=e.answer||"";break;case"uploadFile":case"dropDown":n[e.name]=e.answer||null;break;case"number":n[e.name]=e.answer||0;break;case"checkbox":n[e.name]=e.answer||[]}})),n},h=function(e,n,t){var r={};return e.map((function(a){var o=n.find((function(e){return e.relational_form_field_id==a.id})),i=!0;if(o){var s,c,u,l,d,f=e.find((function(e){return e.id==o.form_field_id}));if(f)if(f.basic_data_id)s=null===f||void 0===f||null===(c=f.basicDataItems)||void 0===c?void 0:c.find((function(e){return e.id==o.basic_data_item_id}));else s=null===f||void 0===f||null===(u=f.options)||void 0===u?void 0:u.find((function(e){return e.server_id==o.form_field_option_id}));if(f&&s)if(1==o.operation)i=t.values[f.name]===s.value||(null===(l=t.values[f.name])||void 0===l?void 0:l.indexOf(s.value))>-1;else i=!(t.values[f.name]===s.value||(null===(d=t.values[f.name])||void 0===d?void 0:d.indexOf(s.value))>-1)}if(i)switch(a.type){case"text":case"textArea":r[a.name]=a.required?p.Z_().required("\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"):p.Z_();break;case"uploadFile":a.required&&(r[a.name]=p.Z_().nullable().required("\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"));break;case"dropDown":r[a.name]=p.Z_().nullable().required("\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a");break;case"number":r[a.name]=a.required?p.Rx().required("\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"):p.Rx();break;case"checkbox":r[a.name]=a.required?p.IX().of(p.Z_()).min(1,"\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a").required("\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"):p.IX().of(p.Z_()).nullable()}})),r}},1193:function(e,n,t){var r=t(9039);n.ZP={toISOLocal:function(e){var n=function(e){return("0"+e).slice(-2)},t=e.getTimezoneOffset();return t=Math.abs(t),e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())},pluralize:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return"".concat(e," ").concat(n).concat(1!==e?t:"")},fileToUrl:function(e){return new Promise((function(n,t){var r=new FileReader;r.onload=function(e){var t=e.target.result;n(t)},r.onerror=function(e){t(e.target.error)},r.readAsDataURL(e)}))},imageValidExtensions:["image/jpeg","image/jpg","image/png","image/gif"],base64ToBlob:function(e,n){for(var t=window.atob(e),r=t.length,a=new Uint8Array(r),o=0;o<r;++o)a[o]=t.charCodeAt(o);return new Blob([a],{type:n})},renderStatusStyle:function(e){var n;switch(e){case"success":n="bg-success-secondary text-success-primary ";break;case"warning":n="bg-warning-secondary text-warning-text ";break;case"error":n="bg-error-secondary text-error-primary ";break;case"info":n="bg-info-secondary text-info-primary ";break;default:n="bg-text-300 text-text-600 "}return n},toPersianDigitsPutCommas:function(e,n){var t="\u06f0".charCodeAt(0);!e&&(e="");var a=e.split(".");a[0].length>3&&(a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","));var o=a.join(".");return n||"fa"===r.Z.language?String(o).replace(/[0-9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+t-48)})):o},fileToBlob:function(e){return new Blob([e],{type:e.type})},toPersianDigits:function(e,n){if(n||"fa"===r.Z.language){var t="\u06f0".charCodeAt(0);return String(e).replace(/[0-9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+t-48)}))}return e},dateToTimestamp:function(e){return new Date(e).getTime()},renderChatTime:function(e,n,t){var a=Math.floor(Date.now());if(n)return t?new Date(e).toLocaleDateString("fa-IR"):new Date(e).toLocaleDateString("fa-IR")+" , "+new Date(e).toLocaleTimeString("fa-IR").slice(0,5);var o=Math.floor((a-e)/1e3);return o<60?r.Z.t("fewSecondsAgo"):o<3600?Math.floor(o/60)+" "+r.Z.t("minutesAgo"):o<86400?Math.floor(o/3600)+" "+r.Z.t("hoursAgo"):o<604800?Math.floor(o/86400)+" "+r.Z.t("daysAgo"):new Date(e).toLocaleDateString("fa-IR")},checkPermission:function(e){var n,t=null===(n=JSON.parse(localStorage.getItem("nipa_user")||"{}"))||void 0===n?void 0:n.permissions;return!(null===t||void 0===t||!t.find((function(n){return n.slug===e})))},convetToEnglishDigitsRemoveCommas:function(e){var n="\u06f0".charCodeAt(0);return String(e).replace(/[\u06f0-\u06f9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-n+48)}))}}},6718:function(e,n,t){var r=t(9145),a=t(184);n.Z=function(e){var n=e.title,t=e.actions,o=e.handleBack;return(0,a.jsxs)("div",{className:"print:hidden w-full flex items-center justify-between mb-[20px]",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[o?(0,a.jsx)("div",{className:"cursor-pointer",onClick:o,children:(0,a.jsx)(r.Z,{className:"mx-[12px] text-gray-500 ltr:rotate-180"})}):(0,a.jsx)("span",{className:"inline-block w-[14px] h-[14px] rounded-[2px] bg-secondary-main me-3"}),(0,a.jsx)("p",{className:"text-gray-500 font-black",children:n})]}),(0,a.jsx)("div",{className:"flex",children:t})]})}},2636:function(e,n,t){var r=t(3239),a=(t(2791),t(1087)),o=t(184);n.Z=function(e){var n=e.type,t=e.simple,i=e.bordered,s=e.href,c=e.text,u=e.onClick,l=e.icon,d=e.after,p=e.sm,f=e.xs,m=e.gray,v=e.disabled,h=e.loading,x=e.className,g="w-full ".concat(x," ").concat(f?"h-[36px]":p?"h-[38px]":"h-12"," rounded-[8px] flex items-center justify-center bg-primary-main text-white ").concat(i?"border border-primary-main bg-transparent !text-primary-main":"","\n   ").concat(t?"border-none bg-transparent !text-primary-main":"","\n   ").concat(m?"border-none !bg-text-200 !text-text-500":"","\n    ").concat(v?"opacity-90 cursor-not-allowed pointer-events-none":"","\n  "),b=function(){return l?(0,o.jsx)("div",{className:"inline-block me-1",children:l}):(0,o.jsx)(o.Fragment,{})};return(0,o.jsxs)(o.Fragment,{children:[s&&(0,o.jsxs)(a.rU,{to:s,className:g,children:[!d&&b(),h?(0,o.jsx)(r.Z,{className:"!text-white !w-[20px] !h-[20px]"}):c,d&&b()]}),n&&(0,o.jsxs)("button",{className:g,type:n,children:[!d&&b(),h?(0,o.jsx)(r.Z,{className:"!text-white !w-[20px] !h-[20px]"}):c,d&&b()]}),u&&(0,o.jsxs)("button",{className:g,onClick:u,children:[!d&&b(),h?(0,o.jsx)(r.Z,{className:"!text-white !w-[20px] !h-[20px]"}):c,d&&b()]})]})}},1400:function(e,n,t){t.d(n,{Z:function(){return d}});var r,a=t(2791),o=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i.apply(this,arguments)}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function c(e,n){var t=e.title,c=e.titleId,u=s(e,o);return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:n,"aria-labelledby":c},u),t?a.createElement("title",{id:c},t):null,r||(r=a.createElement("path",{d:"m7.75 12 2.83 2.83 5.67-5.66",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}var u=a.forwardRef(c),l=(t.p,t(184)),d=function(e){var n=e.name,t=e.label,r=e.value,a=e.className,o=e.checked,i=e.handleCheck;return(0,l.jsxs)("div",{className:"flex me-4 mb-4 items-start justify-start relative cursor-pointer ".concat(a),onClick:i,children:[(0,l.jsx)("input",{type:"checkbox",checked:o,value:r,name:n,onChange:i,className:"absolute top-0 left-0 opacity-0"}),(0,l.jsx)("div",{className:"w-6 h-6  rounded-[4px] me-2\n      ".concat(o?"border-none bg-primary-main":"border border-text-400","\n      "),children:(0,l.jsx)(u,{className:"text-white"})}),(0,l.jsx)("p",{className:"text-[14px]",children:t})]})}}}]);
//# sourceMappingURL=8294.995c8cd5.chunk.js.map