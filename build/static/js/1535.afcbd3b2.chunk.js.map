{"version":3,"file":"static/js/1535.afcbd3b2.chunk.js","mappings":"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","sources":["app/redux/basicData/actions.ts","assets/icons/Frame.svg","components/tabs/Tabs.tsx","components/form/SwitchButton.tsx","components/form/Switch.tsx","components/formBuilder/Dialogs/AddDropdownItemDialog.tsx","components/formBuilder/editElement/FormBuilderEditElementTab.tsx","components/formBuilder/elements/FormElementItem.tsx","assets/icons/NumericField.svg","assets/icons/Dropdown.svg","app/redux/forms/actions.ts","components/formBuilder/elements/FormBuilderElementsTab.tsx","components/formBuilder/formConditions/ConditionItem.tsx","components/formBuilder/formConditions/FormBuilderConditionsTab.tsx","components/formBuilder/FormBuilderSidebar.tsx","components/formBuilder/formContent/FormContent.tsx","pages/formBuilder/FormBuilder.tsx"],"sourcesContent":["import { AnyAction, ThunkAction } from \"@reduxjs/toolkit\";\nimport basicDataService from \"./service\";\nimport { RootState } from \"app/redux/store\";\nimport basicDataSlice from \"./slice\";\n\nconst basicDataActions = basicDataSlice.actions;\n\nexport const basicDatasList = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  AnyAction\n> => {\n  return async (dispatch, getState) => {\n    const response = await basicDataService.basicDatasList();\n    dispatch(basicDataActions.basicDatasList(response));\n  };\n};\n\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgFrame(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26,\n    height: 26,\n    viewBox: \"0 0 26 26\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.666 8.666H13M8.666 17.332H13M8.666 13h8.667M9.75 23.833h6.5c5.416 0 7.583-2.167 7.583-7.584v-6.5c0-5.416-2.166-7.583-7.583-7.583h-6.5c-5.417 0-7.583 2.167-7.583 7.583v6.5c0 5.417 2.166 7.584 7.583 7.584z\",\n    stroke: \"#303030\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFrame);\nexport default __webpack_public_path__ + \"static/media/Frame.3065523bd1b024b62004be75ca6dba22.svg\";\nexport { ForwardRef as ReactComponent };","type TabsProps = {\n  items: { label: string; value: string }[];\n  value: string;\n  handleChange: (value: string) => void;\n};\nconst Tabs = ({ items, value, handleChange }: TabsProps) => {\n  return (\n    <div className=\"mx-auto w-full flex px-3 items-center justify-between border-b mb-[19px] border-text-300\">\n      {items.map((item: any,index:number) => (\n        <div\n        key={index}\n          className=\"mx-1 cursor-pointer min-w-[70px] w-1/3 px-[10px] 2xl:px-[6px] relative flex items-center justify-center\"\n          onClick={() => handleChange(item.value)}\n        >\n          <p\n            className={`mb-[20px] transition-all text-[14px] 2xl:text-[12px] leading-[20px] ${\n              item.value === value ? \"text-primary-main font-black 2xl:font-semibold\" : \"text-text-500\"\n            }`}\n          >\n            {item.label}\n          </p>\n          <div\n            className={`w-full ${\n              item.value === value ? \"h-[3px] rounded-t-[2px]\" : \"h-0\"\n            } bg-primary-main transition-all absolute bottom-0`}\n          ></div>\n        </div>\n      ))}\n    </div>\n  );\n};\nexport default Tabs;\n","import { Switch } from \"@mui/material\";\nimport { useState } from \"react\";\ntype SwitchButtonProps = {\n  checked: boolean;\n  setChecked: (checked: boolean) => void;\n};\n\nconst SwitchButton = ({ checked, setChecked }: SwitchButtonProps) => {\n  const handleCheck = () => {\n    setChecked(!checked);\n  };\n  return (\n    <div\n      onClick={handleCheck}\n      className={`w-[36px] h-[20px] rounded-[10px] border ${\n        checked ? \"border-primary-main\" : \"border-text-500\"\n      } flex items-center ${\n        checked ? \"justify-start\" : \"justify-end\"\n      } p-[2px] cursor-pointer`}\n    >\n      <div\n        className={`w-4 h-4 ${\n          checked ? \"bg-primary-main\" : \"bg-text-500\"\n        } rounded-full`}\n      ></div>\n    </div>\n  );\n};\nexport default SwitchButton;\n","import SwitchButton from \"./SwitchButton\";\n\ntype SwitchProps = {\n  checked: boolean;\n  setChecked: (checked: boolean) => void;\n  label?: string;\n};\nconst Switch = ({ checked, setChecked, label }: SwitchProps) => {\n  return (\n    <div className=\"w-full p-[8px] h-[48px] flex items-center justify-between border border-text-400 rounded-[8px] transition-al\">\n      <p className=\"cursor-pointer text-text-800 text-[14px]\" onClick={()=>setChecked(!checked)}>{label}</p>\n      <SwitchButton checked={checked} setChecked={setChecked} />\n    </div>\n  );\n};\nexport default Switch;\n","import { Add } from \"iconsax-react\";\nimport SideDialog from \"../../sideDialog/SideDialog\";\nimport TextField from \"../../form/TextField\";\nimport { useFormik } from \"formik\";\nimport { FormField, FormOption } from \"../../../app/models/form\";\nimport Button from \"../../button/Button\";\nimport { useEffect } from \"react\";\n\nexport type initialValues = {\n  index?: number;\n  fieldName: string;\n  fieldValue: string;\n  id?: number;\n  server_id?: number;\n};\n\ntype AddDropdownItemDialogProps = {\n  open: boolean;\n  handleClose?: () => void;\n  field: FormField;\n  handleAddOption: (item: initialValues) => void;\n  selectedOption?: FormOption;\n};\nconst AddDropdownItemDialog = ({\n  open,\n  handleClose,\n  field,\n  handleAddOption,\n  selectedOption,\n}: AddDropdownItemDialogProps) => {\n  const initialValues: initialValues = {\n    index: selectedOption?.index || -1,\n    id: selectedOption?.index || 0,\n    fieldName: selectedOption?.label || \"\",\n    fieldValue: selectedOption?.value || \"\",\n    server_id: selectedOption?.server_id,\n  };\n\n  const formik = useFormik({\n    initialValues,\n    // validationSchema,\n    onSubmit: (values) => {\n      console.log(\"values\", values);\n      handleAddOption(values);\n      formik.setFieldValue(\"fieldName\", \"\");\n      formik.setFieldValue(\"fieldValue\", \"\");\n      formik.setFieldValue(\"index\", -1);\n      formik.setFieldValue(\"server_id\", -1);\n\n      handleClose?.();\n    },\n  });\n  useEffect(() => {\n    if (selectedOption) {\n      formik.setFieldValue(\"fieldName\", selectedOption.label);\n      formik.setFieldValue(\"fieldValue\", selectedOption.value);\n      formik.setFieldValue(\"index\", selectedOption.index);\n      formik.setFieldValue(\"id\", selectedOption.id);\n      formik.setFieldValue(\"server_id\", selectedOption.server_id);\n    }\n  }, [selectedOption]);\n\n  const handleSubmitForm = () => {\n    formik.submitForm();\n  };\n  const _handleClose = () => {\n    handleClose?.();\n    formik.setFieldValue(\"fieldName\", \"\");\n    formik.setFieldValue(\"fieldValue\", \"\");\n    formik.setFieldValue(\"index\", -1);\n  };\n  return (\n    <SideDialog\n      headerText={`${selectedOption ? \"ویرایش\" : \"افزودن\"} ${field.label}`}\n      headerIcon={<Add />}\n      open={open}\n      handleClose={_handleClose}\n    >\n      <SideDialog.Content>\n        <div className=\"p-7\">\n          <form onSubmit={formik.handleSubmit} className=\"w-full\">\n            <div className=\"mt-7 w-full grid grid-cols-1 gap-x-5 gap-y-7\">\n              <TextField\n                name=\"fieldName\"\n                label=\"عنوان فیلد\"\n                type=\"text\"\n                placeholder=\"عنوان فیلد را وارد نمایید\"\n                formik={formik}\n              />\n              <TextField\n                name=\"fieldValue\"\n                label=\"نامک فیلد\"\n                type=\"text\"\n                placeholder=\"نامک فیلد را وارد نمایید\"\n                formik={formik}\n              />\n            </div>\n          </form>\n        </div>\n      </SideDialog.Content>\n      <SideDialog.Footer>\n        <div className=\"mt-20 px-7 flex justify-between items-center py-[25px] border border-text-300\">\n          <div className=\"w-[126px]\">\n            <Button text=\"انصراف\" onClick={_handleClose} gray />\n          </div>\n          <div className=\"w-[182px]\">\n            <Button\n              text={`${selectedOption ? \"ویرایش\" : \"افزودن\"} ${field.label}`}\n              onClick={handleSubmitForm}\n            />\n          </div>\n        </div>\n      </SideDialog.Footer>\n    </SideDialog>\n  );\n};\n\nexport default AddDropdownItemDialog;\n","import { Add, Edit2, Trash } from \"iconsax-react\";\nimport { useEffect, useState } from \"react\";\nimport { FormField, FormOption } from \"../../../app/models/form\";\nimport Button from \"../../button/Button\";\nimport Switch from \"../../form/Switch\";\nimport TextField from \"../../form/TextField\";\nimport AddDropdownItemDialog, {\n  initialValues,\n} from \"../Dialogs/AddDropdownItemDialog\";\nimport { useTranslation } from \"react-i18next\";\nimport DropDown from \"components/form/Dropdown\";\nimport { useAppDispatch, useAppSelector } from \"app/redux/hooks\";\nimport { basicDatasList } from \"app/redux/basicData/actions\";\n\ntype FormBuilderEditElementTabProps = {\n  selectedField?: FormField;\n  handleUpdateField: (field: FormField) => void;\n  handleAddOption: (id: number, option: FormOption) => void;\n  handleUpdateOption: (id: number, option: FormOption, index: number) => void;\n  handleDeleteOption: (\n    id: number,\n    option: string,\n    server_id?: number | null\n  ) => void;\n  onlyImage: boolean;\n  setOnlyImage: (onlyImage: boolean) => void;\n  required: boolean;\n  setRequired: (required: boolean) => void;\n  fromBasicData: boolean;\n  setFromBasicData: (required: boolean) => void;\n};\n\nconst FormBuilderEditElementTab = ({\n  selectedField,\n  handleUpdateField,\n  handleAddOption,\n  handleDeleteOption,\n  handleUpdateOption,\n  onlyImage,\n  setOnlyImage,\n  required,\n  setRequired,\n  fromBasicData,\n  setFromBasicData,\n}: FormBuilderEditElementTabProps) => {\n  const [openAddDropdownItemDialog, setOpenAddDropdownItemDialog] =\n    useState<boolean>(false);\n  const [selectedOption, setSelectedOption] = useState<FormOption>();\n  const basicDatas = useAppSelector((state) => state.basicData.basicDatas);\n  const { t } = useTranslation();\n  const Dispatch = useAppDispatch();\n  console.log(\"selected\", selectedField);\n  const _handleUpdateField = (e: any) => {\n    if (selectedField) {\n      let tmp: FormField = { ...selectedField };\n      if (e.target.name == \"basic_data\") {\n        let basicDataTmp = basicDatas?.find((x) => x.id == e.target.value);\n        console.log(\"basicDataTmp\", basicDataTmp);\n\n        if (basicDataTmp) {\n          tmp = {\n            ...tmp,\n            [e.target.name]: basicDataTmp,\n            basic_data_id: basicDataTmp?.id,\n            basicDataItems: basicDataTmp.items.map((item) => ({\n              id: item.id,\n              label: <p>{item.name}</p>,\n              server_id: item.id,\n              value: item.code,\n            })),\n          };\n          handleUpdateField({ ...tmp });\n        }\n      } else {\n        tmp = {\n          ...tmp,\n          [e.target.name]: e.target.value,\n        };\n        handleUpdateField({ ...tmp });\n      }\n    }\n  };\n  useEffect(() => {\n    !basicDatas && Dispatch(basicDatasList());\n  }, []);\n  const _handleAddOption = (item: initialValues, update?: boolean) => {\n    if (selectedField) {\n      if (item.index !== undefined && item.index !== -1) {\n        handleUpdateOption(\n          selectedField.id,\n          {\n            label: <p>{item.fieldName}</p>,\n            value: item.fieldValue.toString(),\n            id: item.id,\n            server_id: item.server_id,\n          },\n          item.index\n        );\n      } else {\n        handleAddOption(selectedField.id, {\n          label: <p>{item.fieldName}</p>,\n          value: item.fieldValue.toString(),\n        });\n      }\n    }\n  };\n  const _handleOpenAddOptionDialog = (item?: FormOption) => {\n    console.log(\"ite\", item);\n    if (item?.label) {\n      setSelectedOption({\n        index: selectedField?.options?.findIndex(\n          (option) => option.value === item.value\n        ),\n        value: item.value,\n        label: item.label.props.children,\n        id: item.id,\n        server_id: item.server_id,\n      });\n    }\n    if (selectedField && selectedField?.options) {\n      setOpenAddDropdownItemDialog(true);\n    }\n  };\n  const _handleCloseAddOptionDialog = () => {\n    setSelectedOption(undefined);\n    setOpenAddDropdownItemDialog(false);\n  };\n  const _handleDeleteOption = (option: FormOption) => {\n    if (selectedField) {\n      handleDeleteOption(selectedField.id, option.value, option.server_id);\n    }\n  };\n  return (\n    <div>\n      {!selectedField ? (\n        <p>لطفا یک فیلد را برای ویرایش انتخاب کنید</p>\n      ) : selectedField.fromRelatedFields ? (\n        <p>این فیلد از طریق این فرم قابل ویرایش نمی باشد</p>\n      ) : selectedField.readOnly ? (\n        <p>این فیلد قابل ویرایش نمی باشد</p>\n      ) : (\n        <div className=\"w-full flex flex-col items-start justify-start px-4\">\n          <p className=\"text-text-450 mb-[20px]\">\n            نوع فیلد: {selectedField.type}\n          </p>\n          <TextField\n            className=\"mb-[30px]\"\n            name={\"label\"}\n            label={\"عنوان فیلد\"}\n            type=\"text\"\n            placeholder={\"عنوان فیلد\"}\n            formik={{\n              handleChange: (e: any) => _handleUpdateField(e),\n              values: {\n                label: selectedField.label,\n              },\n            }}\n          />\n          <TextField\n            className=\"mb-[30px]\"\n            name={\"name\"}\n            label={\"نامک فیلد\"}\n            type=\"text\"\n            placeholder={\"نامک فیلد\"}\n            formik={{\n              handleChange: (e: any) => _handleUpdateField(e),\n              values: {\n                name: selectedField.name,\n              },\n            }}\n          />\n          <TextField\n            className=\"group\"\n            name={\"placeholder\"}\n            label={\"متن جایگزین\"}\n            type=\"text\"\n            placeholder={\"متن جایگزین\"}\n            formik={{\n              handleChange: (e: any) => _handleUpdateField(e),\n              values: {\n                placeholder: selectedField.placeholder,\n              },\n            }}\n          />\n          <div className=\"w-full mt-[30px]\">\n            <Switch\n              checked={required}\n              setChecked={setRequired}\n              label={\"این فیلد اجباری می باشد\"}\n            />\n          </div>\n\n          {selectedField.options ? (\n            <div className=\"w-full mt-[30px]\">\n              <Switch\n                checked={fromBasicData}\n                setChecked={setFromBasicData}\n                label={t(\"fromBasicDatas\") || \"\"}\n              />\n            </div>\n          ) : (\n            \"\"\n          )}\n\n          {selectedField.options && fromBasicData ? (\n            <DropDown\n              className=\"group mt-[30px]\"\n              name={\"basic_data\"}\n              label={\"داده اولیه\"}\n              options={\n                basicDatas\n                  ? basicDatas.map((data) => {\n                      return {\n                        label: <p>{data.name}</p>,\n                        value: data.id.toString(),\n                      };\n                    })\n                  : []\n              }\n              placeholder={\"انتخاب کنید\"}\n              formik={{\n                handleChange: (e: any) => _handleUpdateField(e),\n                values: {\n                  basic_data: selectedField.basic_data?.id.toString(),\n                },\n              }}\n            />\n          ) : (\n            \"\"\n          )}\n\n          {selectedField.type === \"uploadFile\" && (\n            <div className=\"w-full mt-[30px]\">\n              <Switch\n                checked={onlyImage}\n                setChecked={setOnlyImage}\n                label={t(\"onlyImage\") || \"\"}\n              />\n            </div>\n          )}\n\n          {selectedField.options && !fromBasicData ? (\n            <AddDropdownItemDialog\n              open={openAddDropdownItemDialog}\n              handleClose={_handleCloseAddOptionDialog}\n              field={selectedField}\n              handleAddOption={_handleAddOption}\n              selectedOption={selectedOption}\n            />\n          ) : (\n            \"\"\n          )}\n\n          {selectedField.options && !fromBasicData ? (\n            <div className=\"w-full mt-[25px]\">\n              {selectedField.options.map(\n                (option: FormOption, index: number) => (\n                  <div\n                    key={index}\n                    className=\"mb-[10px] h-14 text-[14px] font-semibold flex items-center rounded-[8px] px-[18px] justify-between bg-text-250\"\n                  >\n                    <p>{option.label}</p>\n                    <div className=\"flex\">\n                      <div\n                        onClick={() => _handleOpenAddOptionDialog(option)}\n                        className=\"w-[24px] h-[24px] me-1 cursor-pointer hover:bg-text-300 flex items-center justify-center rounded-[4px]\"\n                      >\n                        <Edit2 className=\"w-[20px] h-[20px]\" />\n                      </div>\n                      <div\n                        onClick={() => _handleDeleteOption(option)}\n                        className=\"w-[24px] h-[24px] ms-1 cursor-pointer hover:bg-text-300 flex items-center justify-center rounded-[4px]\"\n                      >\n                        <Trash className=\"w-[20px] h-[20px]\" />\n                      </div>\n                    </div>\n                  </div>\n                )\n              )}\n              <div className=\"w-full flex items-center justify-end\">\n                <div className=\"w-[111px] mt-[30px] float-left\">\n                  <Button\n                    icon={<Add />}\n                    text=\"افزودن\"\n                    onClick={_handleOpenAddOptionDialog}\n                  />\n                </div>\n              </div>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\nexport default FormBuilderEditElementTab;\n","import { ReactElement } from \"react\";\n\ntype FormElementItemProps = {\n  icon: ReactElement;\n  label: string;\n  onClick: (element: any, id: number) => void;\n  type: string;\n  id: number;\n};\nconst FormElementItem = ({\n  icon,\n  label,\n  onClick,\n  type,\n  id,\n}: FormElementItemProps) => {\n  return (\n    <div\n      onClick={() => onClick(type, id)}\n      className=\"w-full h-[80px] flex flex-col items-center justify-center bg-text-200 rounded-[6px] cursor-pointer\"\n    >\n      <div>{icon}</div>\n      <p className=\"text-[12px] mt-[10px] text-text-700 font-medium\">{label}</p>\n    </div>\n  );\n};\nexport default FormElementItem;\n","var _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgNumericField(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 39,\n    height: 24,\n    viewBox: \"0 0 39 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.027 23h11.165c9.305 0 13.028-2.2 13.028-7.7V8.7c0-5.5-3.723-7.7-13.028-7.7H14.027C4.722 1 1 3.2 1 8.7v6.6C1 20.8 4.722 23 14.027 23z\",\n    stroke: \"#303030\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.62 14.227c0-.344-.002-.693-.007-1.045a22.997 22.997 0 0 0-.031-1.049c-.016-.346-.04-.687-.07-1.02a10.488 10.488 0 0 0-.134-.96 7.31 7.31 0 0 0-.207-.868 4.177 4.177 0 0 0-.305-.744l.998-.622c.135.211.249.433.34.665.091.233.167.474.227.724.063.248.113.504.153.767.041.261.08.527.117.799.026.208.047.434.063.676.015.243.027.49.035.74.01.25.017.498.02.744l.003.688v.505H7.621zM21.026 8.013c.03.188.051.36.067.517.016.156.023.3.023.434 0 .248-.036.493-.109.736-.073.24-.183.456-.329.65-.143.19-.323.345-.54.465a1.56 1.56 0 0 1-.755.176c-.068 0-.134-.001-.2-.004a2.127 2.127 0 0 1-.183-.024 23.971 23.971 0 0 1 .11 1.71c.007.29.01.574.01.854.003.279.005.54.005.786h-1.201c0-.438-.006-.88-.016-1.323a20.168 20.168 0 0 0-.063-1.287 12.676 12.676 0 0 0-.14-1.174 5.868 5.868 0 0 0-.251-.994l-.114-.274a3.357 3.357 0 0 0-.176-.387 4.952 4.952 0 0 0-.101-.192l1.01-.642a3.706 3.706 0 0 1 .25.458c.036.073.073.154.11.243l.124.297c.047.11.096.212.145.305.052.094.111.175.176.243a.764.764 0 0 0 .22.16.665.665 0 0 0 .285.051.48.48 0 0 0 .31-.094.498.498 0 0 0 .156-.223.923.923 0 0 0 .055-.3 7.02 7.02 0 0 0 .007-.326c0-.099-.006-.195-.02-.29a6.779 6.779 0 0 0-.046-.34l1.181-.211zM33.377 8.005l.078.43c.02.118.036.222.047.314a3.253 3.253 0 0 1 .035.47c0 .2-.026.4-.078.598a1.652 1.652 0 0 1-.247.536 1.3 1.3 0 0 1-.422.383c-.17.1-.372.15-.607.15a1.387 1.387 0 0 1-.693-.176 1.2 1.2 0 0 1-.23-.177c-.134.144-.28.25-.439.32a1.412 1.412 0 0 1-.563.103h-.145a1.181 1.181 0 0 1-.133-.016c.029.245.052.511.07.798.019.287.032.58.04.877.01.297.017.592.02.884.004.29.007.56.007.81h-1.213a11.068 11.068 0 0 0 .012-.47c.002-.09.004-.178.004-.262a7.2 7.2 0 0 0 .003-.207 23.603 23.603 0 0 0-.05-1.518c-.021-.272-.051-.546-.09-.822a8.511 8.511 0 0 0-.15-.818 6.242 6.242 0 0 0-.226-.779c-.091-.25-.2-.486-.325-.708l1.068-.622a3.06 3.06 0 0 1 .215.391c.04.076.081.163.126.263.044.096.095.21.152.34.058.133.106.243.145.329.042.083.084.15.125.2.042.049.09.084.141.105.053.018.12.027.204.027a.268.268 0 0 0 .176-.055.362.362 0 0 0 .11-.144.745.745 0 0 0 .058-.216c.01-.08.016-.164.016-.25 0-.096-.005-.2-.016-.31l-.039-.406 1.104-.157.027.263c.01.099.023.203.039.313.016.107.035.214.059.32.023.107.052.203.086.286.036.084.08.151.129.204.05.052.108.078.176.078a.147.147 0 0 0 .114-.047.362.362 0 0 0 .066-.121.75.75 0 0 0 .031-.153 1.05 1.05 0 0 0 .008-.266 2.124 2.124 0 0 0-.02-.168l-.042-.27a29.256 29.256 0 0 0-.075-.43l1.111-.224z\",\n    fill: \"#303030\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumericField);\nexport default __webpack_public_path__ + \"static/media/NumericField.5aaa2f830115a4867179a104cf7d2f9b.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgDropdown(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 39,\n    height: 24,\n    viewBox: \"0 0 39 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.027 23h11.165c9.305 0 13.028-2.2 13.028-7.7V8.7c0-5.5-3.723-7.7-13.028-7.7H14.027C4.722 1 1 3.2 1 8.7v6.6C1 20.8 4.722 23 14.027 23z\",\n    stroke: \"#303030\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m6 10.065 3.883 3.872 3.883-3.872\",\n    stroke: \"#303030\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropdown);\nexport default __webpack_public_path__ + \"static/media/Dropdown.4e6a7ad2d24d2f7fdc16c009e562310e.svg\";\nexport { ForwardRef as ReactComponent };","import { AnyAction, ThunkAction } from \"@reduxjs/toolkit\";\nimport formSlice from \"./slice\";\nimport { RootState } from \"../store\";\nimport formService from \"./service\";\n\nconst formActions = formSlice.actions;\n\nexport const getFormFieldTypes = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  AnyAction\n> => {\n  return async (dispatch, getState) => {\n    const response = await formService.getFormFieldTypes();\n    dispatch(formActions.getFormFieldTypes(response));\n  };\n};\n","import { ExportCurve, TextBlock, TickSquare } from \"iconsax-react\";\nimport FormElementItem from \"./FormElementItem\";\nimport { ReactComponent as Frame } from \"../../../assets/icons/Frame.svg\";\nimport { ReactComponent as NumericField } from \"../../../assets/icons/NumericField.svg\";\nimport { ReactComponent as Dropdown } from \"../../../assets/icons/Dropdown.svg\";\nimport { useAppDispatch, useAppSelector } from \"app/redux/hooks\";\nimport { useEffect } from \"react\";\nimport { getFormFieldTypes } from \"app/redux/forms/actions\";\nimport { Skeleton } from \"@mui/material\";\nimport { FormField } from \"app/models/form\";\nimport DropDown from \"components/form/Dropdown\";\nimport { useTranslation } from \"react-i18next\";\n\ntype FormBuilderElementsTabProps = {\n  addElement(element: any, id: number, fromRelatedFields?: boolean): void;\n  relatedFields?: FormField[];\n};\n\nconst FormBuilderElementsTab = ({\n  addElement,\n  relatedFields,\n}: FormBuilderElementsTabProps) => {\n  const { t } = useTranslation();\n  const formFieldTypes = useAppSelector((state) => state.forms.formFieldTypes);\n  const Dispatch = useAppDispatch();\n  useEffect(() => {\n    if (!formFieldTypes) {\n      Dispatch(getFormFieldTypes());\n    }\n  }, []);\n  const parseIcon = (icon: string): any => {\n    switch (icon) {\n      case \"TextBlock\":\n        return <TextBlock />;\n      case \"Frame\":\n        return <Frame />;\n      case \"NumericField\":\n        return <NumericField />;\n      case \"ExportCurve\":\n        return <ExportCurve />;\n      case \"Dropdown\":\n        return <Dropdown />;\n      case \"TickSquare\":\n        return <TickSquare />;\n      default:\n        return <TextBlock />;\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"grid grid-cols-3 gap-[10px] px-4\">\n        {formFieldTypes ? (\n          formFieldTypes.map((item, index) => (\n            <FormElementItem\n              key={item.id}\n              id={item.id}\n              type={item.type}\n              onClick={addElement}\n              icon={parseIcon(item.icon)}\n              label={item.label}\n            />\n          ))\n        ) : (\n          <>\n            {/* repeat 9 in loop skeleton */}\n            {Array.from(Array(9).keys()).map((item, index) => (\n              <Skeleton\n                key={index}\n                variant=\"rounded\"\n                width={80}\n                height={80}\n                animation=\"wave\"\n              />\n            ))}\n          </>\n        )}\n        {/* <FormElementItem\n          type=\"text\"\n          onClick={addElement}\n          icon={<TextBlock />}\n          label={\"متن کوتاه\"}\n        />\n        <FormElementItem\n          type=\"textArea\"\n          onClick={addElement}\n          icon={<Frame />}\n          label={\"متن بلند\"}\n        />\n        <FormElementItem\n          type=\"number\"\n          onClick={addElement}\n          icon={<NumericField />}\n          label={\"فیلد عددی\"}\n        />\n        <FormElementItem\n          type=\"uploadFile\"\n          onClick={addElement}\n          icon={<ExportCurve />}\n          label={\"آپلود فایل\"}\n        />\n        <FormElementItem\n          type=\"dropDown\"\n          onClick={addElement}\n          icon={<Dropdown />}\n          label={\"دراپ داون\"}\n        />\n        <FormElementItem\n          type=\"checkbox\"\n          onClick={addElement}\n          icon={<TickSquare />}\n          label={\"چند انتخابی\"}\n        /> */}\n      </div>\n      <div className=\"px-4\">\n        {relatedFields ? (\n          <DropDown\n            className=\"group mt-[30px]\"\n            name={\"relatedFields\"}\n            label={t(\"selectFromRelatedFields\")}\n            options={\n              relatedFields\n                ? relatedFields.map((data) => {\n                    return {\n                      label: (\n                        <p>\n                          {data.label} {t(\"fromStep\")}{\" \"}\n                          {data.form?.step?.step_name}\n                        </p>\n                      ),\n                      value: data.server_id?.toString(),\n                      type: data.type,\n                    };\n                  })\n                : []\n            }\n            placeholder={\"انتخاب کنید\"}\n            formik={{\n              handleChange: (e: any) => {\n                console.log(\"e\", e);\n                addElement(e.target.type, e.target.value, true);\n              },\n              values: {\n                relatedFields: 0,\n                // basic_data: selectedField.basic_data?.id.toString(),\n              },\n            }}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n    </div>\n  );\n};\nexport default FormBuilderElementsTab;\n","import { Button } from \"@mui/material\";\nimport { ArchiveTick, Trash } from \"iconsax-react\";\nimport { useEffect, useState } from \"react\";\nimport {\n  Condition,\n  FormField,\n  FormOption,\n  selectedFieldType,\n} from \"../../../app/models/form\";\nimport DropDown from \"../../form/Dropdown\";\nimport { useTranslation } from \"react-i18next\";\n\ntype ConditionItemProps = {\n  conditionalfields: FormField[];\n  formElements: FormField[];\n  condition: Condition;\n  setCondition: (condition: Condition) => void;\n  deleteCondition: (condition: number) => void;\n  saveCondition: (condition: number) => void;\n};\n\nconst ConditionItem = ({\n  conditionalfields,\n  formElements,\n  condition,\n  setCondition,\n  deleteCondition,\n  saveCondition,\n}: ConditionItemProps) => {\n  const [selectedField, setSelectedField] = useState<selectedFieldType>();\n  const [selectedFieldValue, setSelectedFieldValue] = useState<FormOption[]>(\n    []\n  );\n  const [operation, setOperation] = useState<FormOption>();\n  const [relationField, setRelationField] = useState<selectedFieldType>();\n  const { t } = useTranslation();\n  const handleDeleteItem = (item: any) => {\n    let index = selectedFieldValue.findIndex((x) => x.value == item.value);\n    if (index > -1) {\n      let newSelectedFieldValue = selectedFieldValue;\n      newSelectedFieldValue.splice(index, 1);\n      setSelectedFieldValue([...newSelectedFieldValue]);\n      updateConditions({\n        ...condition,\n        values: [...newSelectedFieldValue],\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (\n      condition.field &&\n      condition.operation &&\n      condition.relationField &&\n      condition.values\n    ) {\n      let selectedFieldTmp = conditionalfields.find(\n        (x) => x.id.toString() == condition.field\n      );\n\n      let relationFieldTmp = formElements.find(\n        (x) => x.id.toString() == condition.relationField\n      );\n      // let selectedFieldValueTmp = selectedFieldTmp?.options;\n\n      if (selectedFieldTmp && relationFieldTmp && condition.values) {\n        console.log();\n        setSelectedField({\n          label: selectedFieldTmp.label,\n          value: selectedFieldTmp.id.toString(),\n          options: selectedFieldTmp?.basicDataItems || selectedFieldTmp.options,\n        });\n\n        //its static\n        setOperation(condition.operation);\n\n        setRelationField({\n          label: relationFieldTmp.label,\n          value: relationFieldTmp.id.toString(),\n        });\n\n        setSelectedFieldValue(condition.values);\n      }\n    }\n  }, [condition, conditionalfields, formElements]);\n\n  const updateConditions = (condition: Condition) => {\n    let newCondition: Condition = {\n      ...condition,\n      saved: false,\n    };\n    setCondition({ ...newCondition });\n  };\n\n  //delete condition\n  const handleDeleteCondition = () => {\n    deleteCondition(condition.id);\n  };\n\n  //save condition\n  const handleSaveCondition = () => {\n    saveCondition(condition.id);\n  };\n  const handleChangeField = (e: any) => {\n    let selectedField = conditionalfields.find(\n      (x) => x.id.toString() == e.target.value\n    );\n    console.log(\"seleeee\", selectedField);\n\n    setSelectedField({\n      ...e,\n      options: selectedField?.basicDataItems || selectedField?.options,\n    });\n\n    setSelectedFieldValue([]);\n    updateConditions({\n      ...condition,\n      field: e.target.value,\n    });\n  };\n\n  const handleChangeOperation = (e: any) => {\n    setOperation(e.target);\n    updateConditions({ ...condition, operation: e.target });\n  };\n\n  const handleChangeRelationField = (e: any) => {\n    const field = formElements.find((x) => x.id.toString() == e.target.value);\n    if (field) {\n      setRelationField({ label: field.label, value: field.id.toString() });\n      updateConditions({\n        ...condition,\n        relationField: field.id,\n      });\n    }\n  };\n\n  const handleChangeValue = (e: any) => {\n    const options = selectedField?.options;\n    let index = selectedFieldValue.findIndex((x) => x.id == e.target.value);\n    if (index > -1) {\n    } else {\n      setSelectedFieldValue([\n        ...selectedFieldValue,\n        {\n          ...options.find((x: any) => x.id == e.target.value),\n        },\n      ]);\n      updateConditions({\n        ...condition,\n        values: [\n          ...selectedFieldValue,\n          {\n            ...options.find((x: any) => x.id == e.target.value),\n          },\n        ],\n      });\n    }\n  };\n  console.log(\"selecccc\", selectedField);\n  return (\n    <div className=\"w-full flex flex-col items-start justify-start px-4 border-b pb-[30px] border-text-400 mb-[18px]\">\n      <DropDown\n        className=\"group mb-[30px]\"\n        name={\"condField\"}\n        label={\"فیلد\"}\n        options={\n          conditionalfields &&\n          conditionalfields.map((field) => {\n            return {\n              label: <p>{field.label}</p>,\n              value: field.id.toString(),\n            };\n          })\n        }\n        placeholder={\"انتخاب کنید\"}\n        formik={{\n          handleChange: handleChangeField,\n          values: {\n            condField: selectedField?.value,\n          },\n        }}\n      />\n      <DropDown\n        className={`group ${selectedFieldValue.length > 0 ? \"mb-[15px]\" : \"mb-[30px]\"\n          }`}\n        name={\"condFieldValue\"}\n        label={\"برابر\"}\n        options={\n          selectedField &&\n          selectedField?.options?.map((option: any) => {\n            return {\n              label: option.label,\n              value: option.id,\n            };\n          })\n        }\n        placeholder={\n          selectedField ? \"انتخاب کنید\" : \"ابتدا فیلد را انتخاب کنید\"\n        }\n        formik={{\n          handleChange: handleChangeValue,\n          values: {\n            condFieldValue: null,\n          },\n        }}\n      />\n      {selectedFieldValue.length > 0 && (\n        <div className=\"flex items-center justify-start w-full mb-[30px]\">\n          {selectedFieldValue.map((item, index) => {\n            return (\n              <div\n                key={index}\n                className=\"w-[97px] h-[48px] rounded-[24px] border border-text-400 flex items-center justify-between pe-2 ps-4 me-2\"\n              >\n                <p className=\"text-[14px]\">{item.label}</p>\n                <div\n                  onClick={() => handleDeleteItem(item)}\n                  className=\"cursor-pointer\"\n                >\n                  <Trash className=\"w-[20px] h-[20px]\" />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n      <DropDown\n        className=\"group mb-[30px]\"\n        name={\"operation\"}\n        label={\"عملیات\"}\n        options={[\n          { label: <p>نمایش</p>, value: \"show\" },\n          { label: <p>عدم نمایش</p>, value: \"hide\" },\n        ]}\n        placeholder={\"عملیات\"}\n        formik={{\n          handleChange: handleChangeOperation,\n          values: {\n            operation: operation?.value,\n          },\n        }}\n      />\n      <DropDown\n        className=\"group mb-[30px]\"\n        name={\"relationField\"}\n        label={\"فیلد وابسته\"}\n        options={\n          formElements &&\n          selectedField &&\n          //form elements minus selected field\n          formElements\n            .filter((x) => x.id.toString() != selectedField.value)\n            .map((field) => {\n              return {\n                label: <p>{field.label}</p>,\n                value: field.id.toString(),\n              };\n            })\n        }\n        placeholder={\n          selectedField ? \"انتخاب کنید\" : \"ابتدا فیلد را انتخاب کنید\"\n        }\n        formik={{\n          handleChange: handleChangeRelationField,\n          values: {\n            relationField: relationField?.value,\n          },\n        }}\n      />\n      <div className=\"flex items-center justify-between w-full\">\n        <Button\n          onClick={handleDeleteCondition}\n          className={`h-[48px] ${condition?.saved ? \"w-full\" : \"w-[calc(50%-8px)] me-2\"\n            } !rounded-[8px]  !border !border-solid !border-error-primary !text-error-primary `}\n        >\n          <Trash />\n          <p className=\"text-[14px] font-bold ms-1\">{t(\"deleteCondition\")}</p>\n        </Button>\n        {!condition?.saved && (\n          <Button\n            onClick={handleSaveCondition}\n            className=\"h-[48px] w-[calc(50%-8px)] !rounded-[8px] ms-2 !border !border-solid !border-success-primary !text-success-primary\"\n          >\n            <ArchiveTick />\n            <p className=\"text-[14px] font-bold ms-1\">{t(\"saveCondition\")}</p>\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default ConditionItem;\n","import { useState } from \"react\";\nimport { Condition, FormField } from \"../../../app/models/form\";\nimport DropDown from \"../../form/Dropdown\";\nimport ConditionItem from \"./ConditionItem\";\nimport Button from \"../../../components/button/Button\";\nimport { Add } from \"iconsax-react\";\nimport SnackbarUtils from \"../../../app/utils/SnackbarUtils\";\nimport { useTranslation } from \"react-i18next\";\n\ntype FormBuilderConditionsTabProps = {\n  conditionalfields: FormField[];\n  formElements: FormField[];\n  saveConditions: (conditions: Condition[]) => void;\n  savedConditions: Condition[];\n};\nconst FormBuilderConditionsTab = ({\n  conditionalfields,\n  formElements,\n  saveConditions,\n  savedConditions,\n}: FormBuilderConditionsTabProps) => {\n  const [conditions, setConditions] = useState<Condition[]>([\n    ...savedConditions,\n  ]);\n  console.log(\"condiii\", conditions);\n  const {t} = useTranslation()\n  const handleAddCondition = () => {\n    if (conditionalfields.length > 0 && formElements.length >= 2) {\n      setConditions([\n        ...conditions,\n        {\n          id: Math.floor(Math.random() * 1000),\n          field: null,\n          operation: null,\n          values: [],\n          relationField: null,\n          saved: false,\n        },\n      ]);\n    } else {\n      SnackbarUtils.error(\n        \"فیلد های ایجاد شده برای ایجاد شرط فرم مناسب نمی باشند\"\n      );\n    }\n  };\n\n  const setCondition = (condition: Condition) => {\n    let index = conditions.findIndex((x) => x.id == condition.id);\n    if (index > -1) {\n      let newConditions = conditions;\n      newConditions[index] = condition;\n      setConditions([...newConditions]);\n    }\n  };\n\n  const handleDeleteCondition = (condition: number) => {\n    let index = conditions.findIndex((x) => x.id == condition);\n    if (index > -1) {\n      let newConditions = conditions;\n      newConditions.splice(index, 1);\n      setConditions([...newConditions]);\n    }\n    saveConditions([...conditions]);\n    SnackbarUtils.success(t('conditionDeleted'));\n  };\n\n  const handleSaveCondition = (condition: number) => {\n    //check all filds filled\n\n    let index = conditions.findIndex((x) => x.id == condition);\n    if (index > -1) {\n      let condTemp = conditions[index];\n      if (\n        condTemp.field &&\n        condTemp.operation &&\n        condTemp.values &&\n        condTemp.values.length > 0 &&\n        condTemp.relationField\n      ) {\n        //check if condtemp.field already exist in conditionalfields\n        let fieldIndex = conditionalfields.findIndex(\n          (x) => x.id == condTemp.field\n        );\n        if (fieldIndex > -1) {\n          //check if condtemp.relationField already exist in formElements\n          let relationFieldIndex = formElements.findIndex(\n            (x) => x.id == condTemp.relationField\n          );\n          if (relationFieldIndex > -1) {\n            //if related fields has readonly true cant save condition\n            if (formElements[relationFieldIndex].readOnly) {\n              SnackbarUtils.error(\"فیلد انتخاب شده در فرم قابل شرط گذاری نیست\");\n              return;\n            }\n\n            //finally save form!\n            let newConditions = conditions;\n            newConditions[index].saved = true;\n            setConditions([...newConditions]);\n            saveConditions(conditions);\n            SnackbarUtils.success(\"شرط ذخیره شد\");\n          } else {\n            SnackbarUtils.error(\"فیلد انتخاب شده در فرم وجود ندارد\");\n          }\n        } else {\n          SnackbarUtils.error(\"فیلد انتخاب شده در فرم وجود ندارد\");\n        }\n      } else {\n        SnackbarUtils.error(\"لطفا تمام فیلد های شرط را پر کنید\");\n      }\n    }\n  };\n\n  return (\n    <div>\n      {conditions &&\n        conditions.map((cond, index) => {\n          return (\n            <ConditionItem\n              key={index}\n              conditionalfields={conditionalfields}\n              formElements={formElements}\n              condition={cond}\n              setCondition={setCondition}\n              saveCondition={handleSaveCondition}\n              deleteCondition={handleDeleteCondition}\n            />\n          );\n        })}\n\n      <div className=\"w-full px-[16px]\">\n        <Button\n          icon={<Add />}\n          text=\"افزودن شرط جدید\"\n          onClick={handleAddCondition}\n        />\n      </div>\n    </div>\n  );\n};\nexport default FormBuilderConditionsTab;\n","import React, { ReactElement } from \"react\";\nimport { Condition, FormField, FormOption } from \"../../app/models/form\";\nimport Tabs from \"../tabs/Tabs\";\nimport FormBuilderEditElementTab from \"./editElement/FormBuilderEditElementTab\";\nimport FormBuilderElementsTab from \"./elements/FormBuilderElementsTab\";\nimport FormBuilderConditionsTab from \"./formConditions/FormBuilderConditionsTab\";\n\ntype FormBuilderSidebarProps = {\n  handleChangeTab: (value: string) => void;\n  selectedTab: string;\n  addElement(element: any, id: number): void;\n  selectedField?: FormField;\n  handleUpdateField: (field: FormField) => void;\n  handleAddOption: (id: number, option: FormOption) => void;\n  handleUpdateOption: (id: number, option: FormOption, index: number) => void;\n  handleDeleteOption: (\n    id: number,\n    option: string,\n    server_id?: number | null\n  ) => void;\n  setOnlyImage: (onlyImage: boolean) => void;\n  setRequired: (required: boolean) => void;\n  formElements: FormField[];\n  saveConditions: (conditions: Condition[]) => void;\n  savedConditions: Condition[];\n  setFromBasicData: (required: boolean) => void;\n  relatedFields?: FormField[];\n};\nconst FormBuilderSidebar = ({\n  handleChangeTab,\n  selectedTab,\n  addElement,\n  selectedField,\n  handleUpdateField,\n  handleAddOption,\n  handleDeleteOption,\n  handleUpdateOption,\n  setOnlyImage,\n  setRequired,\n  formElements,\n  saveConditions,\n  savedConditions,\n  setFromBasicData,\n  relatedFields,\n}: FormBuilderSidebarProps) => {\n  const handleSaveConditions = (conditions: Condition[]) => {\n    saveConditions(conditions);\n  };\n\n  const _renderTab = (): ReactElement => {\n    switch (selectedTab) {\n      case \"elements\":\n        return (\n          <FormBuilderElementsTab\n            addElement={addElement}\n            relatedFields={relatedFields}\n          />\n        );\n      case \"editElement\":\n        return (\n          <FormBuilderEditElementTab\n            handleUpdateField={handleUpdateField}\n            selectedField={selectedField}\n            handleAddOption={handleAddOption}\n            handleUpdateOption={handleUpdateOption}\n            handleDeleteOption={handleDeleteOption}\n            onlyImage={selectedField?.onlyImage || false}\n            setOnlyImage={setOnlyImage}\n            required={selectedField?.required || false}\n            setRequired={setRequired}\n            fromBasicData={selectedField?.basic_data_id ? true : false}\n            setFromBasicData={setFromBasicData}\n          />\n        );\n      case \"formConditions\":\n        return (\n          <FormBuilderConditionsTab\n            conditionalfields={formElements.filter((x) => x.options)}\n            formElements={formElements}\n            saveConditions={handleSaveConditions}\n            savedConditions={savedConditions}\n          />\n        );\n      default:\n        return <FormBuilderElementsTab addElement={addElement} />;\n    }\n  };\n  return (\n    <div className=\"min-h-[800px] basis-1/4 bg-white pt-[20px] me-3 border border-text-300\">\n      <Tabs\n        handleChange={handleChangeTab}\n        items={[\n          {\n            label: \"المان ها\",\n            value: \"elements\",\n          },\n          {\n            label: \"ویرایش المان\",\n            value: \"editElement\",\n          },\n          {\n            label: \"شرط های فرم\",\n            value: \"formConditions\",\n          },\n        ]}\n        value={selectedTab}\n      />\n      {_renderTab()}\n    </div>\n  );\n};\n\nexport default FormBuilderSidebar;\n","import { Copy, HambergerMenu, Information } from \"iconsax-react\";\nimport { ReactElement, useEffect, useRef, useState } from \"react\";\nimport { FormField } from \"../../../app/models/form\";\nimport TextField from \"../../form/TextField\";\nimport { Close, HourglassEmptyOutlined } from \"@mui/icons-material\";\nimport DropDown from \"../../form/Dropdown\";\nimport Checkbox from \"../../form/Checkbox\";\nimport CheckboxGroup from \"../../form/CheckboxGroup\";\nimport TextArea from \"../../form/TextArea\";\nimport UploadFile from \"../../form/UploadFile\";\nimport { useTranslation } from \"react-i18next\";\nimport { renderElement } from \"app/utils/FormActions\";\n\ntype FormContentProps = {\n  setFormElements: (formElements: any) => void;\n  formElements: FormField[];\n  handleSelectField: (formElement?: FormField) => void;\n  lastId: number;\n  setLastId: (lastId: number) => void;\n  selectedField?: FormField;\n  deleteItem: (item: FormField) => void;\n  saveFormLoading: boolean;\n};\n\nconst FormContent = ({\n  formElements,\n  setFormElements,\n  handleSelectField,\n  lastId,\n  setLastId,\n  selectedField,\n  deleteItem,\n  saveFormLoading,\n}: FormContentProps) => {\n  const { t } = useTranslation([\"common\", \"validations\"]);\n  console.log(\"el\", formElements);\n\n  // const renderElement = (element: FormField): ReactElement => {\n  //   switch (element.type) {\n  //     case \"text\":\n  //       return (\n  //         <TextField\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           type=\"text\"\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"textArea\":\n  //       return (\n  //         <TextArea\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"number\":\n  //       return (\n  //         <TextField\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           type=\"number\"\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"uploadFile\":\n  //       return (\n  //         <UploadFile\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           imageOnly={element.onlyImage}\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"dropDown\":\n  //       return (\n  //         <DropDown\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           options={element.basicDataItems || element.options}\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     case \"checkbox\":\n  //       return (\n  //         <CheckboxGroup\n  //           className=\"group\"\n  //           name={element.name}\n  //           label={element.label}\n  //           options={element.basicDataItems || element.options}\n  //           placeholder={element.placeholder}\n  //           inputActions={() => fieldActions(element)}\n  //           formik={{\n  //             handleChange: () => {},\n  //           }}\n  //         />\n  //       );\n  //     default:\n  //       return <p>not defined</p>;\n  //   }\n  // };\n  const fieldActions = (element: FormField) => {\n    return (\n      <div className=\"flex\">\n        <div className=\"flex opacity-0 pointer-events-none\tgroup-hover:pointer-events-auto\t group-hover:opacity-100 transition-all \">\n          {(!element.readOnly || element.fromRelatedFields) && (\n            <div\n              onClick={() => handleDeleteItem(element)}\n              id=\"deleteItem\"\n              className=\"cursor-pointer ms-2 w-[30px] h-[30px] rounded-full border border-error-primary flex items-center justify-center\"\n            >\n              <Close className=\"w-[16px] h-[16px] text-error-primary pointer-events-none\" />\n            </div>\n          )}\n          {!element.fromRelatedFields && (\n            <div\n              onClick={() => handleCopyItem(element)}\n              className=\"cursor-pointer ms-2 w-[30px] h-[30px] rounded-full border border-success-primary flex items-center justify-center\"\n            >\n              <Copy className=\"w-[16px] h-[16px] text-success-primary\" />\n            </div>\n          )}\n        </div>\n        {element.fromRelatedFields && (\n          <div className=\"ms-3 bg-secondary-main flex items-center justify-center px-2 py-0.5 rounded-full text-[11px]\">\n            {t(\"fromStep\")} {element.form?.step?.step_name}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const handleCopyItem = (element: FormField) => {\n    //copy element add add it just after the original element in the array\n    let tmp = [...formElements];\n    const index = tmp.indexOf(element);\n    // console.log(\"item\", index);\n\n    if (index > -1) {\n      tmp.splice(index + 1, 0, {\n        ...element,\n        id: lastId + 1,\n        server_id: null,\n        label: element.label + \" \" + t(\"copy\"),\n        name: element.name + (lastId + 1).toString(),\n        placeholder: element.placeholder + (lastId + 1).toString(),\n        readOnly: false,\n      });\n      setFormElements(tmp);\n      setLastId(lastId + 1);\n    }\n  };\n  const handleDeleteItem = (element: FormField) => {\n    deleteItem(element);\n  };\n\n  const dragItem = useRef<any>();\n  const dragOverItem = useRef<any>();\n\n  const dragStart = (e: any, position: any) => {\n    dragItem.current = position;\n  };\n\n  const dragEnter = (e: any, position: any) => {\n    dragOverItem.current = position;\n  };\n\n  const drop = (e: any) => {\n    const copyListItems = [...formElements];\n    const dragItemContent = copyListItems[dragItem.current];\n    copyListItems.splice(dragItem.current, 1);\n    copyListItems.splice(dragOverItem.current, 0, dragItemContent);\n    dragItem.current = null;\n    dragOverItem.current = null;\n    setFormElements(copyListItems);\n  };\n\n  //   console.log('formElements', formElements)\n  return (\n    <div className=\"px-4 py-6 draggable grid grid-cols-1 gap-9\">\n      {formElements.length === 0 && !saveFormLoading && (\n        <div className=\"flex flex-col items-center justify-center mt-8\">\n          <div className=\"w-[50px] rounded-full h-[50px] bg-primary-main text-white flex items-center justify-center\">\n            <Information />\n          </div>\n          <p className=\"text-gray-400 text-[16px] font-bold mt-4\">\n            {t(\"addFieldToStart\")}\n          </p>\n        </div>\n      )}\n      {formElements.map((element, index) => {\n        return (\n          <div\n            onDragStart={(e) => dragStart(e, index)}\n            onDragEnter={(e) => dragEnter(e, index)}\n            onDragEnd={drop}\n            key={index}\n            onClick={(e: any) => {\n              e.target.id !== \"deleteItem\" && handleSelectField(element);\n            }}\n            draggable\n            className=\"flex\"\n          >\n            <div\n              className={`me-3 cursor-move ${\n                selectedField?.id === element.id ? \"text-primary-main\" : \"\"\n              }`}\n            >\n              <HambergerMenu />\n            </div>\n            {renderElement(element, fieldActions, undefined, true)}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\nexport default FormContent;\n","import { ArchiveTick, Eye } from \"iconsax-react\";\nimport { useEffect, useState } from \"react\";\nimport { Condition, FormField, FormOption } from \"../../app/models/form\";\nimport { setCollapseMenu } from \"../../app/redux/application/actions\";\nimport { useAppDispatch, useAppSelector } from \"../../app/redux/hooks\";\nimport Breadcrumb from \"../../components/breadcrumb/Breadcrumb\";\nimport Button from \"../../components/button/Button\";\nimport FormBuilderSidebar from \"../../components/formBuilder/FormBuilderSidebar\";\nimport FormContent from \"../../components/formBuilder/formContent/FormContent\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { getProductStepInfo } from \"app/redux/products/actions\";\nimport formService from \"app/redux/forms/service\";\nimport { CircularProgress } from \"@mui/material\";\nimport SnackbarUtils from \"app/utils/SnackbarUtils\";\nimport FullscreenLoading from \"components/loading/FullscreenLoading\";\n\nconst FormBuilder = () => {\n  const Dispatch = useAppDispatch();\n  let { code, step_id } = useParams();\n  const formFieldTypes = useAppSelector((state) => state.forms.formFieldTypes);\n\n  useEffect(() => {\n    Dispatch(setCollapseMenu(true));\n  });\n  const [selectedTab, setSelectedTab] = useState<string>(\"elements\");\n  const handleChangeTab = (value: string): void => {\n    console.log(\"value\", value);\n    value === \"formConditions\" && handleSaveForm();\n    setSelectedTab(value);\n  };\n  const [formElements, setFormElements] = useState<FormField[]>([]);\n  const [formRelatedElements, setFormRelatedElements] = useState<FormField[]>(\n    []\n  );\n  const [selectedField, setSelectedField] = useState<FormField>();\n  const [savedConditions, setSavedConditions] = useState<Condition[]>([]);\n  const [saveFormLoading, setSaveFormLoading] = useState<boolean>(true);\n  const basicDatas = useAppSelector((state) => state.basicData.basicDatas);\n\n  const [formId, setFormId] = useState<number>(0);\n  const productStepInfo = useAppSelector(\n    (state) => state.products.productStepInfo\n  );\n  const [lastId, setLastId] = useState<number>(0);\n  const { t } = useTranslation([\"common\", \"validations\"]);\n  const Navigate = useNavigate();\n  useEffect(() => {\n    Dispatch(getProductStepInfo(parseInt(step_id || \"0\")));\n    return () => {\n      Dispatch(setCollapseMenu(false));\n      Dispatch(getProductStepInfo(parseInt(\"0\")));\n    };\n  }, []);\n  const handleAddElement = (\n    element: string,\n    id: number,\n    fromRelatedFields?: boolean\n  ) => {\n    let tmp: FormField = {\n      name: \"input\" + element + (lastId + 1).toString(),\n      placeholder: element + (lastId + 1).toString(),\n      label: \"عنوان فیلد\",\n      type: element,\n      typeId: id,\n      required: false,\n      id: lastId + 1,\n    };\n    if (element === \"dropDown\" || element === \"checkbox\") {\n      tmp = { ...tmp, options: [] };\n    }\n    if (element === \"uploadFile\") {\n      tmp = { ...tmp, onlyImage: false };\n    }\n\n    //if from related elements\n    if (fromRelatedFields) {\n      let relatedTmp = formRelatedElements.find((x) => x.server_id == id);\n      // console.log(\"relatedTmp\", relatedTmp);\n      if (relatedTmp) {\n        tmp = { ...relatedTmp, fromRelatedFields: fromRelatedFields };\n      }\n    }\n\n    setFormElements([...formElements, tmp]);\n    setLastId(lastId + 1);\n  };\n  const handleSelectField = (element?: FormField) => {\n    if (!element) {\n      setSelectedField(undefined);\n      handleChangeTab(\"elements\");\n    } else {\n      setSelectedField(element);\n      handleChangeTab(\"editElement\");\n    }\n  };\n  const handleUpdateField = (field: FormField) => {\n    let tmp = [...formElements];\n    let foundIndex = tmp.findIndex((x) => x.id == field.id);\n    if (foundIndex !== -1) {\n      tmp[foundIndex] = { ...field };\n      setFormElements([...tmp]);\n      setSelectedField({ ...field });\n    }\n  };\n  const handleAddOption = (id: number, option: FormOption) => {\n    let tmp = [...formElements];\n    let foundIndex = tmp.findIndex((x) => x.id == id);\n    if (foundIndex !== -1 && tmp[foundIndex].options) {\n      const options = tmp[foundIndex].options || [];\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        options: [\n          ...options,\n          { ...option, id: Math.floor(Math.random() * 100) },\n        ],\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n  const handleUpdateOption = (\n    id: number,\n    option: FormOption,\n    index: number\n  ) => {\n    let tmp = [...formElements];\n    let foundIndex = tmp.findIndex((x) => x.id == id);\n    if (foundIndex !== -1 && tmp[foundIndex].options) {\n      let options = tmp[foundIndex].options || [];\n      options[index] = option;\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        options: [...options],\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n\n  const handleDeleteOption = (\n    id: number,\n    option: string,\n    server_id?: number | null\n  ) => {\n    let tmp = [...formElements];\n    let foundIndex = tmp.findIndex((x) => x.id == id);\n    if (foundIndex !== -1 && tmp[foundIndex].options) {\n      let options = [...(tmp[foundIndex].options || [])];\n      let optionIndex = options.findIndex((x) => x.value == option);\n      if (optionIndex > -1) {\n        options.splice(optionIndex, 1);\n        tmp[foundIndex] = {\n          ...tmp[foundIndex],\n          options: [...options],\n        };\n\n        setFormElements([...tmp]);\n        setSelectedField({ ...tmp[foundIndex] });\n      }\n    }\n\n    //server side delete if item has server_id\n    if (server_id) {\n      formService.deleteOption(server_id).then((res) => {\n        // console.log(\"res\", res);\n      });\n    }\n  };\n\n  const setOnlyImage = (value: boolean) => {\n    let tmp = [...formElements];\n\n    let foundIndex = tmp.findIndex((x) => x.id == selectedField?.id);\n\n    if (foundIndex > -1) {\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        onlyImage: value,\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n\n  const setRequired = (value: boolean) => {\n    let tmp = [...formElements];\n\n    let foundIndex = tmp.findIndex((x) => x.id == selectedField?.id);\n\n    if (foundIndex > -1) {\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        required: value,\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n  const setFromBasicData = (value: boolean) => {\n    // console.log('val',value)\n    let tmp = [...formElements];\n\n    let foundIndex = tmp.findIndex((x) => x.id == selectedField?.id);\n\n    if (foundIndex > -1) {\n      let basicDataId = tmp[foundIndex].basic_data?.id || basicDatas?.[0].id;\n\n      console.log(\"bas\", basicDataId);\n      tmp[foundIndex] = {\n        ...tmp[foundIndex],\n        basic_data_id: value == true ? basicDataId : null,\n        basic_data:\n          value == true ? tmp[foundIndex].basic_data || basicDatas?.[0] : null,\n        basicDataItems:\n          value == true\n            ? (tmp[foundIndex].basic_data || basicDatas?.[0]).items.map(\n                (item: any) => ({\n                  id: item.id,\n                  label: <p>{item.name}</p>,\n                  server_id: item.id,\n                  value: item.code,\n                })\n              )\n            : null,\n      };\n      setFormElements([...tmp]);\n      setSelectedField({ ...tmp[foundIndex] });\n    }\n  };\n  // console.log('form',formElements)\n  const saveConditions = (conditions: Condition[]) => {\n    setSavedConditions([...conditions.filter((x) => x.saved)]);\n    console.log(\"[...conditions.filter((x) => x.saved)]\", [\n      ...conditions.filter((x) => x.saved),\n    ]);\n    handleSaveForm(null, [...conditions.filter((x) => x.saved)]);\n  };\n  const handleDeleteItem = async (element: FormField) => {\n    try {\n      //set loading\n      setSaveFormLoading(true);\n      if (element.server_id) {\n        await formService.deleteItem(element.server_id, formId);\n      }\n      //add alert for delete\n      // console.log(\"eleme\", element);\n      let tmp = [...formElements];\n      const index = tmp.indexOf(element);\n      if (index > -1) {\n        tmp.splice(index, 1);\n        setFormElements(tmp);\n        if (element.id == selectedField?.id) {\n          // setTimeout(() => {\n          handleSelectField(undefined);\n          // }, 1);\n        }\n      }\n\n      SnackbarUtils.success(t(\"fieldDeletedSuccessfully\"));\n      setSaveFormLoading(false);\n    } catch (error) {\n      // SnackbarUtils.error(t(\"error\"));\n      setSaveFormLoading(false);\n    }\n  };\n  const handleBack = () => {\n    Navigate(`/products/${code}/steps`);\n  };\n\n  useEffect(() => {\n    if (productStepInfo && formFieldTypes) {\n      if (productStepInfo.forms?.length > 0) {\n        setSaveFormLoading(true);\n        setFormId(productStepInfo.forms?.[0].id);\n        loadForm(productStepInfo.forms?.[0].id);\n      } else {\n        createForm(\n          productStepInfo.global_step,\n          productStepInfo.product?.count_type\n        );\n      }\n    }\n  }, [productStepInfo, formFieldTypes]);\n  const loadForm = async (id: number) => {\n    const response = await formService.getForm(id);\n    handleSetFormElements(response);\n    handleSetFormElements(response, true);\n    handleSetFormConditions(response);\n    setSaveFormLoading(false);\n  };\n\n  const handleSetFormConditions = (response: any) => {\n    let { conditions, fields, id } = response;\n    let tmp: Condition[] = [];\n    //group conditions by form_field_id\n    conditions?.map((item: any) => {\n      //find field\n      let field = fields.find((x: any) => x.id == item.form_field_id);\n\n      console.log(\"fff\", field);\n      //find field options\n      let options = (field?.basicDataItems || field?.options)?.map((x: any) => {\n        return {\n          id: x.id,\n          label: x.label,\n          server_id: x.id,\n          value: x.option,\n        };\n      });\n      console.log(\"fff\", options);\n\n      let foundIndex = tmp.findIndex((x: any) => x.field == item.form_field_id);\n      if (foundIndex > -1) {\n        //find specific option\n        let option = options?.find(\n          (x: any) =>\n            x.id == (item.basic_data_item_id || item.form_field_option_id)\n        );\n        console.log(\"p[topnnnnsss\", options);\n        console.log(\"p[topnnnnsss\", option);\n        console.log(\"p[topnnnnsss\", item);\n\n        tmp[foundIndex]?.values?.push({\n          id: option?.id,\n          label: option?.label,\n          server_id: option?.id,\n          value: option?.value,\n        });\n      } else {\n        //find specific option\n        let option = options?.find(\n          (x: any) =>\n            x.id == (item.basic_data_item_id || item.form_field_option_id)\n        );\n\n        tmp.push({\n          field: item.form_field_id,\n          id: item.id,\n          operation:\n            item.operation == 1\n              ? { name: \"operation\", value: \"show\" }\n              : { name: \"operation\", value: \"hide\" },\n          relationField: item.relational_form_field_id,\n          saved: true,\n          values: [\n            {\n              id: option?.id,\n              label: option?.label,\n              server_id: option?.id,\n              value: option?.value,\n            },\n          ],\n        });\n      }\n    });\n\n    console.log(\"tmp123\", [...tmp]);\n    setSavedConditions([...tmp]);\n  };\n\n  const handleSetFormElements = (form: any, relatedFields?: boolean) => {\n    let tmp: FormField[] = [];\n    let parseableArray = relatedFields ? form.relatedFields : form.fields;\n    console.log(\"formId\", form.id);\n    parseableArray?.forEach((item: any) => {\n      console.log(\"item\", item);\n      let tmpItem: FormField = {\n        id: item.id,\n        name: item.name,\n        type: item.type?.type,\n        typeId: item.form_field_type_id,\n        label: item.label,\n        placeholder: item.placeholder,\n        required: item.required,\n        basic_data: item.basic_data,\n        basic_data_id: item.basic_data?.id || null,\n        form: item.form && item.form?.id != form.id ? item.form : null,\n        fromRelatedFields:\n          item.form?.id && item.form?.id != form.id ? true : false,\n        basicDataItems:\n          ((item.basicDataItems && item.basicDataItems.length > 0) ||\n            item.type?.has_options) &&\n          item.basicDataItems?.map((option: any) => {\n            return {\n              id: option.id,\n              server_id: option.id,\n              value: option.option,\n              label: <p>{option.label}</p>,\n            };\n          }),\n        options:\n          ((item.options && item.options.length > 0) ||\n            item.type?.has_options) &&\n          item.options?.map((option: any) => {\n            return {\n              id: option.id,\n              server_id: option.id,\n              value: option.option,\n              label: <p>{option.label}</p>,\n            };\n          }),\n        onlyImage: JSON.parse(item.validation)?.onlyImage,\n        server_id: item.id,\n        readOnly: JSON.parse(item.validation)?.readOnly,\n      };\n      tmp.push(tmpItem);\n    });\n    relatedFields ? setFormRelatedElements(tmp) : setFormElements(tmp);\n  };\n\n  const createForm = async (globalStepInfo: any, countType: string) => {\n    const stepDesc = globalStepInfo?.description;\n    const response = await formService.createForm({\n      name: \"form\" + productStepInfo?.id,\n      product_id: productStepInfo?.product_id,\n      product_steps: productStepInfo?.id?.toString(),\n    });\n    setFormId(response.id);\n    if (stepDesc === \"initialOrder\" && countType === \"m2\") {\n      //create two items and add to DB readonly\n      await formService.updateForm(response.id, {\n        conditions: [],\n        fields: [\n          {\n            basic_data_id: null,\n            form_field_type_id: formFieldTypes?.find((x) => x.type == \"number\")\n              ?.id,\n            helper_text: 1,\n            label: \"عرض\",\n            max: 100,\n            min: 1,\n            name: \"width\",\n            order: 0,\n            origin_form_id: null,\n            placeholder: \"عرض را وارد کنید\",\n            required: true,\n            validation: `{\"readOnly\":true}`,\n          },\n          {\n            basic_data_id: null,\n            form_field_type_id: formFieldTypes?.find((x) => x.type == \"number\")\n              ?.id,\n            helper_text: 2,\n            label: \"ارتفاع\",\n            max: 100,\n            min: 1,\n            name: \"height\",\n            order: 1,\n            origin_form_id: null,\n            placeholder: \"ارتفاع را وارد کنید\",\n            required: true,\n            validation: `{\"readOnly\":true}`,\n          },\n        ],\n        name: \"form\" + productStepInfo?.id,\n      });\n    }\n    loadForm(response.id);\n\n    setSaveFormLoading(false);\n  };\n\n  const handleSaveForm = async (e?: any, passedConditions?: Condition[]) => {\n    //save form fields and save their ids as server_id\n    setSaveFormLoading(true);\n    let tmp = [...formElements];\n    let condTmp = [...savedConditions];\n    console.log(\"pass\", formElements);\n\n    if (passedConditions) {\n      condTmp = [...passedConditions];\n    }\n    console.log(\"tmp\", tmp);\n    //check if we dont have two field with same name\n    let names = tmp.map((item) => item.name);\n    let duplicateNames = names.filter(\n      (item, index) => names.indexOf(item) != index\n    );\n    if (duplicateNames.length > 0) {\n      //tell in error that which fields are duplicate\n      let duplicateFields = tmp.filter((item) =>\n        duplicateNames.includes(item.name)\n      );\n      let duplicateFieldsNames = duplicateFields.map((item) => item.label);\n      SnackbarUtils.error(\n        t(\"validations:fieldNamesMustBeUnique\") + duplicateFieldsNames\n      );\n      setSaveFormLoading(false);\n      return;\n    }\n    let res = formService.updateForm(formId, {\n      name: \"form\" + productStepInfo?.id,\n      fields: tmp.map((item, index) => {\n        let validationTmp: any = {};\n        if (item.type === \"uploadFile\") {\n          validationTmp.onlyImage = item.onlyImage;\n        }\n        if (item.readOnly) {\n          validationTmp.readOnly = item.readOnly;\n        }\n\n        return {\n          server_id: item.server_id,\n          name: item.name,\n          form_field_type_id: item.typeId,\n          label: item.label,\n          placeholder: item.placeholder,\n          required: item.required,\n          helper_text: item.id,\n          validation: JSON.stringify(validationTmp),\n          min: 1,\n          max: 100,\n          order: index,\n          origin_form_id: item.fromRelatedFields ? item.form.id : null,\n          hasOptions: item.options && item.options.length > 0,\n          basic_data: item.basic_data,\n          basic_data_id: item.basic_data_id || null,\n          // basic_data_id: item.basic_data?.id || null,\n\n          basicDataItems:\n            item.basicDataItems &&\n            item.basicDataItems.length > 0 &&\n            item.basicDataItems?.map((option: any) => {\n              return {\n                id: option.id,\n                server_id: option.id,\n                value: option.option,\n                label: <p>{option.label}</p>,\n              };\n            }),\n          options:\n            item.options &&\n            item.options.length > 0 &&\n            item.options?.map((x) => {\n              return {\n                option: x.value,\n                label: x.label.props.children,\n                id: x.server_id,\n              };\n            }),\n        };\n      }),\n      conditions: condTmp.map((item, index) => {\n        return {\n          form_id: formId,\n          form_field_id: item.field,\n          form_field_options_id: item.values?.map((value) => {\n            return value.id;\n          }),\n          operation: item.operation?.value === \"show\" ? 1 : 0,\n          relational_form_field_id: item.relationField,\n        };\n      }),\n    });\n    res.then((response) => {\n      console.log(\"updated!\", response);\n\n      handleSetFormElements(response);\n      handleSetFormConditions(response);\n      handleSetFormElements(response, true);\n\n      setSaveFormLoading(false);\n      SnackbarUtils.success(t(\"formSavedSuccessfully\"));\n    });\n    res.catch((error) => {\n      setSaveFormLoading(false);\n      SnackbarUtils.error(t(\"formSaveError\"));\n    });\n  };\n\n  return (\n    <div className=\"w-full h-full\">\n      {saveFormLoading && (\n        <FullscreenLoading />\n        // <div className=\"flex-col w-full h-full fixed top-0 left-0 bg-[rgba(0,0,0,0.8)] z-[9999] pointer-events-auto flex justify-center items-center\">\n        //   <CircularProgress />\n        //   <p className=\"text-white mt-4\">لطفا چند لحظه صبر کنید...</p>\n        // </div>\n      )}\n      <Breadcrumb\n        handleBack={handleBack}\n        actions={\n          <>\n            {\" \"}\n            <div className=\"w-[186px]\">\n              <Button\n                icon={<Eye />}\n                text={t(\"viewForm\")}\n                onClick={() => {}}\n                gray\n              />\n            </div>\n            <div className=\"w-[138px] ms-4\">\n              <Button\n                icon={<ArchiveTick />}\n                text={t(\"saveForm\")}\n                onClick={handleSaveForm}\n              />\n            </div>\n          </>\n        }\n        title={`${t(\"formBuilder\")} ${t(\"step\")} ${\n          productStepInfo?.step_name\n        } ${t(\"product\")} ${productStepInfo?.product?.name}`}\n      />\n      <div className=\"w-full flex\">\n        <FormBuilderSidebar\n          handleChangeTab={handleChangeTab}\n          selectedTab={selectedTab}\n          addElement={handleAddElement}\n          selectedField={selectedField}\n          handleUpdateField={handleUpdateField}\n          handleAddOption={handleAddOption}\n          handleUpdateOption={handleUpdateOption}\n          handleDeleteOption={handleDeleteOption}\n          setOnlyImage={setOnlyImage}\n          setRequired={setRequired}\n          formElements={formElements}\n          saveConditions={saveConditions}\n          savedConditions={savedConditions}\n          setFromBasicData={setFromBasicData}\n          relatedFields={formRelatedElements}\n        />\n        <div className=\"basis-3/4 bg-white ms-2\">\n          <FormContent\n            lastId={lastId}\n            setLastId={setLastId}\n            saveFormLoading={saveFormLoading}\n            formElements={formElements}\n            selectedField={selectedField}\n            setFormElements={setFormElements}\n            handleSelectField={handleSelectField}\n            deleteItem={handleDeleteItem}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FormBuilder;\n"],"names":["basicDataActions","basicDataSlice","basicDatasList","dispatch","getState","basicDataService","response","_path","items","value","handleChange","className","map","item","index","onClick","label","checked","setChecked","open","handleClose","field","handleAddOption","selectedOption","initialValues","id","fieldName","fieldValue","server_id","formik","useFormik","onSubmit","values","console","log","setFieldValue","useEffect","_handleClose","SideDialog","headerText","headerIcon","Add","handleSubmit","TextField","name","type","placeholder","Button","text","gray","submitForm","selectedField","handleUpdateField","handleDeleteOption","handleUpdateOption","onlyImage","setOnlyImage","required","setRequired","fromBasicData","setFromBasicData","useState","openAddDropdownItemDialog","setOpenAddDropdownItemDialog","setSelectedOption","basicDatas","useAppSelector","state","basicData","t","useTranslation","Dispatch","useAppDispatch","_handleUpdateField","e","tmp","target","basicDataTmp","find","x","code","_handleOpenAddOptionDialog","options","findIndex","option","props","children","fromRelatedFields","readOnly","data","toString","basic_data","undefined","update","Edit2","_handleDeleteOption","Trash","icon","_excluded","_extends","Object","assign","bind","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgFrame","_ref","svgRef","title","titleId","width","height","viewBox","fill","xmlns","ref","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_path2","ForwardRef","SvgNumericField","SvgDropdown","formActions","formSlice","addElement","relatedFields","formFieldTypes","forms","formService","getFormFieldTypes","parseIcon","TextBlock","ExportCurve","TickSquare","Array","from","Skeleton","variant","animation","form","step","step_name","conditionalfields","formElements","condition","setCondition","deleteCondition","saveCondition","setSelectedField","selectedFieldValue","setSelectedFieldValue","operation","setOperation","relationField","setRelationField","selectedFieldTmp","relationFieldTmp","basicDataItems","updateConditions","newCondition","saved","condField","condFieldValue","newSelectedFieldValue","splice","handleDeleteItem","filter","ArchiveTick","saveConditions","savedConditions","conditions","setConditions","newConditions","handleDeleteCondition","SnackbarUtils","handleSaveCondition","condTemp","relationFieldIndex","cond","Math","floor","random","handleChangeTab","selectedTab","handleSaveConditions","basic_data_id","_renderTab","setFormElements","handleSelectField","lastId","setLastId","deleteItem","saveFormLoading","fieldActions","element","Close","handleCopyItem","Copy","dragItem","useRef","dragOverItem","drop","copyListItems","dragItemContent","current","Information","onDragStart","position","onDragEnter","onDragEnd","draggable","HambergerMenu","renderElement","useParams","step_id","setCollapseMenu","setSelectedTab","handleSaveForm","formRelatedElements","setFormRelatedElements","setSavedConditions","setSaveFormLoading","formId","setFormId","productStepInfo","products","Navigate","useNavigate","getProductStepInfo","parseInt","loadForm","createForm","global_step","product","count_type","handleSetFormElements","handleSetFormConditions","fields","form_field_id","foundIndex","basic_data_item_id","form_field_option_id","push","relational_form_field_id","parseableArray","forEach","tmpItem","typeId","form_field_type_id","has_options","JSON","parse","validation","globalStepInfo","countType","stepDesc","description","product_id","product_steps","helper_text","max","min","order","origin_form_id","passedConditions","condTmp","names","duplicateNames","duplicateFields","includes","duplicateFieldsNames","res","validationTmp","stringify","hasOptions","form_id","form_field_options_id","then","catch","error","FullscreenLoading","Breadcrumb","handleBack","actions","Eye","relatedTmp","optionIndex","basicDataId"],"sourceRoot":""}