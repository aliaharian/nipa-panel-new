(self.webpackChunknipa_panel_new=self.webpackChunknipa_panel_new||[]).push([[5744],{9722:function(e,t,r){"use strict";var n=r(4165),o=r(5861),i=r(516);function a(){return(a=(0,o.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,i.Z)())||void 0===t?void 0:t.get("/order");case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=(0,o.Z)((0,n.Z)().mark((function e(t){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(0,i.Z)())||void 0===r?void 0:r.get("/order/"+t);case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,o.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,i.Z)())||void 0===t?void 0:t.get("/orderGroup");case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=(0,o.Z)((0,n.Z)().mark((function e(t){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(0,i.Z)())||void 0===r?void 0:r.post("/orderGroup",{customer_code:t});case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=(0,o.Z)((0,n.Z)().mark((function e(t){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(0,i.Z)())||void 0===r?void 0:r.post("/order",t);case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,o.Z)((0,n.Z)().mark((function e(t){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=(0,i.Z)())||void 0===r?void 0:r.get("/order/"+t+"/complete");case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,o.Z)((0,n.Z)().mark((function e(t,r){var o,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(o=(0,i.Z)())||void 0===o?void 0:o.get("/step/"+t+"/"+r+"/complete");case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.Z={ordersList:function(){return a.apply(this,arguments)},createOrder:function(e){return c.apply(this,arguments)},createOrderGroup:function(e){return s.apply(this,arguments)},orderGroupsList:function(){return l.apply(this,arguments)},orderDetail:function(e){return u.apply(this,arguments)},getCompleteInfo:function(e){return d.apply(this,arguments)},getStepInfo:function(e,t){return p.apply(this,arguments)}}},1699:function(e,t,r){"use strict";r.r(t);var n=r(3433),o=r(1413),i=r(4165),a=r(5861),u=r(9439),l=r(2841),s=r(6718),c=r(7689),d=r(9230),p=r(2791),f=r(5705),v=r(9351),m=r(9722),h=r(5601),y=r(1724),Z=r(2636),b=r(174),x=r(184);t.default=function(){var e,t=(0,c.s0)(),r=(0,d.$G)().t,w=(0,c.UO)(),k=w.orderId,g=w.stepId,_=(0,p.useState)(!1),O=(0,u.Z)(_,2),E=O[0],j=O[1],S=(0,p.useState)([]),L=(0,u.Z)(S,2),T=L[0],I=L[1],M=(0,p.useState)(),C=(0,u.Z)(M,2),F=C[0],z=C[1],B=(0,p.useState)(),P=(0,u.Z)(B,2),N=P[0],R=P[1],A=(0,p.useState)([]),D=(0,u.Z)(A,2),W=D[0],H=D[1],G=(0,p.useState)(),U=(0,u.Z)(G,2),V=U[0],q=U[1],Y=(0,p.useState)(),J=(0,u.Z)(Y,2),$=J[0],K=J[1],Q=(0,f.TA)({initialValues:$,validationSchema:V,enableReinitialize:!0,onSubmit:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("done!",F),!k||!F){e.next=9;break}return j(!0),e.next=5,h.Z.addUserAnswer(parseInt(k),F.id,n);case 5:e.sent,j(!1),b.Z.success(r("submitFormSuccess")),t("/orders/");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});(0,p.useEffect)((function(){console.log("called!",T),K((0,v.YB)(T)),q(y.Ry().shape((0,v.YT)(T,W,Q)))}),[T,W]),(0,p.useEffect)((function(){X()}),[]);var X=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,r,a,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.getStepInfo(Number(g),Number(k));case 2:return r=e.sent,R(r),e.next=6,h.Z.getForm(null===r||void 0===r?void 0:r.form.id,k);case 6:a=e.sent,z(a),u=[],null===(t=a.fields)||void 0===t||t.map((function(e){var t,r,n,i={key:e.id,name:e.name,placeholder:e.placeholder,label:e.label,type:e.type.type,typeId:e.type.id,required:e.required,answer:e.userAnswer,id:e.id,fromRelatedFields:!(null===e||void 0===e||null===(t=e.form)||void 0===t||!t.id||(null===e||void 0===e||null===(r=e.form)||void 0===r?void 0:r.id)==(null===a||void 0===a?void 0:a.id))};("dropDown"!==e.type.type&&"checkbox"!==e.type.type||(i=e.basic_data_id?(0,o.Z)((0,o.Z)({},i),{},{basic_data:e.basic_data,basic_data_id:e.basic_data_id,basicDataItems:e.basicDataItems.map((function(e){return{key:e.id,id:e.id,label:(0,x.jsx)("p",{children:e.label}),server_id:e.id,value:e.option}})),answer:e.userAnswer}):(0,o.Z)((0,o.Z)({},i),{},{options:e.options.map((function(t){return{id:t.id,key:t.id,label:(0,x.jsx)("p",{children:t.label}),server_id:t.id,value:t.option,answer:e.userAnswer}}))})),"uploadFile"===e.type.type)&&(i=(0,o.Z)((0,o.Z)({},i),{},{onlyImage:null===(n=JSON.parse(e.validation))||void 0===n?void 0:n.onlyImage,setPending:j,noBadge:!0}));u.push((0,o.Z)({},i))})),H((0,n.Z)(a.conditions)),I([].concat(u));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"w-full h-full",children:[(0,x.jsx)(s.Z,{title:(null===N||void 0===N||null===(e=N.step)||void 0===e?void 0:e.step_name)||"",handleBack:function(){return t("/orders")}}),(0,x.jsx)("div",{className:"w-full flex gap-x-[20px]",children:(0,x.jsx)("div",{className:"w-full bg-white border border-text-300 h-min rounded-[6px] px-[20px] py-[24px]",children:(0,x.jsxs)("form",{onSubmit:Q.handleSubmit,children:[E&&(0,x.jsx)(l.Z,{}),(0,x.jsx)("div",{children:T&&Q&&(null===Q||void 0===Q?void 0:Q.values)&&Object.keys(null===Q||void 0===Q?void 0:Q.values).length>0&&T.map((function(e,t){var r=W.find((function(t){return t.relational_form_field_id==e.id})),n=!0;if(r){var o,i,a,u,l,s=T.find((function(e){return e.id==r.form_field_id}));if(s)if(s.basic_data_id)o=null===s||void 0===s||null===(i=s.basicDataItems)||void 0===i?void 0:i.find((function(e){return e.server_id==r.form_field_option_id}));else o=null===s||void 0===s||null===(a=s.options)||void 0===a?void 0:a.find((function(e){return e.server_id==r.form_field_option_id}));if(s&&o)if(1==r.operation)n=Q.values[s.name]===o.value||(null===(u=Q.values[s.name])||void 0===u?void 0:u.indexOf(o.value))>-1;else n=!(Q.values[s.name]===o.value||(null===(l=Q.values[s.name])||void 0===l?void 0:l.indexOf(o.value))>-1)}return n?(0,x.jsx)("div",{className:"mt-[30px]",children:(0,v.lw)(e,(function(){}),Q)},t):(0,x.jsx)(x.Fragment,{})}))}),(0,x.jsx)("div",{className:"mt-[32px]",children:(0,x.jsx)(Z.Z,{after:!0,onClick:function(){console.log("formi",Q.values)},text:r("submitForm2")})})]})})})]})}},9145:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(7573),o=r(2791),i=r(2007),a=r.n(i),u=["variant","color","size"],l=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{fill:t,d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2zm2.34 10.53l-4.29 4.29c-.15.15-.34.22-.53.22s-.38-.07-.53-.22a.754.754 0 010-1.06l3.01-3.01H6c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h10.19l-3.01-3.01a.754.754 0 010-1.06c.29-.29.77-.29 1.06 0l4.29 4.29a.75.75 0 010 1.06z"}))},s=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M14.43 5.93L20.5 12l-6.07 6.07M11.01 12h9.32M3.5 12h3.47"}))},c=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{fill:t,d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2z",opacity:".4"}),o.createElement("path",{fill:t,d:"M18.53 11.47l-4.29-4.29a.754.754 0 00-1.06 0c-.29.29-.29.77 0 1.06l3.01 3.01H6c-.41 0-.75.34-.75.75s.34.75.75.75h10.19l-3.01 3.01c-.29.29-.29.77 0 1.06.15.15.34.22.53.22s.38-.07.53-.22l4.29-4.29a.75.75 0 000-1.06z"}))},d=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M14.43 5.93L20.5 12l-6.07 6.07M3.5 12h16.83"}))},p=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{fill:t,d:"M14.43 18.82c-.19 0-.38-.07-.53-.22a.754.754 0 010-1.06L19.44 12 13.9 6.46a.754.754 0 010-1.06c.29-.29.77-.29 1.06 0l6.07 6.07c.29.29.29.77 0 1.06l-6.07 6.07c-.15.15-.34.22-.53.22z"}),o.createElement("path",{fill:t,d:"M20.33 12.75H3.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h16.83c.41 0 .75.34.75.75s-.34.75-.75.75z"}))},f=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M14.43 5.93L20.5 12l-6.07 6.07"}),o.createElement("path",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5",d:"M3.5 12h16.83",opacity:".4"}))},v=(0,o.forwardRef)((function(e,t){var r=e.variant,i=e.color,a=e.size,v=(0,n._)(e,u);return o.createElement("svg",(0,n.a)({},v,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:a,height:a,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return o.createElement(l,{color:t});case"Broken":return o.createElement(s,{color:t});case"Bulk":return o.createElement(c,{color:t});case"Linear":default:return o.createElement(d,{color:t});case"Outline":return o.createElement(p,{color:t});case"TwoTone":return o.createElement(f,{color:t})}}(r,i))}));v.propTypes={variant:a().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:a().string,size:a().oneOfType([a().string,a().number])},v.defaultProps={variant:"Linear",color:"currentColor",size:"24"},v.displayName="ArrowRight"},7573:function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,{_:function(){return o},a:function(){return n}})},888:function(e,t,r){"use strict";var n=r(9047);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},2007:function(e,t,r){e.exports=r(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=5744.dd90659b.chunk.js.map