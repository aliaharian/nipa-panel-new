"use strict";(self.webpackChunknipa_panel_new=self.webpackChunknipa_panel_new||[]).push([[7781],{2737:function(e,n,t){t.d(n,{C:function(){return s},T:function(){return i}});var r=t(9434),i=function(){return(0,r.I0)()},s=r.v9},5138:function(e,n,t){t.d(n,{BU:function(){return a},Ir:function(){return f},ZU:function(){return u},bJ:function(){return c},gg:function(){return l},l$:function(){return v},nM:function(){return d},zm:function(){return p}});var r=t(4165),i=t(5861),s=t(685),o=t(5359).Z.actions,a=function(){return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.productsList();case 2:i=e.sent,n(o.productsList(i));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},u=function(e){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,i){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.productStepsList(e);case 2:a=n.sent,t(o.productStepsList(a));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},c=function(e){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,i){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e){n.next=2;break}return n.abrupt("return",t(o.productStepInfo(null)));case 2:return n.next=4,s.Z.productStepInfo(e);case 4:a=n.sent,t(o.productStepInfo(a));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,i){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.saveProduct(e);case 2:a=n.sent,t(o.saveProduct(a));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},d=function(e,n){return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i,u){var c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.updateProduct(e,n);case 2:c=t.sent,i(o.updateProduct(c)),i(a());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},p=function(e){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,i){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(o.setSaveSuccess(e));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},f=function(e){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,i){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.deleteProduct(e);case 2:a=n.sent,t(o.deleteProduct(a));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},v=function(e){return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,i){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(o.setDeleteSuccess(e));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},685:function(e,n,t){var r=t(4165),i=t(5861),s=t(516);function o(){return(o=(0,i.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,s.Z)())||void 0===n?void 0:n.get("/products");case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,s.Z)())||void 0===t?void 0:t.get("/product/".concat(n,"/steps"));case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,s.Z)())||void 0===t?void 0:t.get("/productSteps/".concat(n));case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(i=(0,s.Z)())||void 0===i?void 0:i.post("/product/steps/".concat(n,"/setRoles"),{roles:t.join(",")});case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,s.Z)())||void 0===t?void 0:t.post("/products",{name:n.name,code:n.code,custom:n.custom,price:n.price,count_type:n.count_type,status:n.status,description:n.description,images:null===(i=n.images)||void 0===i?void 0:i.map((function(e){return e.hashCode}))});case 2:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(i=(0,s.Z)())||void 0===i?void 0:i.put("/products/".concat(n),{name:t.name,code:t.code,custom:t.custom,count_type:t.count_type,price:t.price,status:t.status,description:t.description,images:null===(o=t.images)||void 0===o?void 0:o.map((function(e){return e.hashCode}))});case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,s.Z)())||void 0===t?void 0:t.delete("/products/".concat(n));case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,s.Z)())||void 0===t?void 0:t.get("/products/".concat(n));case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(0,s.Z)())||void 0===t?void 0:t.post("/product/steps/conditions",{step_id:n.stepId,field_id:n.fieldId,option_id:n.optionId,next_step_id:n.nextStepId});case 2:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.Z={productsList:function(){return o.apply(this,arguments)},saveProduct:function(e){return l.apply(this,arguments)},deleteProduct:function(e){return p.apply(this,arguments)},productStepsList:function(e){return a.apply(this,arguments)},productStepInfo:function(e){return u.apply(this,arguments)},setProductStepRoles:function(e,n){return c.apply(this,arguments)},addProductConditions:function(e){return v.apply(this,arguments)},getProduct:function(e){return f.apply(this,arguments)},updateProduct:function(e,n){return d.apply(this,arguments)}}},1400:function(e,n,t){t.d(n,{Z:function(){return d}});var r,i=t(2791),s=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function u(e,n){var t=e.title,u=e.titleId,c=a(e,s);return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:n,"aria-labelledby":u},c),t?i.createElement("title",{id:u},t):null,r||(r=i.createElement("path",{d:"m7.75 12 2.83 2.83 5.67-5.66",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}var c=i.forwardRef(u),l=(t.p,t(184)),d=function(e){var n=e.name,t=e.label,r=e.value,i=e.className,s=e.checked,o=e.handleCheck;return(0,l.jsxs)("div",{className:"flex me-4 mb-4 items-start justify-start relative cursor-pointer ".concat(i),onClick:o,children:[(0,l.jsx)("input",{type:"checkbox",checked:s,value:r,name:n,onChange:o,className:"absolute top-0 left-0 opacity-0"}),(0,l.jsx)("div",{className:"w-6 h-6  rounded-[4px] me-2\n      ".concat(s?"border-none bg-primary-main":"border border-text-400","\n      "),children:(0,l.jsx)(c,{className:"text-white"})}),(0,l.jsx)("p",{className:"text-[14px]",children:t})]})}},8923:function(e,n,t){t(2791);var r=t(9504),i=t.n(r),s=t(4110),o=t(3466),a=t(1193),u=t(9230),c=t(184);n.Z=function(e){var n,t,r,l,d,p,f,v,m,x,h=e.name,Z=e.label,w=e.formik,b=e.type,y=void 0===b?"text":b,j=e.placeholder,g=e.maskChar,k=e.className,C=e.mask,N=e.inputActions,P=e.normal,S=e.endEndorement,R=e.multiline,_=e.readonly,O=e.value,I=(0,u.$G)().i18n;return(0,c.jsxs)("div",{className:"flex flex-col w-full items-start justify-start ".concat(k),children:[Z&&(0,c.jsxs)("div",{className:"text-sm mb-2 flex justify-between w-full",children:[(0,c.jsx)("label",{htmlFor:h,className:"font-normal !text-xs",children:Z}),null===N||void 0===N?void 0:N()]}),P?(0,c.jsx)(s.Z,{value:"number"==y?a.ZP.toPersianDigitsPutCommas(null===w||void 0===w||null===(l=w.values)||void 0===l?void 0:l[h]):null===w||void 0===w||null===(d=w.values)||void 0===d?void 0:d[h],type:"text",readOnly:_,id:h,name:h,multiline:R,rows:R?4:1,placeholder:j||"",onChange:function(e){var n=a.ZP.convetToEnglishDigitsRemoveCommas(e.target.value),t="";if("number"==y){var r=n.replace(/[^0-9.]/g,"").split(".");t=r.length>1?(r[0]||"0")+"."+(r[1]||""):r[0]}else t=e.target.value;null===w||void 0===w||w.handleChange({target:{name:h,value:t}})},disableUnderline:!0,endAdornment:(0,c.jsx)(o.Z,{position:"end",children:S}),className:"!text-sm text-text-400 w-full ".concat(R?"h-[100px] resize-none !p-2":"h-12"," border border-text-400 rounded-[8px] p-2 focus:border-primary-main !outline-none invalid:border-error-primary ").concat(null!==w&&void 0!==w&&null!==(p=w.errors)&&void 0!==p&&p[h]&&null!==w&&void 0!==w&&null!==(f=w.touched)&&void 0!==f&&f[h]?"!border-error-primary":"")}):(0,c.jsx)(i(),{mask:C||"",maskChar:g||" ",value:O||(null===w||void 0===w||null===(n=w.values)||void 0===n?void 0:n[h]),type:y,dir:I.dir(),className:"w-full h-12 border border-text-400 rounded-[8px] p-2 text-sm focus:border-primary-main !outline-none invalid:border-error-primary ".concat(null!==w&&void 0!==w&&null!==(t=w.errors)&&void 0!==t&&t[h]&&null!==w&&void 0!==w&&null!==(r=w.touched)&&void 0!==r&&r[h]?"!border-error-primary":""),id:h,name:h,style:{direction:"tel"==y?"ltr":I.dir()},placeholder:j||"",readOnly:_,onChange:function(e){null===w||void 0===w||w.handleChange({target:{name:h,value:e.target.value}})}}),(null===w||void 0===w||null===(v=w.errors)||void 0===v?void 0:v[h])&&(null===w||void 0===w||null===(m=w.touched)||void 0===m?void 0:m[h])&&(0,c.jsx)("p",{className:"text-error-primary text-[10px] mt-1",children:null===w||void 0===w||null===(x=w.errors)||void 0===x?void 0:x[h]})]})}},9788:function(e,n,t){t(2791);var r=t(3455),i=t(7139),s=t(9230),o=t(2636),a=t(3239),u=t(184);n.Z=function(e){var n=e.open,t=e.onClose,c=e.title,l=e.handleConfirm,d=e.loading,p=(0,s.$G)(["common","validations"]).t;return(0,u.jsxs)(r.Z,{open:n,onClose:t,children:[(0,u.jsx)("div",{className:"w-14 h-14 mb-[10px] bg-primary-250 rounded-full items-center justify-center flex text-primary-main",children:(0,u.jsx)(i.Z,{variant:"Bold"})}),(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"text-center text-[16px] font-semibold mb-[35px]",children:c})}),(0,u.jsxs)("div",{className:"flex items-center justify-between w-full max-w-[236px]",children:[(0,u.jsx)("div",{className:"w-[102px]",children:(0,u.jsx)(o.Z,{disabled:d,text:d?(0,u.jsx)(a.Z,{color:"inherit",size:24}):p("yes"),onClick:d?function(){}:l})}),(0,u.jsx)("div",{className:"w-[102px]",children:(0,u.jsx)(o.Z,{disabled:d,text:p("no"),onClick:d?function(){}:t,bordered:!0})})]})]})}},3455:function(e,n,t){var r=t(1413),i=t(5931),s=t(3542),o=t(195),a=t(2791),u=t(184),c=a.forwardRef((function(e,n){return(0,u.jsx)(i.Z,(0,r.Z)({direction:"up",ref:n},e))}));n.Z=function(e){var n=e.open,t=e.onClose,r=e.children;return(0,u.jsx)(s.Z,{open:n,TransitionComponent:c,keepMounted:!0,onClose:t,"aria-describedby":"alert-dialog-slide-description",sx:{"& .MuiDialog-paper":{width:"452px"}},children:(0,u.jsx)(o.Z,{className:"flex items-center justify-center flex-col",children:r})})}},9354:function(e,n,t){var r=t(7047),i=t(184);n.Z=function(){return(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsx)("div",{className:"w-full h-[71px] bg-text-200 border border-text-300 rounded-t-[4px] grid grid-cols-6 items-center justify-center px-4",children:Array.from(Array(5).keys()).map((function(e,n){return(0,i.jsx)(r.Z,{variant:"rounded",width:"37px",height:18,animation:"wave"},n)}))}),Array.from(Array(5).keys()).map((function(e,n){return(0,i.jsxs)("div",{className:"w-full h-[71px] border border-text-300 border-t-0 rounded-t-[4px] grid grid-cols-6 items-center justify-center px-4",children:[Array.from(Array(5).keys()).map((function(e,n){return(0,i.jsx)(r.Z,{variant:"rounded",width:"45px",height:18,animation:"wave"},n)})),(0,i.jsx)("div",{className:"w-[120px] flex items-cente justify-center",children:(0,i.jsx)("div",{className:"w-[92px] h-[38px] rounded-full border border-text-400 flex items-center justify-center",children:(0,i.jsx)(r.Z,{variant:"rounded",width:"47px",height:14,animation:"wave"})})})]},n)}))]})}},7781:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r=t(4165),i=t(5861),s=t(9439),o=t(2634),a=t(7139),u=t(4370),c=t(2791),l=t(6718),d=t(2636),p=t(1310),f=t(1594),v=t(2737),m=t(9230),x=t(9788),h=t(174),Z=t(7689),w=t(9354),b=t(516);function y(){return(y=(0,i.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,b.Z)())||void 0===n?void 0:n.get("/roles");case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=(0,i.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(0,b.Z)())||void 0===n?void 0:n.get("/permissions");case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return g=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.name,s=n.code,o=n.permissions,e.next=3,null===(t=(0,b.Z)())||void 0===t?void 0:t.post("/roles",{name:i,slug:s,permissions:o});case 3:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 5:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function k(){return k=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s,o,a,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.name,s=n.code,o=n.permissions,a=n.id,e.next=3,null===(t=(0,b.Z)())||void 0===t?void 0:t.put("/roles/"+a,{name:i,slug:s,permissions:o});case 3:return u=e.sent,e.abrupt("return",null===u||void 0===u?void 0:u.data);case 5:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function C(){return(C=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.roleId,e.next=3,null===(t=(0,b.Z)())||void 0===t?void 0:t.delete("/roles/"+i);case 3:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N={rolesList:function(){return y.apply(this,arguments)},permissionsList:function(){return j.apply(this,arguments)},addRole:function(e){return g.apply(this,arguments)},deleteRole:function(e){return C.apply(this,arguments)},updateRole:function(e){return k.apply(this,arguments)}},P=t(1107).Z.actions,S=function(){return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.rolesList();case 2:i=e.sent,n(P.rolesList(i));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},R=t(1193),_=t(3433),O=t(1413),I=t(9134),L=t(8923),A=t(5705),E=t(1724),T=t(5138),F=t(1400),D=t(184),B=function(e){var n=e.open,t=e.handleClose,o=e.permissions,a=e.selectedRole,l=(0,m.$G)(["common","validations"]).t,p=(0,v.T)();console.log("sele",a);var f=(0,c.useState)(!1),x=(0,s.Z)(f,2),Z=x[0],w=x[1],b=E.Ry().shape({code:E.Z_().required(l("roleCode.required",{ns:"validations"})||""),name:E.Z_().required(l("roleName.required",{ns:"validations"})||"")}),y={code:(null===a||void 0===a?void 0:a.slug)||"",name:(null===a||void 0===a?void 0:a.name)||"",permissions:(null===a||void 0===a?void 0:a.permissions)||[]},j=(0,A.TA)({initialValues:y,validationSchema:b,onSubmit:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("valuekkkks",n),w(!0),e.prev=2,!a){e.next=8;break}return e.next=6,N.updateRole((0,O.Z)((0,O.Z)({},n),{},{id:a.id}));case 6:e.next=10;break;case 8:return e.next=10,N.addRole(n);case 10:g(),p((0,T.zm)(!1)),h.Z.success(l("addRoleSuccess")),w(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),w(!1);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(n){return e.apply(this,arguments)}}()});(0,c.useEffect)((function(){var e;a&&(j.setFieldValue("code",null===a||void 0===a?void 0:a.slug),j.setFieldValue("name",null===a||void 0===a?void 0:a.name),j.setFieldValue("permissions",null===a||void 0===a||null===(e=a.permissions)||void 0===e?void 0:e.map((function(e){return e.id}))))}),[a]);var g=function(){t&&t(),j.resetForm()},k=function(e){var n=(0,_.Z)(j.values.permissions),t=n.indexOf(e.id);t>-1?(n.splice(t,1),e.childs&&e.childs.map((function(e){(t=n.indexOf(e.id))>-1&&n.splice(t,1)}))):(n.push(e.id),e.childs&&e.childs.map((function(e){-1===(t=n.indexOf(e.id))&&n.push(e.id)})),e.parent_id&&-1===(t=n.indexOf(e.parent_id))&&n.push(e.parent_id)),j.setFieldValue("permissions",(0,_.Z)(n))};return(0,D.jsxs)(I.Z,{headerText:l(a?"editRole":"addRole"),headerIcon:(0,D.jsx)(u.Z,{}),open:n,handleClose:g,children:[(0,D.jsx)(I.Z.Content,{children:(0,D.jsxs)("div",{className:"p-7 font-bold text-[18px]",children:[(0,D.jsx)("p",{className:"text-start",children:l("enterProductDetail")}),(0,D.jsxs)("form",{onSubmit:j.handleSubmit,className:"w-full",children:[(0,D.jsxs)("div",{className:"mt-7 w-full grid grid-cols-2 gap-x-5 gap-y-7",children:[(0,D.jsx)(L.Z,{name:"code",label:l("roleCode"),type:"text",placeholder:l("roleCode.placeholder",{ns:"validations"}),formik:j}),(0,D.jsx)(L.Z,{name:"name",label:l("roleName"),type:"text",placeholder:l("roleName.placeholder",{ns:"validations"}),formik:j})]}),(0,D.jsxs)("div",{className:"mt-[35px]",children:[(0,D.jsx)("p",{className:"text-start text-[14px] text-text-900 font-normal mb-2",children:l("permissions")}),(0,D.jsx)("div",{className:"border px-[20px] py-[27px] border-text-400 rounded-[6px]",children:o?(0,D.jsx)("div",{className:"grid grid-cols-2",children:o.map((function(e,n){return(0,D.jsxs)("div",{children:[(0,D.jsx)(F.Z,{className:"font-normal",name:"permissions",value:e.slug,label:e.name,checked:j.values.permissions.includes(e.id)||!1,handleCheck:function(){return k(e)}},n),e.childs&&(0,D.jsx)("div",{className:"ps-9",children:e.childs.map((function(e,n){return(0,D.jsx)(F.Z,{className:"font-normal",name:"permissions",value:e.slug,label:e.name,checked:j.values.permissions.includes(e.id)||!1,handleCheck:function(){return k(e)}},n)}))})]},n)}))}):(0,D.jsx)(D.Fragment,{})})]})]})]})}),(0,D.jsx)(I.Z.Footer,{children:(0,D.jsxs)("div",{className:"py-[24px] border-t border-text-300 px-7 flex justify-between",children:[(0,D.jsx)("div",{className:"w-[126px]",children:(0,D.jsx)(d.Z,{disabled:Z,text:"\u0627\u0646\u0635\u0631\u0627\u0641",onClick:g,gray:!0})}),(0,D.jsx)("div",{className:"w-[207px]",children:(0,D.jsx)(d.Z,{disabled:Z,icon:(0,D.jsx)(u.Z,{}),text:l(a?"editRole":"addRole"),onClick:function(){j.handleSubmit()}})})]})})]})},V=function(){var e=(0,v.C)((function(e){return e.rolePermissions.roles})),n=(0,c.useState)([]),t=(0,s.Z)(n,2),b=t[0],y=t[1],j=(0,c.useState)(!1),g=(0,s.Z)(j,2),k=g[0],C=g[1],_=((0,Z.s0)(),(0,m.$G)("common").t),O=(0,c.useState)(null),I=(0,s.Z)(O,2),L=I[0],A=I[1],E=(0,c.useState)(!1),T=(0,s.Z)(E,2),F=T[0],V=T[1],$=(0,c.useState)(!1),q=(0,s.Z)($,2),z=q[0],G=q[1],M=(0,v.C)((function(e){return e.rolePermissions.permissions}));(0,c.useEffect)((function(){!M&&U(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.permissionsList();case 2:i=e.sent,n(P.permissionsList(i));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}),[]);var U=(0,v.T)();(0,c.useEffect)((function(){U(S())}),[]),(0,c.useEffect)((function(){if(e){var n=[{name:_("title"),selector:function(e){return e.name},sortable:!0},{name:_("createDate"),selector:function(e){return R.ZP.toPersianDigits(R.ZP.renderChatTime(R.ZP.dateToTimestamp(e.created_at)))},sortable:!0},{name:_("usersCount"),selector:function(e){return R.ZP.toPersianDigits(e.users_count)},sortable:!0}];n.push({allowOverflow:!0,button:!0,width:"120px",cell:function(e){return(0,D.jsx)(f.Z,{items:[{icon:(0,D.jsx)(o.Z,{variant:"Bold"}),text:_("edit"),name:"edit",disabled:!1},{icon:(0,D.jsx)(a.Z,{variant:"Bold"}),text:_("delete"),name:"delete",disabled:e.users_count>0}],handleAction:J,row:e})}}),y([].concat(n))}}),[e]);var J=function(e,n){switch(console.log("row",e),console.log("action",n),A(e),n){case"delete":C(!0);break;case"edit":G(!0)}},W=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.prev=1,e.next=4,N.deleteRole({roleId:L.id});case 4:V(!1),C(!1),U(S()),h.Z.success(_("deleteProductSuccess")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),V(!1),C(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return(0,D.jsxs)("div",{className:"w-full h-full",children:[(0,D.jsx)(B,{open:z,handleClose:function(){G(!1),U(S()),A(null)},selectedRole:L,permissions:M}),(0,D.jsx)(x.Z,{title:_("deleteRoleConfirmation"),open:k,onClose:function(){C(!1)},handleConfirm:W,loading:F}),(0,D.jsx)(l.Z,{actions:(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{className:"w-[186px] ms-4",children:(0,D.jsx)(d.Z,{icon:(0,D.jsx)(u.Z,{}),text:_("addRole"),onClick:function(){return G(!0)}})})}),title:_("rolePermissions")}),(0,D.jsx)("div",{children:e?(0,D.jsx)(p.Z,{columns:b,data:e||[]}):(0,D.jsx)(w.Z,{})})]})}}}]);
//# sourceMappingURL=7781.afcfecc8.chunk.js.map